function aw(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const s=Object.getOwnPropertyDescriptor(a,o);s&&Object.defineProperty(r,o,s.get?s:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var M6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Th(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function a(){var o=!1;try{o=this instanceof a}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var o=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return r[a]}})}),n}var Dp={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function sw(){if(m2)return ch;m2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,s){var c=null;if(s!==void 0&&(c=""+s),o.key!==void 0&&(c=""+o.key),"key"in o){s={};for(var h in o)h!=="key"&&(s[h]=o[h])}else s=o;return o=s.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:s}}return ch.Fragment=e,ch.jsx=n,ch.jsxs=n,ch}var y2;function ow(){return y2||(y2=1,Dp.exports=sw()),Dp.exports}var O=ow(),Pp={exports:{}},en={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function lw(){if(b2)return en;b2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,L={};function k(G,se,j){this.props=G,this.context=se,this.refs=L,this.updater=j||y}k.prototype.isReactComponent={},k.prototype.setState=function(G,se){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,se,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function N(){}N.prototype=k.prototype;function $(G,se,j){this.props=G,this.context=se,this.refs=L,this.updater=j||y}var I=$.prototype=new N;I.constructor=$,E(I,k.prototype),I.isPureReactComponent=!0;var z=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function ye(G,se,j,U,V,te){return j=te.ref,{$$typeof:r,type:G,key:se,ref:j!==void 0?j:null,props:te}}function oe(G,se){return ye(G.type,se,void 0,void 0,void 0,G.props)}function W(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function ve(G){var se={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(j){return se[j]})}var D=/\/+/g;function F(G,se){return typeof G=="object"&&G!==null&&G.key!=null?ve(""+G.key):se.toString(36)}function Q(){}function ee(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Q,Q):(G.status="pending",G.then(function(se){G.status==="pending"&&(G.status="fulfilled",G.value=se)},function(se){G.status==="pending"&&(G.status="rejected",G.reason=se)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function be(G,se,j,U,V){var te=typeof G;(te==="undefined"||te==="boolean")&&(G=null);var ne=!1;if(G===null)ne=!0;else switch(te){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(G.$$typeof){case r:case e:ne=!0;break;case v:return ne=G._init,be(ne(G._payload),se,j,U,V)}}if(ne)return V=V(G),ne=U===""?"."+F(G,0):U,z(V)?(j="",ne!=null&&(j=ne.replace(D,"$&/")+"/"),be(V,se,j,"",function(ke){return ke})):V!=null&&(W(V)&&(V=oe(V,j+(V.key==null||G&&G.key===V.key?"":(""+V.key).replace(D,"$&/")+"/")+ne)),se.push(V)),1;ne=0;var pe=U===""?".":U+":";if(z(G))for(var _e=0;_e<G.length;_e++)U=G[_e],te=pe+F(U,_e),ne+=be(U,se,j,te,V);else if(_e=x(G),typeof _e=="function")for(G=_e.call(G),_e=0;!(U=G.next()).done;)U=U.value,te=pe+F(U,_e++),ne+=be(U,se,j,te,V);else if(te==="object"){if(typeof G.then=="function")return be(ee(G),se,j,U,V);throw se=String(G),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Z(G,se,j){if(G==null)return G;var U=[],V=0;return be(G,U,"","",function(te){return se.call(j,te,V++)}),U}function ue(G){if(G._status===-1){var se=G._result;se=se(),se.then(function(j){(G._status===0||G._status===-1)&&(G._status=1,G._result=j)},function(j){(G._status===0||G._status===-1)&&(G._status=2,G._result=j)}),G._status===-1&&(G._status=0,G._result=se)}if(G._status===1)return G._result.default;throw G._result}var ce=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Ne(){}return en.Children={map:Z,forEach:function(G,se,j){Z(G,function(){se.apply(this,arguments)},j)},count:function(G){var se=0;return Z(G,function(){se++}),se},toArray:function(G){return Z(G,function(se){return se})||[]},only:function(G){if(!W(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},en.Component=k,en.Fragment=n,en.Profiler=o,en.PureComponent=$,en.StrictMode=a,en.Suspense=f,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,en.__COMPILER_RUNTIME={__proto__:null,c:function(G){return ae.H.useMemoCache(G)}},en.cache=function(G){return function(){return G.apply(null,arguments)}},en.cloneElement=function(G,se,j){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var U=E({},G.props),V=G.key,te=void 0;if(se!=null)for(ne in se.ref!==void 0&&(te=void 0),se.key!==void 0&&(V=""+se.key),se)!Ee.call(se,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&se.ref===void 0||(U[ne]=se[ne]);var ne=arguments.length-2;if(ne===1)U.children=j;else if(1<ne){for(var pe=Array(ne),_e=0;_e<ne;_e++)pe[_e]=arguments[_e+2];U.children=pe}return ye(G.type,V,void 0,void 0,te,U)},en.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},en.createElement=function(G,se,j){var U,V={},te=null;if(se!=null)for(U in se.key!==void 0&&(te=""+se.key),se)Ee.call(se,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(V[U]=se[U]);var ne=arguments.length-2;if(ne===1)V.children=j;else if(1<ne){for(var pe=Array(ne),_e=0;_e<ne;_e++)pe[_e]=arguments[_e+2];V.children=pe}if(G&&G.defaultProps)for(U in ne=G.defaultProps,ne)V[U]===void 0&&(V[U]=ne[U]);return ye(G,te,void 0,void 0,null,V)},en.createRef=function(){return{current:null}},en.forwardRef=function(G){return{$$typeof:h,render:G}},en.isValidElement=W,en.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ue}},en.memo=function(G,se){return{$$typeof:d,type:G,compare:se===void 0?null:se}},en.startTransition=function(G){var se=ae.T,j={};ae.T=j;try{var U=G(),V=ae.S;V!==null&&V(j,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Ne,ce)}catch(te){ce(te)}finally{ae.T=se}},en.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},en.use=function(G){return ae.H.use(G)},en.useActionState=function(G,se,j){return ae.H.useActionState(G,se,j)},en.useCallback=function(G,se){return ae.H.useCallback(G,se)},en.useContext=function(G){return ae.H.useContext(G)},en.useDebugValue=function(){},en.useDeferredValue=function(G,se){return ae.H.useDeferredValue(G,se)},en.useEffect=function(G,se,j){var U=ae.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(G,se)},en.useId=function(){return ae.H.useId()},en.useImperativeHandle=function(G,se,j){return ae.H.useImperativeHandle(G,se,j)},en.useInsertionEffect=function(G,se){return ae.H.useInsertionEffect(G,se)},en.useLayoutEffect=function(G,se){return ae.H.useLayoutEffect(G,se)},en.useMemo=function(G,se){return ae.H.useMemo(G,se)},en.useOptimistic=function(G,se){return ae.H.useOptimistic(G,se)},en.useReducer=function(G,se,j){return ae.H.useReducer(G,se,j)},en.useRef=function(G){return ae.H.useRef(G)},en.useState=function(G){return ae.H.useState(G)},en.useSyncExternalStore=function(G,se,j){return ae.H.useSyncExternalStore(G,se,j)},en.useTransition=function(){return ae.H.useTransition()},en.version="19.1.1",en}var w2;function a1(){return w2||(w2=1,Pp.exports=lw()),Pp.exports}var Pe=a1();const jm=i1(Pe);var Mp={exports:{}},hh={},Bp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function uw(){return _2||(_2=1,(function(r){function e(Z,ue){var ce=Z.length;Z.push(ue);e:for(;0<ce;){var Ne=ce-1>>>1,G=Z[Ne];if(0<o(G,ue))Z[Ne]=ue,Z[ce]=G,ce=Ne;else break e}}function n(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ue=Z[0],ce=Z.pop();if(ce!==ue){Z[0]=ce;e:for(var Ne=0,G=Z.length,se=G>>>1;Ne<se;){var j=2*(Ne+1)-1,U=Z[j],V=j+1,te=Z[V];if(0>o(U,ce))V<G&&0>o(te,U)?(Z[Ne]=te,Z[V]=ce,Ne=V):(Z[Ne]=U,Z[j]=ce,Ne=j);else if(V<G&&0>o(te,ce))Z[Ne]=te,Z[V]=ce,Ne=V;else break e}}return ue}function o(Z,ue){var ce=Z.sortIndex-ue.sortIndex;return ce!==0?ce:Z.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var f=[],d=[],v=1,_=null,x=3,y=!1,E=!1,L=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function z(Z){for(var ue=n(d);ue!==null;){if(ue.callback===null)a(d);else if(ue.startTime<=Z)a(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(d)}}function ae(Z){if(L=!1,z(Z),!E)if(n(f)!==null)E=!0,Ee||(Ee=!0,F());else{var ue=n(d);ue!==null&&be(ae,ue.startTime-Z)}}var Ee=!1,ye=-1,oe=5,W=-1;function ve(){return k?!0:!(r.unstable_now()-W<oe)}function D(){if(k=!1,Ee){var Z=r.unstable_now();W=Z;var ue=!0;try{e:{E=!1,L&&(L=!1,$(ye),ye=-1),y=!0;var ce=x;try{t:{for(z(Z),_=n(f);_!==null&&!(_.expirationTime>Z&&ve());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,x=_.priorityLevel;var G=Ne(_.expirationTime<=Z);if(Z=r.unstable_now(),typeof G=="function"){_.callback=G,z(Z),ue=!0;break t}_===n(f)&&a(f),z(Z)}else a(f);_=n(f)}if(_!==null)ue=!0;else{var se=n(d);se!==null&&be(ae,se.startTime-Z),ue=!1}}break e}finally{_=null,x=ce,y=!1}ue=void 0}}finally{ue?F():Ee=!1}}}var F;if(typeof I=="function")F=function(){I(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=D,F=function(){ee.postMessage(null)}}else F=function(){N(D,0)};function be(Z,ue){ye=N(function(){Z(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var ce=x;x=ue;try{return Z()}finally{x=ce}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ce=x;x=Z;try{return ue()}finally{x=ce}},r.unstable_scheduleCallback=function(Z,ue,ce){var Ne=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ne+ce:Ne):ce=Ne,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ce+G,Z={id:v++,callback:ue,priorityLevel:Z,startTime:ce,expirationTime:G,sortIndex:-1},ce>Ne?(Z.sortIndex=ce,e(d,Z),n(f)===null&&Z===n(d)&&(L?($(ye),ye=-1):L=!0,be(ae,ce-Ne))):(Z.sortIndex=G,e(f,Z),E||y||(E=!0,Ee||(Ee=!0,F()))),Z},r.unstable_shouldYield=ve,r.unstable_wrapCallback=function(Z){var ue=x;return function(){var ce=x;x=ue;try{return Z.apply(this,arguments)}finally{x=ce}}}})(Up)),Up}var S2;function cw(){return S2||(S2=1,Bp.exports=uw()),Bp.exports}var Ip={exports:{}},Di={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function hw(){if(x2)return Di;x2=1;var r=a1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(f,d,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:d,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Di.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,v)},Di.flushSync=function(f){var d=c.T,v=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=d,a.p=v,a.d.f()}},Di.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(f,d))},Di.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Di.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,_=h(v,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?a.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:y}):v==="script"&&a.d.X(f,{crossOrigin:_,integrity:x,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Di.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(f)},Di.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,_=h(v,d.crossOrigin);a.d.L(f,v,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Di.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);a.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(f)},Di.requestFormReset=function(f){a.d.r(f)},Di.unstable_batchedUpdates=function(f,d){return f(d)},Di.useFormState=function(f,d,v){return c.H.useFormState(f,d,v)},Di.useFormStatus=function(){return c.H.useHostTransitionStatus()},Di.version="19.1.1",Di}var A2;function fw(){if(A2)return Ip.exports;A2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ip.exports=hw(),Ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function dw(){if(E2)return hh;E2=1;var r=cw(),e=a1(),n=fw();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(s(t)!==t)throw Error(a(188))}function f(t){var i=t.alternate;if(!i){if(i=s(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,u=i;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return h(g),t;if(b===u)return h(g),i;b=b.sibling}throw Error(a(188))}if(l.return!==u.return)l=g,u=b;else{for(var T=!1,B=g.child;B;){if(B===l){T=!0,l=g,u=b;break}if(B===u){T=!0,u=g,l=b;break}B=B.sibling}if(!T){for(B=b.child;B;){if(B===l){T=!0,l=b,u=g;break}if(B===u){T=!0,u=b,l=g;break}B=B.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function d(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=d(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Q?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case k:return"Profiler";case L:return"StrictMode";case ae:return"Suspense";case Ee:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case y:return"Portal";case I:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ye:return i=t.displayName||null,i!==null?i:ee(t.type)||"Memo";case oe:i=t._payload,t=t._init;try{return ee(t(i))}catch{}}return null}var be=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ne=[],G=-1;function se(t){return{current:t}}function j(t){0>G||(t.current=Ne[G],Ne[G]=null,G--)}function U(t,i){G++,Ne[G]=t.current,t.current=i}var V=se(null),te=se(null),ne=se(null),pe=se(null);function _e(t,i){switch(U(ne,i),U(te,t),U(V,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Gg(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Gg(i),t=Vg(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(V),U(V,t)}function ke(){j(V),j(te),j(ne)}function Me(t){t.memoizedState!==null&&U(pe,t);var i=V.current,l=Vg(i,t.type);i!==l&&(U(te,t),U(V,l))}function Ye(t){te.current===t&&(j(V),j(te)),pe.current===t&&(j(pe),ah._currentValue=ce)}var Qe=Object.prototype.hasOwnProperty,Je=r.unstable_scheduleCallback,ut=r.unstable_cancelCallback,Y=r.unstable_shouldYield,Ze=r.unstable_requestPaint,it=r.unstable_now,ft=r.unstable_getCurrentPriorityLevel,Ie=r.unstable_ImmediatePriority,ot=r.unstable_UserBlockingPriority,st=r.unstable_NormalPriority,ze=r.unstable_LowPriority,xe=r.unstable_IdlePriority,Re=r.log,lt=r.unstable_setDisableYieldValue,et=null,gt=null;function at(t){if(typeof Re=="function"&&lt(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(et,t)}catch{}}var Xe=Math.clz32?Math.clz32:Nn,At=Math.log,ct=Math.LN2;function Nn(t){return t>>>=0,t===0?32:31-(At(t)/ct|0)|0}var Zt=256,_t=4194304;function vt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dt(t,i,l){var u=t.pendingLanes;if(u===0)return 0;var g=0,b=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var B=u&134217727;return B!==0?(u=B&~b,u!==0?g=vt(u):(T&=B,T!==0?g=vt(T):l||(l=B&~t,l!==0&&(g=vt(l))))):(B=u&~b,B!==0?g=vt(B):T!==0?g=vt(T):l||(l=u&~t,l!==0&&(g=vt(l)))),g===0?0:i!==0&&i!==g&&(i&b)===0&&(b=g&-g,l=i&-i,b>=l||b===32&&(l&4194048)!==0)?i:g}function Et(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var t=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),t}function It(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function pn(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function qt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jt(t,i,l,u,g,b){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var B=t.entanglements,ie=t.expirationTimes,Oe=t.hiddenUpdates;for(l=T&~l;0<l;){var Fe=31-Xe(l),Ve=1<<Fe;B[Fe]=0,ie[Fe]=-1;var je=Oe[Fe];if(je!==null)for(Oe[Fe]=null,Fe=0;Fe<je.length;Fe++){var Ce=je[Fe];Ce!==null&&(Ce.lane&=-536870913)}l&=~Ve}u!==0&&Kt(t,u,0),b!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=b&~(T&~i))}function Kt(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Xe(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|l&4194090}function gn(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var u=31-Xe(l),g=1<<u;g&i|t[u]&i&&(t[u]|=i),l&=~g}}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $r(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:h2(t.type))}function Rt(t,i){var l=ue.p;try{return ue.p=t,i()}finally{ue.p=l}}var Kn=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Kn,_n="__reactProps$"+Kn,On="__reactContainer$"+Kn,Sn="__reactEvents$"+Kn,dn="__reactListeners$"+Kn,Vn="__reactHandles$"+Kn,ha="__reactResources$"+Kn,ei="__reactMarker$"+Kn;function ti(t){delete t[Tn],delete t[_n],delete t[Sn],delete t[dn],delete t[Vn]}function Gr(t){var i=t[Tn];if(i)return i;for(var l=t.parentNode;l;){if(i=l[On]||l[Tn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Xg(t);t!==null;){if(l=t[Tn])return l;t=Xg(t)}return i}t=l,l=t.parentNode}return null}function mr(t){if(t=t[Tn]||t[On]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Br(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function yr(t){var i=t[ha];return i||(i=t[ha]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ln(t){t[ei]=!0}var Oi=new Set,ni={};function di(t,i){Li(t,i),Li(t+"Capture",i)}function Li(t,i){for(ni[t]=i,t=0;t<i.length;t++)Oi.add(i[t])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},Cs={};function Go(t){return Qe.call(Cs,t)?!0:Qe.call(lo,t)?!1:Ja.test(t)?Cs[t]=!0:(lo[t]=!0,!1)}function fa(t,i,l){if(Go(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function Vr(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Yr(t,i,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+u)}}var Rs,Za;function da(t){if(Rs===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Rs=i&&i[1]||"",Za=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+t+Za}var Ds=!1;function Ps(t,i){if(!t||Ds)return"";Ds=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Ce){var je=Ce}Reflect.construct(t,[],Ve)}else{try{Ve.call()}catch(Ce){je=Ce}t.call(Ve.prototype)}}else{try{throw Error()}catch(Ce){je=Ce}(Ve=t())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Ce){if(Ce&&je&&typeof Ce.stack=="string")return[Ce.stack,je.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=u.DetermineComponentFrameRoot(),T=b[0],B=b[1];if(T&&B){var ie=T.split(`
`),Oe=B.split(`
`);for(g=u=0;u<ie.length&&!ie[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Oe.length&&!Oe[g].includes("DetermineComponentFrameRoot");)g++;if(u===ie.length||g===Oe.length)for(u=ie.length-1,g=Oe.length-1;1<=u&&0<=g&&ie[u]!==Oe[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ie[u]!==Oe[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ie[u]!==Oe[g]){var Fe=`
`+ie[u].replace(" at new "," at ");return t.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",t.displayName)),Fe}while(1<=u&&0<=g);break}}}finally{Ds=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?da(l):""}function Ji(t){switch(t.tag){case 26:case 27:case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return da("Activity");default:return""}}function Qa(t){try{var i="";do i+=Ji(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ri(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xn(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wr(t){var i=Xn(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){u=""+T,b.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function br(t){t._valueTracker||(t._valueTracker=Wr(t))}function Dn(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return t&&(u=Xn(t)?t.checked?"true":"false":t.value),t=u,t!==l?(i.setValue(t),!0):!1}function es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ji=/[\n"\\]/g;function vn(t){return t.replace(ji,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qi(t,i,l,u,g,b,T,B){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ri(i)):t.value!==""+ri(i)&&(t.value=""+ri(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?pa(t,T,ri(i)):l!=null?pa(t,T,ri(l)):u!=null&&t.removeAttribute("value"),g==null&&b!=null&&(t.defaultChecked=!!b),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?t.name=""+ri(B):t.removeAttribute("name")}function uo(t,i,l,u,g,b,T,B){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;l=l!=null?""+ri(l):"",i=i!=null?""+ri(i):l,B||i===t.value||(t.value=i),t.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=B?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function pa(t,i,l){i==="number"&&es(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ka(t,i,l,u){if(t=t.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<t.length;l++)g=i.hasOwnProperty("$"+t[l].value),t[l].selected!==g&&(t[l].selected=g),g&&u&&(t[l].defaultSelected=!0)}else{for(l=""+ri(l),i=null,g=0;g<t.length;g++){if(t[g].value===l){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}i!==null||t[g].disabled||(i=t[g])}i!==null&&(i.selected=!0)}}function Fi(t,i,l){if(i!=null&&(i=""+ri(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+ri(l):""}function co(t,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(a(92));if(be(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=ri(i),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u)}function ga(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var Ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function va(t,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,l):typeof l!="number"||l===0||Ms.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function re(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&l[g]!==u&&va(t,g,u)}else for(var b in i)i.hasOwnProperty(b)&&va(t,b,i[b])}function Le(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tt(t){return rt.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tn=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fn=null,cr=null;function Bs(t){var i=mr(t);if(i&&(t=i.stateNode)){var l=t[_n]||null;e:switch(t=i.stateNode,i.type){case"input":if(qi(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==t&&u.form===t.form){var g=u[_n]||null;if(!g)throw Error(a(90));qi(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===t.form&&Dn(u)}break e;case"textarea":Fi(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ka(t,!!l.multiple,i,!1)}}}var yt=!1;function ho(t,i,l){if(yt)return t(i,l);yt=!0;try{var u=t(i);return u}finally{if(yt=!1,(Fn!==null||cr!==null)&&(hf(),Fn&&(i=Fn,t=cr,cr=Fn=null,Bs(i),t)))for(i=0;i<t.length;i++)Bs(t[i])}}function Zi(t,i){var l=t.stateNode;if(l===null)return null;var u=l[_n]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if(Qi)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){pi=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{pi=!1}var Jn=null,ki=null,zi=null;function Vo(){if(zi)return zi;var t,i=ki,l=i.length,u,g="value"in Jn?Jn.value:Jn.textContent,b=g.length;for(t=0;t<l&&i[t]===g[t];t++);var T=l-t;for(u=1;u<=T&&i[l-u]===g[b-u];u++);return zi=g.slice(t,1<u?1-u:void 0)}function Ca(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yo(){return!0}function Ra(){return!1}function ii(t){function i(l,u,g,b,T){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(l=t[B],this[B]=l?l(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Yo:Ra,this.isPropagationStopped=Ra,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),i}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=ii(ma),Is=v({},ma,{view:0,detail:0}),ts=ii(Is),fo,qs,ns,Da=v({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ns&&(ns&&t.type==="mousemove"?(fo=t.screenX-ns.screenX,qs=t.screenY-ns.screenY):qs=fo=0,ns=t),fo)},movementY:function(t){return"movementY"in t?t.movementY:qs}}),Wo=ii(Da),yu=v({},Da,{dataTransfer:0}),bu=ii(yu),rs=v({},Is,{relatedTarget:0}),ya=ii(rs),wu=v({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),po=ii(wu),_u=v({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w=ii(_u),C=v({},ma,{data:0}),J=ii(C),le={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},me={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function We(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qe[t])?!!i[t]:!1}function dt(){return We}var Tt=v({},Is,{key:function(t){if(t.key){var i=le[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?me[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dt,charCode:function(t){return t.type==="keypress"?Ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ft=ii(Tt),Xt=v({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cn=ii(Xt),Zn=v({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dt}),wr=ii(Zn),Mn=v({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Er=ii(Mn),_r=v({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kr=ii(_r),is=v({},ma,{newState:0,oldState:0}),ba=ii(is),as=[9,13,27,32],go=Qi&&"CompositionEvent"in window,Pa=null;Qi&&"documentMode"in document&&(Pa=document.documentMode);var Fs=Qi&&"TextEvent"in window&&!Pa,zs=Qi&&(!go||Pa&&8<Pa&&11>=Pa),Hs=" ",ss=!1;function Ur(t,i){switch(t){case"keyup":return as.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function Rl(t,i){switch(t){case"compositionend":return $s(i);case"keypress":return i.which!==32?null:(ss=!0,Hs);case"textInput":return t=i.data,t===Hs&&ss?null:t;default:return null}}function Dl(t,i){if(ea)return t==="compositionend"||!go&&Ur(t,i)?(t=Vo(),zi=ki=Jn=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zs&&i.locale!=="ko"?null:i.data;default:return null}}var gi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!gi[t.type]:i==="textarea"}function vo(t,i,l,u){Fn?cr?cr.push(u):cr=[u]:Fn=u,i=mf(i,"onChange"),0<i.length&&(l=new Us("onChange","change",null,l,u),t.push({event:l,listeners:i}))}var Gs=null,ai=null;function mo(t){qg(t,0)}function Vs(t){var i=Br(t);if(Dn(i))return t}function Ko(t,i){if(t==="change")return i}var os=!1;if(Qi){var ls;if(Qi){var vi="oninput"in document;if(!vi){var Ci=document.createElement("div");Ci.setAttribute("oninput","return;"),vi=typeof Ci.oninput=="function"}ls=vi}else ls=!1;os=ls&&(!document.documentMode||9<document.documentMode)}function us(){Gs&&(Gs.detachEvent("onpropertychange",Ba),ai=Gs=null)}function Ba(t){if(t.propertyName==="value"&&Vs(ai)){var i=[];vo(i,ai,t,xn(t)),ho(mo,i)}}function Ys(t,i,l){t==="focusin"?(us(),Gs=i,ai=l,Gs.attachEvent("onpropertychange",Ba)):t==="focusout"&&us()}function Pl(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vs(ai)}function Xo(t,i){if(t==="click")return Vs(i)}function hr(t,i){if(t==="input"||t==="change")return Vs(i)}function Su(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var tr=typeof Object.is=="function"?Object.is:Su;function Ri(t,i){if(tr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Qe.call(i,g)||!tr(t[g],i[g]))return!1}return!0}function Jo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zo(t,i){var l=Jo(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=i&&u>=i)return{node:l,offset:i-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jo(l)}}function Qo(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qo(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function el(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=es(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=es(t.document)}return i}function Ua(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ws=Qi&&"documentMode"in document&&11>=document.documentMode,Hi=null,cs=null,ta=null,hs=!1;function $i(t,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hs||Hi==null||Hi!==es(u)||(u=Hi,"selectionStart"in u&&Ua(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ta&&Ri(ta,u)||(ta=u,u=mf(cs,"onSelect"),0<u.length&&(i=new Us("onSelect","select",null,i,l),t.push({event:i,listeners:u}),i.target=Hi)))}function si(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var on={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},An={},nr={};Qi&&(nr=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function zn(t){if(An[t])return An[t];if(!on[t])return t;var i=on[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in nr)return An[t]=i[l];return t}var Ia=zn("animationend"),tl=zn("animationiteration"),yo=zn("animationstart"),xu=zn("transitionrun"),Ch=zn("transitionstart"),Rh=zn("transitioncancel"),Ec=zn("transitionend"),Nc=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function na(t,i){Nc.set(t,i),di(i,[t])}var nl=new WeakMap;function Gi(t,i){if(typeof t=="object"&&t!==null){var l=nl.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Qa(i)},nl.set(t,i),i)}return{value:t,source:i,stack:Qa(i)}}var Vi=[],bo=0,Eu=0;function Ml(){for(var t=bo,i=Eu=bo=0;i<t;){var l=Vi[i];Vi[i++]=null;var u=Vi[i];Vi[i++]=null;var g=Vi[i];Vi[i++]=null;var b=Vi[i];if(Vi[i++]=null,u!==null&&g!==null){var T=u.pending;T===null?g.next=g:(g.next=T.next,T.next=g),u.pending=g}b!==0&&Tu(l,g,b)}}function Bl(t,i,l,u){Vi[bo++]=t,Vi[bo++]=i,Vi[bo++]=l,Vi[bo++]=u,Eu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Nu(t,i,l,u){return Bl(t,i,l,u),_o(t)}function wo(t,i){return Bl(t,null,null,i),_o(t)}function Tu(t,i,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var g=!1,b=t.return;b!==null;)b.childLanes|=l,u=b.alternate,u!==null&&(u.childLanes|=l),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(g=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,g&&i!==null&&(g=31-Xe(l),t=b.hiddenUpdates,u=t[g],u===null?t[g]=[i]:u.push(i),i.lane=l|536870912),b):null}function _o(t){if(50<Jc)throw Jc=0,ip=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ir={};function ra(t,i,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,i,l,u){return new ra(t,i,l,u)}function rl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qa(t,i){var l=t.alternate;return l===null?(l=oi(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Ul(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function So(t,i,l,u,g,b){var T=0;if(u=t,typeof t=="function")rl(t)&&(T=1);else if(typeof t=="string")T=Vb(t,l,V.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=oi(31,l,i,g),t.elementType=W,t.lanes=b,t;case E:return fs(l.children,g,b,i);case L:T=8,g|=24;break;case k:return t=oi(12,l,i,g|2),t.elementType=k,t.lanes=b,t;case ae:return t=oi(13,l,i,g),t.elementType=ae,t.lanes=b,t;case Ee:return t=oi(19,l,i,g),t.elementType=Ee,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case I:T=10;break e;case $:T=9;break e;case z:T=11;break e;case ye:T=14;break e;case oe:T=16,u=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=oi(T,l,i,g),i.elementType=t,i.type=u,i.lanes=b,i}function fs(t,i,l,u){return t=oi(7,t,u,i),t.lanes=l,t}function Ou(t,i,l){return t=oi(6,t,null,i),t.lanes=l,t}function Il(t,i,l){return i=oi(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ks=[],ds=0,il=null,Lu=0,ia=[],Yi=0,xo=null,ps=1,gs="";function Ao(t,i){Ks[ds++]=Lu,Ks[ds++]=il,il=t,Lu=i}function Dh(t,i,l){ia[Yi++]=ps,ia[Yi++]=gs,ia[Yi++]=xo,xo=t;var u=ps;t=gs;var g=32-Xe(u)-1;u&=~(1<<g),l+=1;var b=32-Xe(i)+g;if(30<b){var T=g-g%5;b=(u&(1<<T)-1).toString(32),u>>=T,g-=T,ps=1<<32-Xe(i)+g|l<<g|u,gs=b+t}else ps=1<<b|l<<g|u,gs=t}function ql(t){t.return!==null&&(Ao(t,1),Dh(t,1,0))}function Fl(t){for(;t===il;)il=Ks[--ds],Ks[ds]=null,Lu=Ks[--ds],Ks[ds]=null;for(;t===xo;)xo=ia[--Yi],ia[Yi]=null,gs=ia[--Yi],ia[Yi]=null,ps=ia[--Yi],ia[Yi]=null}var Nr=null,rr=null,bn=!1,Xs=null,Fa=!1,Tc=Error(a(519));function Eo(t){var i=Error(a(418,""));throw al(Gi(i,t)),Tc}function Ph(t){var i=t.stateNode,l=t.type,u=t.memoizedProps;switch(i[Tn]=t,i[_n]=u,l){case"dialog":un("cancel",i),un("close",i);break;case"iframe":case"object":case"embed":un("load",i);break;case"video":case"audio":for(l=0;l<Qc.length;l++)un(Qc[l],i);break;case"source":un("error",i);break;case"img":case"image":case"link":un("error",i),un("load",i);break;case"details":un("toggle",i);break;case"input":un("invalid",i),uo(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),br(i);break;case"select":un("invalid",i);break;case"textarea":un("invalid",i),co(i,u.value,u.defaultValue,u.children),br(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||$g(i.textContent,l)?(u.popover!=null&&(un("beforetoggle",i),un("toggle",i)),u.onScroll!=null&&un("scroll",i),u.onScrollEnd!=null&&un("scrollend",i),u.onClick!=null&&(i.onclick=yf),i=!0):i=!1,i||Eo(t)}function vs(t){for(Nr=t.return;Nr;)switch(Nr.tag){case 5:case 13:Fa=!1;return;case 27:case 3:Fa=!0;return;default:Nr=Nr.return}}function mi(t){if(t!==Nr)return!1;if(!bn)return vs(t),bn=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||wp(t.type,t.memoizedProps)),l=!l),l&&rr&&Eo(t),vs(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){rr=As(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}rr=null}}else i===27?(i=rr,_l(t.type)?(t=Ap,Ap=null,rr=t):rr=i):rr=Nr?As(t.stateNode.nextSibling):null;return!0}function Wi(){rr=Nr=null,bn=!1}function Mh(){var t=Xs;return t!==null&&(sa===null?sa=t:sa.push.apply(sa,t),Xs=null),t}function al(t){Xs===null?Xs=[t]:Xs.push(t)}var za=se(null),qr=null,ms=null;function Js(t,i,l){U(za,i._currentValue),i._currentValue=l}function Ha(t){t._currentValue=za.current,j(za)}function ju(t,i,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===l)break;t=t.return}}function ku(t,i,l,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var b=g.dependencies;if(b!==null){var T=g.child;b=b.firstContext;e:for(;b!==null;){var B=b;b=g;for(var ie=0;ie<i.length;ie++)if(B.context===i[ie]){b.lanes|=l,B=b.alternate,B!==null&&(B.lanes|=l),ju(b.return,l,t),u||(T=null);break e}b=B.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(a(341));T.lanes|=l,b=T.alternate,b!==null&&(b.lanes|=l),ju(T,l,t),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===t){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function sl(t,i,l,u){t=null;for(var g=i,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var B=g.type;tr(g.pendingProps.value,T.value)||(t!==null?t.push(B):t=[B])}}else if(g===pe.current){if(T=g.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(ah):t=[ah])}g=g.return}t!==null&&ku(i,t,l,u),i.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!tr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){qr=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tr(t){return Ru(qr,t)}function Zs(t,i){return qr===null&&$a(t),Ru(t,i)}function Ru(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ms===null){if(t===null)throw Error(a(308));ms=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ms=ms.next=i;return l}var Ld=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Bh=r.unstable_scheduleCallback,jd=r.unstable_NormalPriority,Or={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new Ld,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&Bh(jd,function(){t.controller.abort()})}var Hl=null,Lc=0,No=0,ys=null;function kd(t,i){if(Hl===null){var l=Hl=[];Lc=0,No=hp(),ys={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lc++,i.then(Uh,Uh),i}function Uh(){if(--Lc===0&&Hl!==null){ys!==null&&(ys.status="fulfilled");var t=Hl;Hl=null,No=0,ys=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ih(t,i){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var p=Z.S;Z.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&kd(t,i),p!==null&&p(t,i)};var m=se(null);function S(){var t=m.current;return t!==null?t:Yn.pooledCache}function A(t,i){i===null?U(m,m.current):U(m,i.pool)}function R(){var t=S();return t===null?null:{parent:Or._currentValue,pool:t}}var P=Error(a(460)),M=Error(a(474)),q=Error(a(542)),H={then:function(){}};function X(t){return t=t.status,t==="fulfilled"||t==="rejected"}function he(){}function Te(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(he,he),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,we(t),t;default:if(typeof i.status=="string")i.then(he,he);else{if(t=Yn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,we(t),t}throw K=i,P}}var K=null;function de(){if(K===null)throw Error(a(459));var t=K;return K=null,t}function we(t){if(t===P||t===q)throw Error(a(483))}var De=!1;function Ae(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ue(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Be(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ke(t,i,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(kn&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=_o(t),Tu(t,null,l),i}return Bl(t,u,i,l),_o(t)}function Ge(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,gn(t,l)}}function Nt(t,i){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=T:b=b.next=T,l=l.next}while(l!==null);b===null?g=b=i:b=b.next=i}else g=b=i;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var ht=!1;function $t(){if(ht){var t=ys;if(t!==null)throw t}}function pt(t,i,l,u){ht=!1;var g=t.updateQueue;De=!1;var b=g.firstBaseUpdate,T=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var ie=B,Oe=ie.next;ie.next=null,T===null?b=Oe:T.next=Oe,T=ie;var Fe=t.alternate;Fe!==null&&(Fe=Fe.updateQueue,B=Fe.lastBaseUpdate,B!==T&&(B===null?Fe.firstBaseUpdate=Oe:B.next=Oe,Fe.lastBaseUpdate=ie))}if(b!==null){var Ve=g.baseState;T=0,Fe=Oe=ie=null,B=b;do{var je=B.lane&-536870913,Ce=je!==B.lane;if(Ce?(yn&je)===je:(u&je)===je){je!==0&&je===No&&(ht=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ht=t,Mt=B;je=i;var In=l;switch(Mt.tag){case 1:if(Ht=Mt.payload,typeof Ht=="function"){Ve=Ht.call(In,Ve,je);break e}Ve=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Mt.payload,je=typeof Ht=="function"?Ht.call(In,Ve,je):Ht,je==null)break e;Ve=v({},Ve,je);break e;case 2:De=!0}}je=B.callback,je!==null&&(t.flags|=64,Ce&&(t.flags|=8192),Ce=g.callbacks,Ce===null?g.callbacks=[je]:Ce.push(je))}else Ce={lane:je,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Fe===null?(Oe=Fe=Ce,ie=Ve):Fe=Fe.next=Ce,T|=je;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;Ce=B,B=Ce.next,Ce.next=null,g.lastBaseUpdate=Ce,g.shared.pending=null}}while(!0);Fe===null&&(ie=Ve),g.baseState=ie,g.firstBaseUpdate=Oe,g.lastBaseUpdate=Fe,b===null&&(g.shared.lanes=0),ml|=T,t.lanes=T,t.memoizedState=Ve}}function an(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Sr(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)an(l[t],i)}var zt=se(null),mt=se(0);function nt(t,i){t=Do,U(mt,t),U(zt,i),Do=t|i.baseLanes}function Qn(){U(mt,Do),U(zt,zt.current)}function Gt(){Do=mt.current,j(zt),j(mt)}var Qt=0,bt=null,Yt=null,hn=null,Hn=!1,fr=!1,dr=!1,ir=0,nn=0,fn=null,ar=0;function Pt(){throw Error(a(321))}function Lr(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!tr(t[l],i[l]))return!1;return!0}function Ki(t,i,l,u,g,b){return Qt=b,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=t===null||t.memoizedState===null?A1:E1,dr=!1,b=l(u,g),dr=!1,fr&&(b=yi(i,l,u,g)),sr(t),b}function sr(t){Z.H=Jh;var i=Yt!==null&&Yt.next!==null;if(Qt=0,hn=Yt=bt=null,Hn=!1,nn=0,fn=null,i)throw Error(a(300));t===null||ui||(t=t.dependencies,t!==null&&Cu(t)&&(ui=!0))}function yi(t,i,l,u){bt=t;var g=0;do{if(fr&&(fn=null),nn=0,fr=!1,25<=g)throw Error(a(301));if(g+=1,hn=Yt=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=rb,b=i(l,u)}while(fr);return b}function jn(){var t=Z.H,i=t.useState()[0];return i=typeof i.then=="function"?Jr(i):i,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),i}function pr(){var t=ir!==0;return ir=0,t}function bi(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Xr(t){if(Hn){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hn=!1}Qt=0,hn=Yt=bt=null,fr=!1,nn=ir=0,fn=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?bt.memoizedState=hn=t:hn=hn.next=t,hn}function mn(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var i=hn===null?bt.memoizedState:hn.next;if(i!==null)hn=i,Yt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},hn===null?bt.memoizedState=hn=t:hn=hn.next=t}return hn}function li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jr(t){var i=nn;return nn+=1,fn===null&&(fn=[]),t=Te(fn,t,i),i=bt,(hn===null?i.memoizedState:hn.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?A1:E1),t}function En(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jr(t);if(t.$$typeof===I)return Tr(t)}throw Error(a(438,String(t)))}function wi(t){var i=null,l=bt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=bt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=li(),bt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),u=0;u<t;u++)l[u]=ve;return i.index++,l}function jr(t,i){return typeof i=="function"?i(t):i}function Ga(t){var i=mn();return wa(i,Yt,t)}function wa(t,i,l){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var g=t.baseQueue,b=u.pending;if(b!==null){if(g!==null){var T=g.next;g.next=b.next,b.next=T}i.baseQueue=g=b,u.pending=null}if(b=t.baseState,g===null)t.memoizedState=b;else{i=g.next;var B=T=null,ie=null,Oe=i,Fe=!1;do{var Ve=Oe.lane&-536870913;if(Ve!==Oe.lane?(yn&Ve)===Ve:(Qt&Ve)===Ve){var je=Oe.revertLane;if(je===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ve===No&&(Fe=!0);else if((Qt&je)===je){Oe=Oe.next,je===No&&(Fe=!0);continue}else Ve={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ie===null?(B=ie=Ve,T=b):ie=ie.next=Ve,bt.lanes|=je,ml|=je;Ve=Oe.action,dr&&l(b,Ve),b=Oe.hasEagerState?Oe.eagerState:l(b,Ve)}else je={lane:Ve,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ie===null?(B=ie=je,T=b):ie=ie.next=je,bt.lanes|=Ve,ml|=Ve;Oe=Oe.next}while(Oe!==null&&Oe!==i);if(ie===null?T=b:ie.next=B,!tr(b,t.memoizedState)&&(ui=!0,Fe&&(l=ys,l!==null)))throw l;t.memoizedState=b,t.baseState=T,t.baseQueue=ie,u.lastRenderedState=b}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function kr(t){var i=mn(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var u=l.dispatch,g=l.pending,b=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do b=t(b,T.action),T=T.next;while(T!==g);tr(b,i.memoizedState)||(ui=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,u]}function $l(t,i,l){var u=bt,g=mn(),b=bn;if(b){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!tr((Yt||g).memoizedState,l);T&&(g.memoizedState=l,ui=!0),g=g.queue;var B=ol.bind(null,u,g,t);if(cl(2048,8,B,[t]),g.getSnapshot!==i||T||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,ws(9,Wl(),Gl.bind(null,u,g,l,i),null),Yn===null)throw Error(a(349));b||(Qt&124)!==0||Du(u,i,l)}return l}function Du(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=bt.updateQueue,i===null?(i=li(),bt.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Gl(t,i,l,u){i.value=l,i.getSnapshot=u,qh(i)&&Fh(t)}function ol(t,i,l){return l(function(){qh(i)&&Fh(t)})}function qh(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!tr(t,l)}catch{return!0}}function Fh(t){var i=wo(t,2);i!==null&&Na(i,t,2)}function Vl(t){var i=Bn();if(typeof t=="function"){var l=t;if(t=l(),dr){at(!0);try{l()}finally{at(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:t},i}function bs(t,i,l,u){return t.baseState=l,wa(t,Yt,typeof u=="function"?u:jr)}function Cd(t,i,l,u,g){if(Xh(t))throw Error(a(485));if(t=i.action,t!==null){var b={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};Z.T!==null?l(!0):b.isTransition=!1,u(b),l=i.pending,l===null?(b.next=i.pending=b,zh(i,b)):(b.next=l.next,i.pending=l.next=b)}}function zh(t,i){var l=i.action,u=i.payload,g=t.state;if(i.isTransition){var b=Z.T,T={};Z.T=T;try{var B=l(g,u),ie=Z.S;ie!==null&&ie(T,B),Hh(t,i,B)}catch(Oe){ll(t,i,Oe)}finally{Z.T=b}}else try{b=l(g,u),Hh(t,i,b)}catch(Oe){ll(t,i,Oe)}}function Hh(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){jc(t,i,u)},function(u){return ll(t,i,u)}):jc(t,i,l)}function jc(t,i,l){i.status="fulfilled",i.value=l,kc(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,zh(t,l)))}function ll(t,i,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,kc(i),i=i.next;while(i!==u)}t.action=null}function kc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cc(t,i){return i}function Yl(t,i){if(bn){var l=Yn.formState;if(l!==null){e:{var u=bt;if(bn){if(rr){t:{for(var g=rr,b=Fa;g.nodeType!==8;){if(!b){g=null;break t}if(g=As(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){rr=As(g.nextSibling),u=g.data==="F!";break e}}Eo(u)}u=!1}u&&(i=l[0])}}return l=Bn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:i},l.queue=u,l=_1.bind(null,bt,u),u.dispatch=l,u=Vl(!1),b=Rd.bind(null,bt,!1,u.queue),u=Bn(),g={state:i,dispatch:null,action:t,pending:null},u.queue=g,l=Cd.bind(null,bt,g,b,l),g.dispatch=l,u.memoizedState=t,[i,l,!1]}function Pu(t){var i=mn();return ul(i,Yt,t)}function ul(t,i,l){if(i=wa(t,i,Cc)[0],t=Ga(jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Jr(i)}catch(T){throw T===P?q:T}else u=i;i=mn();var g=i.queue,b=g.dispatch;return l!==i.memoizedState&&(bt.flags|=2048,ws(9,Wl(),$h.bind(null,g,l),null)),[u,b,t]}function $h(t,i){t.action=i}function Gh(t){var i=mn(),l=Yt;if(l!==null)return ul(i,l,t);mn(),i=i.memoizedState,l=mn();var u=l.queue.dispatch;return l.memoizedState=t,[i,u,!1]}function ws(t,i,l,u){return t={tag:t,create:l,deps:u,inst:i,next:null},i=bt.updateQueue,i===null&&(i=li(),bt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,i.lastEffect=t),t}function Wl(){return{destroy:void 0,resource:void 0}}function Mu(){return mn().memoizedState}function _a(t,i,l,u){var g=Bn();u=u===void 0?null:u,bt.flags|=t,g.memoizedState=ws(1|i,Wl(),l,u)}function cl(t,i,l,u){var g=mn();u=u===void 0?null:u;var b=g.memoizedState.inst;Yt!==null&&u!==null&&Lr(u,Yt.memoizedState.deps)?g.memoizedState=ws(i,b,l,u):(bt.flags|=t,g.memoizedState=ws(1|i,b,l,u))}function Rc(t,i){_a(8390656,8,t,i)}function Vh(t,i){cl(2048,8,t,i)}function Dc(t,i){return cl(4,2,t,i)}function To(t,i){return cl(4,4,t,i)}function Yh(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Pc(t,i,l){l=l!=null?l.concat([t]):null,cl(4,4,Yh.bind(null,i,t),l)}function Mc(){}function Bc(t,i){var l=mn();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Lr(i,u[1])?u[0]:(l.memoizedState=[t,i],t)}function Wh(t,i){var l=mn();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Lr(i,u[1]))return u[0];if(u=t(),dr){at(!0);try{t()}finally{at(!1)}}return l.memoizedState=[u,i],u}function Oo(t,i,l){return l===void 0||(Qt&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=mg(),bt.lanes|=t,ml|=t,l)}function Bu(t,i,l,u){return tr(l,i)?l:zt.current!==null?(t=Oo(t,l,u),tr(t,i)||(ui=!0),t):(Qt&42)===0?(ui=!0,t.memoizedState=l):(t=mg(),bt.lanes|=t,ml|=t,i)}function Kl(t,i,l,u,g){var b=ue.p;ue.p=b!==0&&8>b?b:8;var T=Z.T,B={};Z.T=B,Rd(t,!1,i,l);try{var ie=g(),Oe=Z.S;if(Oe!==null&&Oe(B,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Fe=Ih(ie,u);Fc(t,i,Fe,Ea(t))}else Fc(t,i,u,Ea(t))}catch(Ve){Fc(t,i,{then:function(){},status:"rejected",reason:Ve},Ea())}finally{ue.p=b,Z.T=T}}function _s(){}function Va(t,i,l,u){if(t.tag!==5)throw Error(a(476));var g=Ss(t).queue;Kl(t,g,i,ce,l===null?_s:function(){return Xl(t),l(u)})}function Ss(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xl(t){var i=Ss(t).next.queue;Fc(t,i,{},Ea())}function Jl(){return Tr(ah)}function Uc(){return mn().memoizedState}function Kh(){return mn().memoizedState}function Ic(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ea();t=Be(l);var u=Ke(i,t,l);u!==null&&(Na(u,i,l),Ge(u,i,l)),i={cache:Oc()},t.payload=i;return}i=i.return}}function qc(t,i,l){var u=Ea();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Xh(t)?S1(i,l):(l=Nu(t,i,l,u),l!==null&&(Na(l,t,u),x1(l,i,u)))}function _1(t,i,l){var u=Ea();Fc(t,i,l,u)}function Fc(t,i,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xh(t))S1(i,g);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var T=i.lastRenderedState,B=b(T,l);if(g.hasEagerState=!0,g.eagerState=B,tr(B,T))return Bl(t,i,g,0),Yn===null&&Ml(),!1}catch{}finally{}if(l=Nu(t,i,g,u),l!==null)return Na(l,t,u),x1(l,i,u),!0}return!1}function Rd(t,i,l,u){if(u={lane:2,revertLane:hp(),action:u,hasEagerState:!1,eagerState:null,next:null},Xh(t)){if(i)throw Error(a(479))}else i=Nu(t,l,u,2),i!==null&&Na(i,t,2)}function Xh(t){var i=t.alternate;return t===bt||i!==null&&i===bt}function S1(t,i){fr=Hn=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function x1(t,i,l){if((l&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,gn(t,l)}}var Jh={readContext:Tr,use:En,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},A1={readContext:Tr,use:En,useCallback:function(t,i){return Bn().memoizedState=[t,i===void 0?null:i],t},useContext:Tr,useEffect:Rc,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,_a(4194308,4,Yh.bind(null,i,t),l)},useLayoutEffect:function(t,i){return _a(4194308,4,t,i)},useInsertionEffect:function(t,i){_a(4,2,t,i)},useMemo:function(t,i){var l=Bn();i=i===void 0?null:i;var u=t();if(dr){at(!0);try{t()}finally{at(!1)}}return l.memoizedState=[u,i],u},useReducer:function(t,i,l){var u=Bn();if(l!==void 0){var g=l(i);if(dr){at(!0);try{l(i)}finally{at(!1)}}}else g=i;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=qc.bind(null,bt,t),[u.memoizedState,t]},useRef:function(t){var i=Bn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vl(t);var i=t.queue,l=_1.bind(null,bt,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Mc,useDeferredValue:function(t,i){var l=Bn();return Oo(l,t,i)},useTransition:function(){var t=Vl(!1);return t=Kl.bind(null,bt,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var u=bt,g=Bn();if(bn){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Yn===null)throw Error(a(349));(yn&124)!==0||Du(u,i,l)}g.memoizedState=l;var b={value:l,getSnapshot:i};return g.queue=b,Rc(ol.bind(null,u,b,t),[t]),u.flags|=2048,ws(9,Wl(),Gl.bind(null,u,b,l,i),null),l},useId:function(){var t=Bn(),i=Yn.identifierPrefix;if(bn){var l=gs,u=ps;l=(u&~(1<<32-Xe(u)-1)).toString(32)+l,i=""+i+"R"+l,l=ir++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=ar++,i=""+i+"r"+l.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Jl,useFormState:Yl,useActionState:Yl,useOptimistic:function(t){var i=Bn();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Rd.bind(null,bt,!0,l),l.dispatch=i,[t,i]},useMemoCache:wi,useCacheRefresh:function(){return Bn().memoizedState=Ic.bind(null,bt)}},E1={readContext:Tr,use:En,useCallback:Bc,useContext:Tr,useEffect:Vh,useImperativeHandle:Pc,useInsertionEffect:Dc,useLayoutEffect:To,useMemo:Wh,useReducer:Ga,useRef:Mu,useState:function(){return Ga(jr)},useDebugValue:Mc,useDeferredValue:function(t,i){var l=mn();return Bu(l,Yt.memoizedState,t,i)},useTransition:function(){var t=Ga(jr)[0],i=mn().memoizedState;return[typeof t=="boolean"?t:Jr(t),i]},useSyncExternalStore:$l,useId:Uc,useHostTransitionStatus:Jl,useFormState:Pu,useActionState:Pu,useOptimistic:function(t,i){var l=mn();return bs(l,Yt,t,i)},useMemoCache:wi,useCacheRefresh:Kh},rb={readContext:Tr,use:En,useCallback:Bc,useContext:Tr,useEffect:Vh,useImperativeHandle:Pc,useInsertionEffect:Dc,useLayoutEffect:To,useMemo:Wh,useReducer:kr,useRef:Mu,useState:function(){return kr(jr)},useDebugValue:Mc,useDeferredValue:function(t,i){var l=mn();return Yt===null?Oo(l,t,i):Bu(l,Yt.memoizedState,t,i)},useTransition:function(){var t=kr(jr)[0],i=mn().memoizedState;return[typeof t=="boolean"?t:Jr(t),i]},useSyncExternalStore:$l,useId:Uc,useHostTransitionStatus:Jl,useFormState:Gh,useActionState:Gh,useOptimistic:function(t,i){var l=mn();return Yt!==null?bs(l,Yt,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:wi,useCacheRefresh:Kh},Uu=null,zc=0;function Zh(t){var i=zc;return zc+=1,Uu===null&&(Uu=[]),Te(Uu,t,i)}function Hc(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qh(t,i){throw i.$$typeof===_?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function N1(t){var i=t._init;return i(t._payload)}function T1(t){function i(ge,fe){if(t){var Se=ge.deletions;Se===null?(ge.deletions=[fe],ge.flags|=16):Se.push(fe)}}function l(ge,fe){if(!t)return null;for(;fe!==null;)i(ge,fe),fe=fe.sibling;return null}function u(ge){for(var fe=new Map;ge!==null;)ge.key!==null?fe.set(ge.key,ge):fe.set(ge.index,ge),ge=ge.sibling;return fe}function g(ge,fe){return ge=qa(ge,fe),ge.index=0,ge.sibling=null,ge}function b(ge,fe,Se){return ge.index=Se,t?(Se=ge.alternate,Se!==null?(Se=Se.index,Se<fe?(ge.flags|=67108866,fe):Se):(ge.flags|=67108866,fe)):(ge.flags|=1048576,fe)}function T(ge){return t&&ge.alternate===null&&(ge.flags|=67108866),ge}function B(ge,fe,Se,He){return fe===null||fe.tag!==6?(fe=Ou(Se,ge.mode,He),fe.return=ge,fe):(fe=g(fe,Se),fe.return=ge,fe)}function ie(ge,fe,Se,He){var St=Se.type;return St===E?Fe(ge,fe,Se.props.children,He,Se.key):fe!==null&&(fe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===oe&&N1(St)===fe.type)?(fe=g(fe,Se.props),Hc(fe,Se),fe.return=ge,fe):(fe=So(Se.type,Se.key,Se.props,null,ge.mode,He),Hc(fe,Se),fe.return=ge,fe)}function Oe(ge,fe,Se,He){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Se.containerInfo||fe.stateNode.implementation!==Se.implementation?(fe=Il(Se,ge.mode,He),fe.return=ge,fe):(fe=g(fe,Se.children||[]),fe.return=ge,fe)}function Fe(ge,fe,Se,He,St){return fe===null||fe.tag!==7?(fe=fs(Se,ge.mode,He,St),fe.return=ge,fe):(fe=g(fe,Se),fe.return=ge,fe)}function Ve(ge,fe,Se){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Ou(""+fe,ge.mode,Se),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return Se=So(fe.type,fe.key,fe.props,null,ge.mode,Se),Hc(Se,fe),Se.return=ge,Se;case y:return fe=Il(fe,ge.mode,Se),fe.return=ge,fe;case oe:var He=fe._init;return fe=He(fe._payload),Ve(ge,fe,Se)}if(be(fe)||F(fe))return fe=fs(fe,ge.mode,Se,null),fe.return=ge,fe;if(typeof fe.then=="function")return Ve(ge,Zh(fe),Se);if(fe.$$typeof===I)return Ve(ge,Zs(ge,fe),Se);Qh(ge,fe)}return null}function je(ge,fe,Se,He){var St=fe!==null?fe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return St!==null?null:B(ge,fe,""+Se,He);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return Se.key===St?ie(ge,fe,Se,He):null;case y:return Se.key===St?Oe(ge,fe,Se,He):null;case oe:return St=Se._init,Se=St(Se._payload),je(ge,fe,Se,He)}if(be(Se)||F(Se))return St!==null?null:Fe(ge,fe,Se,He,null);if(typeof Se.then=="function")return je(ge,fe,Zh(Se),He);if(Se.$$typeof===I)return je(ge,fe,Zs(ge,Se),He);Qh(ge,Se)}return null}function Ce(ge,fe,Se,He,St){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return ge=ge.get(Se)||null,B(fe,ge,""+He,St);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case x:return ge=ge.get(He.key===null?Se:He.key)||null,ie(fe,ge,He,St);case y:return ge=ge.get(He.key===null?Se:He.key)||null,Oe(fe,ge,He,St);case oe:var sn=He._init;return He=sn(He._payload),Ce(ge,fe,Se,He,St)}if(be(He)||F(He))return ge=ge.get(Se)||null,Fe(fe,ge,He,St,null);if(typeof He.then=="function")return Ce(ge,fe,Se,Zh(He),St);if(He.$$typeof===I)return Ce(ge,fe,Se,Zs(fe,He),St);Qh(fe,He)}return null}function Ht(ge,fe,Se,He){for(var St=null,sn=null,Ct=fe,Bt=fe=0,hi=null;Ct!==null&&Bt<Se.length;Bt++){Ct.index>Bt?(hi=Ct,Ct=null):hi=Ct.sibling;var wn=je(ge,Ct,Se[Bt],He);if(wn===null){Ct===null&&(Ct=hi);break}t&&Ct&&wn.alternate===null&&i(ge,Ct),fe=b(wn,fe,Bt),sn===null?St=wn:sn.sibling=wn,sn=wn,Ct=hi}if(Bt===Se.length)return l(ge,Ct),bn&&Ao(ge,Bt),St;if(Ct===null){for(;Bt<Se.length;Bt++)Ct=Ve(ge,Se[Bt],He),Ct!==null&&(fe=b(Ct,fe,Bt),sn===null?St=Ct:sn.sibling=Ct,sn=Ct);return bn&&Ao(ge,Bt),St}for(Ct=u(Ct);Bt<Se.length;Bt++)hi=Ce(Ct,ge,Bt,Se[Bt],He),hi!==null&&(t&&hi.alternate!==null&&Ct.delete(hi.key===null?Bt:hi.key),fe=b(hi,fe,Bt),sn===null?St=hi:sn.sibling=hi,sn=hi);return t&&Ct.forEach(function(Nl){return i(ge,Nl)}),bn&&Ao(ge,Bt),St}function Mt(ge,fe,Se,He){if(Se==null)throw Error(a(151));for(var St=null,sn=null,Ct=fe,Bt=fe=0,hi=null,wn=Se.next();Ct!==null&&!wn.done;Bt++,wn=Se.next()){Ct.index>Bt?(hi=Ct,Ct=null):hi=Ct.sibling;var Nl=je(ge,Ct,wn.value,He);if(Nl===null){Ct===null&&(Ct=hi);break}t&&Ct&&Nl.alternate===null&&i(ge,Ct),fe=b(Nl,fe,Bt),sn===null?St=Nl:sn.sibling=Nl,sn=Nl,Ct=hi}if(wn.done)return l(ge,Ct),bn&&Ao(ge,Bt),St;if(Ct===null){for(;!wn.done;Bt++,wn=Se.next())wn=Ve(ge,wn.value,He),wn!==null&&(fe=b(wn,fe,Bt),sn===null?St=wn:sn.sibling=wn,sn=wn);return bn&&Ao(ge,Bt),St}for(Ct=u(Ct);!wn.done;Bt++,wn=Se.next())wn=Ce(Ct,ge,Bt,wn.value,He),wn!==null&&(t&&wn.alternate!==null&&Ct.delete(wn.key===null?Bt:wn.key),fe=b(wn,fe,Bt),sn===null?St=wn:sn.sibling=wn,sn=wn);return t&&Ct.forEach(function(iw){return i(ge,iw)}),bn&&Ao(ge,Bt),St}function In(ge,fe,Se,He){if(typeof Se=="object"&&Se!==null&&Se.type===E&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:e:{for(var St=Se.key;fe!==null;){if(fe.key===St){if(St=Se.type,St===E){if(fe.tag===7){l(ge,fe.sibling),He=g(fe,Se.props.children),He.return=ge,ge=He;break e}}else if(fe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===oe&&N1(St)===fe.type){l(ge,fe.sibling),He=g(fe,Se.props),Hc(He,Se),He.return=ge,ge=He;break e}l(ge,fe);break}else i(ge,fe);fe=fe.sibling}Se.type===E?(He=fs(Se.props.children,ge.mode,He,Se.key),He.return=ge,ge=He):(He=So(Se.type,Se.key,Se.props,null,ge.mode,He),Hc(He,Se),He.return=ge,ge=He)}return T(ge);case y:e:{for(St=Se.key;fe!==null;){if(fe.key===St)if(fe.tag===4&&fe.stateNode.containerInfo===Se.containerInfo&&fe.stateNode.implementation===Se.implementation){l(ge,fe.sibling),He=g(fe,Se.children||[]),He.return=ge,ge=He;break e}else{l(ge,fe);break}else i(ge,fe);fe=fe.sibling}He=Il(Se,ge.mode,He),He.return=ge,ge=He}return T(ge);case oe:return St=Se._init,Se=St(Se._payload),In(ge,fe,Se,He)}if(be(Se))return Ht(ge,fe,Se,He);if(F(Se)){if(St=F(Se),typeof St!="function")throw Error(a(150));return Se=St.call(Se),Mt(ge,fe,Se,He)}if(typeof Se.then=="function")return In(ge,fe,Zh(Se),He);if(Se.$$typeof===I)return In(ge,fe,Zs(ge,Se),He);Qh(ge,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,fe!==null&&fe.tag===6?(l(ge,fe.sibling),He=g(fe,Se),He.return=ge,ge=He):(l(ge,fe),He=Ou(Se,ge.mode,He),He.return=ge,ge=He),T(ge)):l(ge,fe)}return function(ge,fe,Se,He){try{zc=0;var St=In(ge,fe,Se,He);return Uu=null,St}catch(Ct){if(Ct===P||Ct===q)throw Ct;var sn=oi(29,Ct,null,ge.mode);return sn.lanes=He,sn.return=ge,sn}finally{}}}var Iu=T1(!0),O1=T1(!1),Ya=se(null),Qs=null;function hl(t){var i=t.alternate;U(Zr,Zr.current&1),U(Ya,t),Qs===null&&(i===null||zt.current!==null||i.memoizedState!==null)&&(Qs=t)}function L1(t){if(t.tag===22){if(U(Zr,Zr.current),U(Ya,t),Qs===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Qs=t)}}else fl()}function fl(){U(Zr,Zr.current),U(Ya,Ya.current)}function Lo(t){j(Ya),Qs===t&&(Qs=null),j(Zr)}var Zr=se(0);function ef(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xp(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dd(t,i,l,u){i=t.memoizedState,l=l(u,i),l=l==null?i:v({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Pd={enqueueSetState:function(t,i,l){t=t._reactInternals;var u=Ea(),g=Be(u);g.payload=i,l!=null&&(g.callback=l),i=Ke(t,g,u),i!==null&&(Na(i,t,u),Ge(i,t,u))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var u=Ea(),g=Be(u);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Ke(t,g,u),i!==null&&(Na(i,t,u),Ge(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Ea(),u=Be(l);u.tag=2,i!=null&&(u.callback=i),i=Ke(t,u,l),i!==null&&(Na(i,t,l),Ge(i,t,l))}};function j1(t,i,l,u,g,b,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,b,T):i.prototype&&i.prototype.isPureReactComponent?!Ri(l,u)||!Ri(g,b):!0}function k1(t,i,l,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==t&&Pd.enqueueReplaceState(i,i.state,null)}function Zl(t,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(t=t.defaultProps){l===i&&(l=v({},l));for(var g in t)l[g]===void 0&&(l[g]=t[g])}return l}var tf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function C1(t){tf(t)}function R1(t){console.error(t)}function D1(t){tf(t)}function nf(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function P1(t,i,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Md(t,i,l){return l=Be(l),l.tag=3,l.payload={element:null},l.callback=function(){nf(t,i)},l}function M1(t){return t=Be(t),t.tag=3,t}function B1(t,i,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;t.payload=function(){return g(b)},t.callback=function(){P1(i,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){P1(i,l,u),typeof g!="function"&&(yl===null?yl=new Set([this]):yl.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})})}function ib(t,i,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&sl(i,l,g,!0),l=Ya.current,l!==null){switch(l.tag){case 13:return Qs===null?sp():l.alternate===null&&xr===0&&(xr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===H?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),lp(t,u,g)),!1;case 22:return l.flags|=65536,u===H?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),lp(t,u,g)),!1}throw Error(a(435,l.tag))}return lp(t,u,g),sp(),!1}if(bn)return i=Ya.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==Tc&&(t=Error(a(422),{cause:u}),al(Gi(t,l)))):(u!==Tc&&(i=Error(a(423),{cause:u}),al(Gi(i,l))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Gi(u,l),g=Md(t.stateNode,u,g),Nt(t,g),xr!==4&&(xr=2)),!1;var b=Error(a(520),{cause:u});if(b=Gi(b,l),Xc===null?Xc=[b]:Xc.push(b),xr!==4&&(xr=2),i===null)return!0;u=Gi(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=g&-g,l.lanes|=t,t=Md(l.stateNode,u,t),Nt(l,t),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yl===null||!yl.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=M1(g),B1(g,t,l,u),Nt(l,g),!1}l=l.return}while(l!==null);return!1}var U1=Error(a(461)),ui=!1;function _i(t,i,l,u){i.child=t===null?O1(i,null,l,u):Iu(i,t.child,l,u)}function I1(t,i,l,u,g){l=l.render;var b=i.ref;if("ref"in u){var T={};for(var B in u)B!=="ref"&&(T[B]=u[B])}else T=u;return $a(i),u=Ki(t,i,l,T,b,g),B=pr(),t!==null&&!ui?(bi(t,i,g),jo(t,i,g)):(bn&&B&&ql(i),i.flags|=1,_i(t,i,u,g),i.child)}function q1(t,i,l,u,g){if(t===null){var b=l.type;return typeof b=="function"&&!rl(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,F1(t,i,b,u,g)):(t=So(l.type,null,u,i,i.mode,g),t.ref=i.ref,t.return=i,i.child=t)}if(b=t.child,!$d(t,g)){var T=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ri,l(T,u)&&t.ref===i.ref)return jo(t,i,g)}return i.flags|=1,t=qa(b,u),t.ref=i.ref,t.return=i,i.child=t}function F1(t,i,l,u,g){if(t!==null){var b=t.memoizedProps;if(Ri(b,u)&&t.ref===i.ref)if(ui=!1,i.pendingProps=u=b,$d(t,g))(t.flags&131072)!==0&&(ui=!0);else return i.lanes=t.lanes,jo(t,i,g)}return Bd(t,i,l,u,g)}function z1(t,i,l){var u=i.pendingProps,g=u.children,b=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=b!==null?b.baseLanes|l:l,t!==null){for(g=i.child=t.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;i.childLanes=b&~u}else i.childLanes=0,i.child=null;return H1(t,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&A(i,b!==null?b.cachePool:null),b!==null?nt(i,b):Qn(),L1(i);else return i.lanes=i.childLanes=536870912,H1(t,i,b!==null?b.baseLanes|l:l,l)}else b!==null?(A(i,b.cachePool),nt(i,b),fl(),i.memoizedState=null):(t!==null&&A(i,null),Qn(),fl());return _i(t,i,g,l),i.child}function H1(t,i,l,u){var g=S();return g=g===null?null:{parent:Or._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},t!==null&&A(i,null),Qn(),L1(i),t!==null&&sl(t,i,u,!0),null}function rf(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Bd(t,i,l,u,g){return $a(i),l=Ki(t,i,l,u,void 0,g),u=pr(),t!==null&&!ui?(bi(t,i,g),jo(t,i,g)):(bn&&u&&ql(i),i.flags|=1,_i(t,i,l,g),i.child)}function $1(t,i,l,u,g,b){return $a(i),i.updateQueue=null,l=yi(i,u,l,g),sr(t),u=pr(),t!==null&&!ui?(bi(t,i,b),jo(t,i,b)):(bn&&u&&ql(i),i.flags|=1,_i(t,i,l,b),i.child)}function G1(t,i,l,u,g){if($a(i),i.stateNode===null){var b=Ir,T=l.contextType;typeof T=="object"&&T!==null&&(b=Tr(T)),b=new l(u,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Pd,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=u,b.state=i.memoizedState,b.refs={},Ae(i),T=l.contextType,b.context=typeof T=="object"&&T!==null?Tr(T):Ir,b.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Dd(i,l,T,u),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&Pd.enqueueReplaceState(b,b.state,null),pt(i,u,b,g),$t(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){b=i.stateNode;var B=i.memoizedProps,ie=Zl(l,B);b.props=ie;var Oe=b.context,Fe=l.contextType;T=Ir,typeof Fe=="object"&&Fe!==null&&(T=Tr(Fe));var Ve=l.getDerivedStateFromProps;Fe=typeof Ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,Fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B||Oe!==T)&&k1(i,b,u,T),De=!1;var je=i.memoizedState;b.state=je,pt(i,u,b,g),$t(),Oe=i.memoizedState,B||je!==Oe||De?(typeof Ve=="function"&&(Dd(i,l,Ve,u),Oe=i.memoizedState),(ie=De||j1(i,l,ie,u,je,Oe,T))?(Fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Oe),b.props=u,b.state=Oe,b.context=T,u=ie):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{b=i.stateNode,Ue(t,i),T=i.memoizedProps,Fe=Zl(l,T),b.props=Fe,Ve=i.pendingProps,je=b.context,Oe=l.contextType,ie=Ir,typeof Oe=="object"&&Oe!==null&&(ie=Tr(Oe)),B=l.getDerivedStateFromProps,(Oe=typeof B=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Ve||je!==ie)&&k1(i,b,u,ie),De=!1,je=i.memoizedState,b.state=je,pt(i,u,b,g),$t();var Ce=i.memoizedState;T!==Ve||je!==Ce||De||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof B=="function"&&(Dd(i,l,B,u),Ce=i.memoizedState),(Fe=De||j1(i,l,Fe,u,je,Ce,ie)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(Oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,Ce,ie),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,Ce,ie)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===t.memoizedProps&&je===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&je===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Ce),b.props=u,b.state=Ce,b.context=ie,u=Fe):(typeof b.componentDidUpdate!="function"||T===t.memoizedProps&&je===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&je===t.memoizedState||(i.flags|=1024),u=!1)}return b=u,rf(t,i),u=(i.flags&128)!==0,b||u?(b=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,t!==null&&u?(i.child=Iu(i,t.child,null,g),i.child=Iu(i,null,l,g)):_i(t,i,l,g),i.memoizedState=b.state,t=i.child):t=jo(t,i,g),t}function V1(t,i,l,u){return Wi(),i.flags|=256,_i(t,i,l,u),i.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:R()}}function qd(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=Wa),t}function Y1(t,i,l){var u=i.pendingProps,g=!1,b=(i.flags&128)!==0,T;if((T=b)||(T=t!==null&&t.memoizedState===null?!1:(Zr.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(bn){if(g?hl(i):fl(),bn){var B=rr,ie;if(ie=B){e:{for(ie=B,B=Fa;ie.nodeType!==8;){if(!B){B=null;break e}if(ie=As(ie.nextSibling),ie===null){B=null;break e}}B=ie}B!==null?(i.memoizedState={dehydrated:B,treeContext:xo!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},ie=oi(18,null,null,0),ie.stateNode=B,ie.return=i,i.child=ie,Nr=i,rr=null,ie=!0):ie=!1}ie||Eo(i)}if(B=i.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return xp(B)?i.lanes=32:i.lanes=536870912,null;Lo(i)}return B=u.children,u=u.fallback,g?(fl(),g=i.mode,B=af({mode:"hidden",children:B},g),u=fs(u,g,l,null),B.return=i,u.return=i,B.sibling=u,i.child=B,g=i.child,g.memoizedState=Id(l),g.childLanes=qd(t,T,l),i.memoizedState=Ud,u):(hl(i),Fd(i,B))}if(ie=t.memoizedState,ie!==null&&(B=ie.dehydrated,B!==null)){if(b)i.flags&256?(hl(i),i.flags&=-257,i=zd(t,i,l)):i.memoizedState!==null?(fl(),i.child=t.child,i.flags|=128,i=null):(fl(),g=u.fallback,B=i.mode,u=af({mode:"visible",children:u.children},B),g=fs(g,B,l,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,Iu(i,t.child,null,l),u=i.child,u.memoizedState=Id(l),u.childLanes=qd(t,T,l),i.memoizedState=Ud,i=g);else if(hl(i),xp(B)){if(T=B.nextSibling&&B.nextSibling.dataset,T)var Oe=T.dgst;T=Oe,u=Error(a(419)),u.stack="",u.digest=T,al({value:u,source:null,stack:null}),i=zd(t,i,l)}else if(ui||sl(t,i,l,!1),T=(l&t.childLanes)!==0,ui||T){if(T=Yn,T!==null&&(u=l&-l,u=(u&42)!==0?1:qn(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==ie.retryLane))throw ie.retryLane=u,wo(t,u),Na(T,t,u),U1;B.data==="$?"||sp(),i=zd(t,i,l)}else B.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=ie.treeContext,rr=As(B.nextSibling),Nr=i,bn=!0,Xs=null,Fa=!1,t!==null&&(ia[Yi++]=ps,ia[Yi++]=gs,ia[Yi++]=xo,ps=t.id,gs=t.overflow,xo=i),i=Fd(i,u.children),i.flags|=4096);return i}return g?(fl(),g=u.fallback,B=i.mode,ie=t.child,Oe=ie.sibling,u=qa(ie,{mode:"hidden",children:u.children}),u.subtreeFlags=ie.subtreeFlags&65011712,Oe!==null?g=qa(Oe,g):(g=fs(g,B,l,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,B=t.child.memoizedState,B===null?B=Id(l):(ie=B.cachePool,ie!==null?(Oe=Or._currentValue,ie=ie.parent!==Oe?{parent:Oe,pool:Oe}:ie):ie=R(),B={baseLanes:B.baseLanes|l,cachePool:ie}),g.memoizedState=B,g.childLanes=qd(t,T,l),i.memoizedState=Ud,u):(hl(i),l=t.child,t=l.sibling,l=qa(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function Fd(t,i){return i=af({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function af(t,i){return t=oi(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zd(t,i,l){return Iu(i,t.child,null,l),t=Fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function W1(t,i,l){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),ju(t.return,i,l)}function Hd(t,i,l,u,g){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=l,b.tailMode=g)}function K1(t,i,l){var u=i.pendingProps,g=u.revealOrder,b=u.tail;if(_i(t,i,u.children,l),u=Zr.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W1(t,l,i);else if(t.tag===19)W1(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(U(Zr,u),g){case"forwards":for(l=i.child,g=null;l!==null;)t=l.alternate,t!==null&&ef(t)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Hd(i,!1,g,l,b);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(t=g.alternate,t!==null&&ef(t)===null){i.child=g;break}t=g.sibling,g.sibling=l,l=g,g=t}Hd(i,!0,l,null,b);break;case"together":Hd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jo(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),ml|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(sl(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=qa(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=qa(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function $d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function ab(t,i,l){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),Js(i,Or,t.memoizedState.cache),Wi();break;case 27:case 5:Me(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:Js(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(hl(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Y1(t,i,l):(hl(i),t=jo(t,i,l),t!==null?t.sibling:null);hl(i);break;case 19:var g=(t.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(sl(t,i,l,!1),u=(l&i.childLanes)!==0),g){if(u)return K1(t,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),U(Zr,Zr.current),u)break;return null;case 22:case 23:return i.lanes=0,z1(t,i,l);case 24:Js(i,Or,t.memoizedState.cache)}return jo(t,i,l)}function X1(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)ui=!0;else{if(!$d(t,l)&&(i.flags&128)===0)return ui=!1,ab(t,i,l);ui=(t.flags&131072)!==0}else ui=!1,bn&&(i.flags&1048576)!==0&&Dh(i,Lu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")rl(u)?(t=Zl(u,t),i.tag=1,i=G1(null,i,u,t,l)):(i.tag=0,i=Bd(null,i,u,t,l));else{if(u!=null){if(g=u.$$typeof,g===z){i.tag=11,i=I1(null,i,u,t,l);break e}else if(g===ye){i.tag=14,i=q1(null,i,u,t,l);break e}}throw i=ee(u)||u,Error(a(306,i,""))}}return i;case 0:return Bd(t,i,i.type,i.pendingProps,l);case 1:return u=i.type,g=Zl(u,i.pendingProps),G1(t,i,u,g,l);case 3:e:{if(_e(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var b=i.memoizedState;g=b.element,Ue(t,i),pt(i,u,null,l);var T=i.memoizedState;if(u=T.cache,Js(i,Or,u),u!==b.cache&&ku(i,[Or],l,!0),$t(),u=T.element,b.isDehydrated)if(b={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=V1(t,i,u,l);break e}else if(u!==g){g=Gi(Error(a(424)),i),al(g),i=V1(t,i,u,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rr=As(t.firstChild),Nr=i,bn=!0,Xs=null,Fa=!0,l=O1(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wi(),u===g){i=jo(t,i,l);break e}_i(t,i,u,l)}i=i.child}return i;case 26:return rf(t,i),t===null?(l=e2(i.type,null,i.pendingProps,null))?i.memoizedState=l:bn||(l=i.type,t=i.pendingProps,u=bf(ne.current).createElement(l),u[Tn]=i,u[_n]=t,xi(u,l,t),Ln(u),i.stateNode=u):i.memoizedState=e2(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Me(i),t===null&&bn&&(u=i.stateNode=Jg(i.type,i.pendingProps,ne.current),Nr=i,Fa=!0,g=rr,_l(i.type)?(Ap=g,rr=As(u.firstChild)):rr=g),_i(t,i,i.pendingProps.children,l),rf(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&bn&&((g=u=rr)&&(u=Rb(u,i.type,i.pendingProps,Fa),u!==null?(i.stateNode=u,Nr=i,rr=As(u.firstChild),Fa=!1,g=!0):g=!1),g||Eo(i)),Me(i),g=i.type,b=i.pendingProps,T=t!==null?t.memoizedProps:null,u=b.children,wp(g,b)?u=null:T!==null&&wp(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=Ki(t,i,jn,null,null,l),ah._currentValue=g),rf(t,i),_i(t,i,u,l),i.child;case 6:return t===null&&bn&&((t=l=rr)&&(l=Db(l,i.pendingProps,Fa),l!==null?(i.stateNode=l,Nr=i,rr=null,t=!0):t=!1),t||Eo(i)),null;case 13:return Y1(t,i,l);case 4:return _e(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Iu(i,null,u,l):_i(t,i,u,l),i.child;case 11:return I1(t,i,i.type,i.pendingProps,l);case 7:return _i(t,i,i.pendingProps,l),i.child;case 8:return _i(t,i,i.pendingProps.children,l),i.child;case 12:return _i(t,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Js(i,i.type,u.value),_i(t,i,u.children,l),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,$a(i),g=Tr(g),u=u(g),i.flags|=1,_i(t,i,u,l),i.child;case 14:return q1(t,i,i.type,i.pendingProps,l);case 15:return F1(t,i,i.type,i.pendingProps,l);case 19:return K1(t,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},t===null?(l=af(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=qa(t.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return z1(t,i,l);case 24:return $a(i),u=Tr(Or),t===null?(g=S(),g===null&&(g=Yn,b=Oc(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),i.memoizedState={parent:u,cache:g},Ae(i),Js(i,Or,g)):((t.lanes&l)!==0&&(Ue(t,i),pt(i,null,null,l),$t()),g=t.memoizedState,b=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Js(i,Or,u)):(u=b.cache,Js(i,Or,u),u!==g.cache&&ku(i,[Or],l,!0))),_i(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ko(t){t.flags|=4}function J1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!a2(i)){if(i=Ya.current,i!==null&&((yn&4194048)===yn?Qs!==null:(yn&62914560)!==yn&&(yn&536870912)===0||i!==Qs))throw K=H,M;t.flags|=8192}}function sf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?It():536870912,t.lanes|=i,Hu|=i)}function $c(t,i){if(!bn)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function gr(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(i)for(var g=t.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=l,i}function sb(t,i,l){var u=i.pendingProps;switch(Fl(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(i),null;case 1:return gr(i),null;case 3:return l=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ha(Or),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(mi(i)?ko(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mh())),gr(i),null;case 26:return l=i.memoizedState,t===null?(ko(i),l!==null?(gr(i),J1(i,l)):(gr(i),i.flags&=-16777217)):l?l!==t.memoizedState?(ko(i),gr(i),J1(i,l)):(gr(i),i.flags&=-16777217):(t.memoizedProps!==u&&ko(i),gr(i),i.flags&=-16777217),null;case 27:Ye(i),l=ne.current;var g=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ko(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return gr(i),null}t=V.current,mi(i)?Ph(i):(t=Jg(g,u,l),i.stateNode=t,ko(i))}return gr(i),null;case 5:if(Ye(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ko(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return gr(i),null}if(t=V.current,mi(i))Ph(i);else{switch(g=bf(ne.current),t){case 1:t=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}t[Tn]=i,t[_n]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)t.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=t;e:switch(xi(t,l,u),l){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ko(i)}}return gr(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ko(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ne.current,mi(i)){if(t=i.stateNode,l=i.memoizedProps,u=null,g=Nr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[Tn]=i,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$g(t.nodeValue,l)),t||Eo(i)}else t=bf(t).createTextNode(u),t[Tn]=i,i.stateNode=t}return gr(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=mi(i),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Tn]=i}else Wi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gr(i),g=!1}else g=Mh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Lo(i),i):(Lo(i),null)}if(Lo(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,t=t!==null&&t.memoizedState!==null,l){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var b=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==g&&(u.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),sf(i,i.updateQueue),gr(i),null;case 4:return ke(),t===null&&gp(i.stateNode.containerInfo),gr(i),null;case 10:return Ha(i.type),gr(i),null;case 19:if(j(Zr),g=i.memoizedState,g===null)return gr(i),null;if(u=(i.flags&128)!==0,b=g.rendering,b===null)if(u)$c(g,!1);else{if(xr!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(b=ef(t),b!==null){for(i.flags|=128,$c(g,!1),t=b.updateQueue,i.updateQueue=t,sf(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)Ul(l,t),l=l.sibling;return U(Zr,Zr.current&1|2),i.child}t=t.sibling}g.tail!==null&&it()>uf&&(i.flags|=128,u=!0,$c(g,!1),i.lanes=4194304)}else{if(!u)if(t=ef(b),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,sf(i,t),$c(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!bn)return gr(i),null}else 2*it()-g.renderingStartTime>uf&&l!==536870912&&(i.flags|=128,u=!0,$c(g,!1),i.lanes=4194304);g.isBackwards?(b.sibling=i.child,i.child=b):(t=g.last,t!==null?t.sibling=b:i.child=b,g.last=b)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=it(),i.sibling=null,t=Zr.current,U(Zr,u?t&1|2:t&1),i):(gr(i),null);case 22:case 23:return Lo(i),Gt(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(gr(i),i.subtreeFlags&6&&(i.flags|=8192)):gr(i),l=i.updateQueue,l!==null&&sf(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),t!==null&&j(m),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ha(Or),gr(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ob(t,i){switch(Fl(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ha(Or),ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ye(i),null;case 13:if(Lo(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(Zr),null;case 4:return ke(),null;case 10:return Ha(i.type),null;case 22:case 23:return Lo(i),Gt(),t!==null&&j(m),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ha(Or),null;case 25:return null;default:return null}}function Z1(t,i){switch(Fl(i),i.tag){case 3:Ha(Or),ke();break;case 26:case 27:case 5:Ye(i);break;case 4:ke();break;case 13:Lo(i);break;case 19:j(Zr);break;case 10:Ha(i.type);break;case 22:case 23:Lo(i),Gt(),t!==null&&j(m);break;case 24:Ha(Or)}}function Gc(t,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&t)===t){u=void 0;var b=l.create,T=l.inst;u=b(),T.destroy=u}l=l.next}while(l!==g)}}catch(B){$n(i,i.return,B)}}function dl(t,i,l){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var b=g.next;u=b;do{if((u.tag&t)===t){var T=u.inst,B=T.destroy;if(B!==void 0){T.destroy=void 0,g=i;var ie=l,Oe=B;try{Oe()}catch(Fe){$n(g,ie,Fe)}}}u=u.next}while(u!==b)}}catch(Fe){$n(i,i.return,Fe)}}function Q1(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Sr(i,l)}catch(u){$n(t,t.return,u)}}}function eg(t,i,l){l.props=Zl(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){$n(t,i,u)}}function Vc(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(g){$n(t,i,g)}}function eo(t,i){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){$n(t,i,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){$n(t,i,g)}else l.current=null}function tg(t){var i=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){$n(t,t.return,g)}}function Gd(t,i,l){try{var u=t.stateNode;Ob(u,t.type,l,i),u[_n]=i}catch(g){$n(t,t.return,g)}}function ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_l(t.type)||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_l(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=yf));else if(u!==4&&(u===27&&_l(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(Yd(t,i,l),t=t.sibling;t!==null;)Yd(t,i,l),t=t.sibling}function of(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(u!==4&&(u===27&&_l(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(of(t,i,l),t=t.sibling;t!==null;)of(t,i,l),t=t.sibling}function rg(t){var i=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);xi(i,u,l),i[Tn]=t,i[_n]=l}catch(b){$n(t,t.return,b)}}var Co=!1,Cr=!1,Wd=!1,ig=typeof WeakSet=="function"?WeakSet:Set,ci=null;function lb(t,i){if(t=t.containerInfo,yp=Ef,t=el(t),Ua(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,b=u.focusNode;u=u.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var T=0,B=-1,ie=-1,Oe=0,Fe=0,Ve=t,je=null;t:for(;;){for(var Ce;Ve!==l||g!==0&&Ve.nodeType!==3||(B=T+g),Ve!==b||u!==0&&Ve.nodeType!==3||(ie=T+u),Ve.nodeType===3&&(T+=Ve.nodeValue.length),(Ce=Ve.firstChild)!==null;)je=Ve,Ve=Ce;for(;;){if(Ve===t)break t;if(je===l&&++Oe===g&&(B=T),je===b&&++Fe===u&&(ie=T),(Ce=Ve.nextSibling)!==null)break;Ve=je,je=Ve.parentNode}Ve=Ce}l=B===-1||ie===-1?null:{start:B,end:ie}}else l=null}l=l||{start:0,end:0}}else l=null;for(bp={focusedElem:t,selectionRange:l},Ef=!1,ci=i;ci!==null;)if(i=ci,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ci=t;else for(;ci!==null;){switch(i=ci,b=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,l=i,g=b.memoizedProps,b=b.memoizedState,u=l.stateNode;try{var Ht=Zl(l.type,g,l.elementType===l.type);t=u.getSnapshotBeforeUpdate(Ht,b),u.__reactInternalSnapshotBeforeUpdate=t}catch(Mt){$n(l,l.return,Mt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Sp(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ci=t;break}ci=i.return}}function ag(t,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:pl(t,l),u&4&&Gc(5,l);break;case 1:if(pl(t,l),u&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){$n(l,l.return,T)}else{var g=Zl(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(g,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){$n(l,l.return,T)}}u&64&&Q1(l),u&512&&Vc(l,l.return);break;case 3:if(pl(t,l),u&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Sr(t,i)}catch(T){$n(l,l.return,T)}}break;case 27:i===null&&u&4&&rg(l);case 26:case 5:pl(t,l),i===null&&u&4&&tg(l),u&512&&Vc(l,l.return);break;case 12:pl(t,l);break;case 13:pl(t,l),u&4&&lg(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=mb.bind(null,l),Pb(t,l))));break;case 22:if(u=l.memoizedState!==null||Co,!u){i=i!==null&&i.memoizedState!==null||Cr,g=Co;var b=Cr;Co=u,(Cr=i)&&!b?gl(t,l,(l.subtreeFlags&8772)!==0):pl(t,l),Co=g,Cr=b}break;case 30:break;default:pl(t,l)}}function sg(t){var i=t.alternate;i!==null&&(t.alternate=null,sg(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ti(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var or=null,aa=!1;function Ro(t,i,l){for(l=l.child;l!==null;)og(t,i,l),l=l.sibling}function og(t,i,l){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(et,l)}catch{}switch(l.tag){case 26:Cr||eo(l,i),Ro(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cr||eo(l,i);var u=or,g=aa;_l(l.type)&&(or=l.stateNode,aa=!1),Ro(t,i,l),th(l.stateNode),or=u,aa=g;break;case 5:Cr||eo(l,i);case 6:if(u=or,g=aa,or=null,Ro(t,i,l),or=u,aa=g,or!==null)if(aa)try{(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).removeChild(l.stateNode)}catch(b){$n(l,i,b)}else try{or.removeChild(l.stateNode)}catch(b){$n(l,i,b)}break;case 18:or!==null&&(aa?(t=or,Kg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),uh(t)):Kg(or,l.stateNode));break;case 4:u=or,g=aa,or=l.stateNode.containerInfo,aa=!0,Ro(t,i,l),or=u,aa=g;break;case 0:case 11:case 14:case 15:Cr||dl(2,l,i),Cr||dl(4,l,i),Ro(t,i,l);break;case 1:Cr||(eo(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&eg(l,i,u)),Ro(t,i,l);break;case 21:Ro(t,i,l);break;case 22:Cr=(u=Cr)||l.memoizedState!==null,Ro(t,i,l),Cr=u;break;default:Ro(t,i,l)}}function lg(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uh(t)}catch(l){$n(i,i.return,l)}}function ub(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ig),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ig),i;default:throw Error(a(435,t.tag))}}function Kd(t,i){var l=ub(t);i.forEach(function(u){var g=yb.bind(null,t,u);l.has(u)||(l.add(u),u.then(g,g))})}function Sa(t,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],b=t,T=i,B=T;e:for(;B!==null;){switch(B.tag){case 27:if(_l(B.type)){or=B.stateNode,aa=!1;break e}break;case 5:or=B.stateNode,aa=!1;break e;case 3:case 4:or=B.stateNode.containerInfo,aa=!0;break e}B=B.return}if(or===null)throw Error(a(160));og(b,T,g),or=null,aa=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ug(i,t),i=i.sibling}var xs=null;function ug(t,i){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sa(i,t),xa(t),u&4&&(dl(3,t,t.return),Gc(3,t),dl(5,t,t.return));break;case 1:Sa(i,t),xa(t),u&512&&(Cr||l===null||eo(l,l.return)),u&64&&Co&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=xs;if(Sa(i,t),xa(t),u&512&&(Cr||l===null||eo(l,l.return)),u&4){var b=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ei]||b[Tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(u),g.head.insertBefore(b,g.querySelector("head > title"))),xi(b,u,l),b[Tn]=t,Ln(b),u=b;break e;case"link":var T=r2("link","href",g).get(u+(l.href||""));if(T){for(var B=0;B<T.length;B++)if(b=T[B],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(B,1);break t}}b=g.createElement(u),xi(b,u,l),g.head.appendChild(b);break;case"meta":if(T=r2("meta","content",g).get(u+(l.content||""))){for(B=0;B<T.length;B++)if(b=T[B],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(B,1);break t}}b=g.createElement(u),xi(b,u,l),g.head.appendChild(b);break;default:throw Error(a(468,u))}b[Tn]=t,Ln(b),u=b}t.stateNode=u}else i2(g,t.type,t.stateNode);else t.stateNode=n2(g,u,t.memoizedProps);else b!==u?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,u===null?i2(g,t.type,t.stateNode):n2(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Gd(t,t.memoizedProps,l.memoizedProps)}break;case 27:Sa(i,t),xa(t),u&512&&(Cr||l===null||eo(l,l.return)),l!==null&&u&4&&Gd(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Sa(i,t),xa(t),u&512&&(Cr||l===null||eo(l,l.return)),t.flags&32){g=t.stateNode;try{ga(g,"")}catch(Ce){$n(t,t.return,Ce)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,Gd(t,g,l!==null?l.memoizedProps:g)),u&1024&&(Wd=!0);break;case 6:if(Sa(i,t),xa(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(Ce){$n(t,t.return,Ce)}}break;case 3:if(Sf=null,g=xs,xs=wf(i.containerInfo),Sa(i,t),xs=g,xa(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{uh(i.containerInfo)}catch(Ce){$n(t,t.return,Ce)}Wd&&(Wd=!1,cg(t));break;case 4:u=xs,xs=wf(t.stateNode.containerInfo),Sa(i,t),xa(t),xs=u;break;case 12:Sa(i,t),xa(t);break;case 13:Sa(i,t),xa(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(tp=it()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Kd(t,u)));break;case 22:g=t.memoizedState!==null;var ie=l!==null&&l.memoizedState!==null,Oe=Co,Fe=Cr;if(Co=Oe||g,Cr=Fe||ie,Sa(i,t),Cr=Fe,Co=Oe,xa(t),u&8192)e:for(i=t.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||ie||Co||Cr||Ql(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){ie=l=i;try{if(b=ie.stateNode,g)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{B=ie.stateNode;var Ve=ie.memoizedProps.style,je=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;B.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ce){$n(ie,ie.return,Ce)}}}else if(i.tag===6){if(l===null){ie=i;try{ie.stateNode.nodeValue=g?"":ie.memoizedProps}catch(Ce){$n(ie,ie.return,Ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Kd(t,l))));break;case 19:Sa(i,t),xa(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Kd(t,u)));break;case 30:break;case 21:break;default:Sa(i,t),xa(t)}}function xa(t){var i=t.flags;if(i&2){try{for(var l,u=t.return;u!==null;){if(ng(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var g=l.stateNode,b=Vd(t);of(t,b,g);break;case 5:var T=l.stateNode;l.flags&32&&(ga(T,""),l.flags&=-33);var B=Vd(t);of(t,B,T);break;case 3:case 4:var ie=l.stateNode.containerInfo,Oe=Vd(t);Yd(t,Oe,ie);break;default:throw Error(a(161))}}catch(Fe){$n(t,t.return,Fe)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function cg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;cg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function pl(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ag(t,i.alternate,i),i=i.sibling}function Ql(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:dl(4,i,i.return),Ql(i);break;case 1:eo(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&eg(i,i.return,l),Ql(i);break;case 27:th(i.stateNode);case 26:case 5:eo(i,i.return),Ql(i);break;case 22:i.memoizedState===null&&Ql(i);break;case 30:Ql(i);break;default:Ql(i)}t=t.sibling}}function gl(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=t,b=i,T=b.flags;switch(b.tag){case 0:case 11:case 15:gl(g,b,l),Gc(4,b);break;case 1:if(gl(g,b,l),u=b,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Oe){$n(u,u.return,Oe)}if(u=b,g=u.updateQueue,g!==null){var B=u.stateNode;try{var ie=g.shared.hiddenCallbacks;if(ie!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ie.length;g++)an(ie[g],B)}catch(Oe){$n(u,u.return,Oe)}}l&&T&64&&Q1(b),Vc(b,b.return);break;case 27:rg(b);case 26:case 5:gl(g,b,l),l&&u===null&&T&4&&tg(b),Vc(b,b.return);break;case 12:gl(g,b,l);break;case 13:gl(g,b,l),l&&T&4&&lg(g,b);break;case 22:b.memoizedState===null&&gl(g,b,l),Vc(b,b.return);break;case 30:break;default:gl(g,b,l)}i=i.sibling}}function Xd(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&zl(l))}function Jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t))}function to(t,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hg(t,i,l,u),i=i.sibling}function hg(t,i,l,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:to(t,i,l,u),g&2048&&Gc(9,i);break;case 1:to(t,i,l,u);break;case 3:to(t,i,l,u),g&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t)));break;case 12:if(g&2048){to(t,i,l,u),t=i.stateNode;try{var b=i.memoizedProps,T=b.id,B=b.onPostCommit;typeof B=="function"&&B(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ie){$n(i,i.return,ie)}}else to(t,i,l,u);break;case 13:to(t,i,l,u);break;case 23:break;case 22:b=i.stateNode,T=i.alternate,i.memoizedState!==null?b._visibility&2?to(t,i,l,u):Yc(t,i):b._visibility&2?to(t,i,l,u):(b._visibility|=2,qu(t,i,l,u,(i.subtreeFlags&10256)!==0)),g&2048&&Xd(T,i);break;case 24:to(t,i,l,u),g&2048&&Jd(i.alternate,i);break;default:to(t,i,l,u)}}function qu(t,i,l,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=t,T=i,B=l,ie=u,Oe=T.flags;switch(T.tag){case 0:case 11:case 15:qu(b,T,B,ie,g),Gc(8,T);break;case 23:break;case 22:var Fe=T.stateNode;T.memoizedState!==null?Fe._visibility&2?qu(b,T,B,ie,g):Yc(b,T):(Fe._visibility|=2,qu(b,T,B,ie,g)),g&&Oe&2048&&Xd(T.alternate,T);break;case 24:qu(b,T,B,ie,g),g&&Oe&2048&&Jd(T.alternate,T);break;default:qu(b,T,B,ie,g)}i=i.sibling}}function Yc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,u=i,g=u.flags;switch(u.tag){case 22:Yc(l,u),g&2048&&Xd(u.alternate,u);break;case 24:Yc(l,u),g&2048&&Jd(u.alternate,u);break;default:Yc(l,u)}i=i.sibling}}var Wc=8192;function Fu(t){if(t.subtreeFlags&Wc)for(t=t.child;t!==null;)fg(t),t=t.sibling}function fg(t){switch(t.tag){case 26:Fu(t),t.flags&Wc&&t.memoizedState!==null&&Wb(xs,t.memoizedState,t.memoizedProps);break;case 5:Fu(t);break;case 3:case 4:var i=xs;xs=wf(t.stateNode.containerInfo),Fu(t),xs=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Wc,Wc=16777216,Fu(t),Wc=i):Fu(t));break;default:Fu(t)}}function dg(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];ci=u,gg(u,t)}dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pg(t),t=t.sibling}function pg(t){switch(t.tag){case 0:case 11:case 15:Kc(t),t.flags&2048&&dl(9,t,t.return);break;case 3:Kc(t);break;case 12:Kc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,lf(t)):Kc(t);break;default:Kc(t)}}function lf(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];ci=u,gg(u,t)}dg(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:dl(8,i,i.return),lf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,lf(i));break;default:lf(i)}t=t.sibling}}function gg(t,i){for(;ci!==null;){var l=ci;switch(l.tag){case 0:case 11:case 15:dl(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,ci=u;else e:for(l=t;ci!==null;){u=ci;var g=u.sibling,b=u.return;if(sg(u),u===l){ci=null;break e}if(g!==null){g.return=b,ci=g;break e}ci=b}}}var cb={getCacheForType:function(t){var i=Tr(Or),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},hb=typeof WeakMap=="function"?WeakMap:Map,kn=0,Yn=null,ln=null,yn=0,Cn=0,Aa=null,vl=!1,zu=!1,Zd=!1,Do=0,xr=0,ml=0,eu=0,Qd=0,Wa=0,Hu=0,Xc=null,sa=null,ep=!1,tp=0,uf=1/0,cf=null,yl=null,Si=0,bl=null,$u=null,Gu=0,np=0,rp=null,vg=null,Jc=0,ip=null;function Ea(){if((kn&2)!==0&&yn!==0)return yn&-yn;if(Z.T!==null){var t=No;return t!==0?t:hp()}return $r()}function mg(){Wa===0&&(Wa=(yn&536870912)===0||bn?Lt():536870912);var t=Ya.current;return t!==null&&(t.flags|=32),Wa}function Na(t,i,l){(t===Yn&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)&&(Vu(t,0),wl(t,yn,Wa,!1)),qt(t,l),((kn&2)===0||t!==Yn)&&(t===Yn&&((kn&2)===0&&(eu|=l),xr===4&&wl(t,yn,Wa,!1)),no(t))}function yg(t,i,l){if((kn&6)!==0)throw Error(a(327));var u=!l&&(i&124)===0&&(i&t.expiredLanes)===0||Et(t,i),g=u?pb(t,i):op(t,i,!0),b=u;do{if(g===0){zu&&!u&&wl(t,i,0,!1);break}else{if(l=t.current.alternate,b&&!fb(l)){g=op(t,i,!1),b=!1;continue}if(g===2){if(b=i,t.errorRecoveryDisabledLanes&b)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var B=t;g=Xc;var ie=B.current.memoizedState.isDehydrated;if(ie&&(Vu(B,T).flags|=256),T=op(B,T,!1),T!==2){if(Zd&&!ie){B.errorRecoveryDisabledLanes|=b,eu|=b,g=4;break e}b=sa,sa=g,b!==null&&(sa===null?sa=b:sa.push.apply(sa,b))}g=T}if(b=!1,g!==2)continue}}if(g===1){Vu(t,0),wl(t,i,0,!0);break}e:{switch(u=t,b=g,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wl(u,i,Wa,!vl);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=tp+300-it(),10<g)){if(wl(u,i,Wa,!vl),Dt(u,0,!0)!==0)break e;u.timeoutHandle=Yg(bg.bind(null,u,l,sa,cf,ep,i,Wa,eu,Hu,vl,b,2,-0,0),g);break e}bg(u,l,sa,cf,ep,i,Wa,eu,Hu,vl,b,0,-0,0)}}break}while(!0);no(t)}function bg(t,i,l,u,g,b,T,B,ie,Oe,Fe,Ve,je,Ce){if(t.timeoutHandle=-1,Ve=i.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(ih={stylesheets:null,count:0,unsuspend:Yb},fg(i),Ve=Kb(),Ve!==null)){t.cancelPendingCommit=Ve(Ng.bind(null,t,i,b,l,u,g,T,B,ie,Fe,1,je,Ce)),wl(t,b,T,!Oe);return}Ng(t,i,b,l,u,g,T,B,ie)}function fb(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],b=g.getSnapshot;g=g.value;try{if(!tr(b(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wl(t,i,l,u){i&=~Qd,i&=~eu,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var g=i;0<g;){var b=31-Xe(g),T=1<<b;u[b]=-1,g&=~T}l!==0&&Kt(t,l,i)}function hf(){return(kn&6)===0?(Zc(0),!1):!0}function ap(){if(ln!==null){if(Cn===0)var t=ln.return;else t=ln,ms=qr=null,Xr(t),Uu=null,zc=0,t=ln;for(;t!==null;)Z1(t.alternate,t),t=t.return;ln=null}}function Vu(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,jb(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),ap(),Yn=t,ln=l=qa(t.current,null),yn=i,Cn=0,Aa=null,vl=!1,zu=Et(t,i),Zd=!1,Hu=Wa=Qd=eu=ml=xr=0,sa=Xc=null,ep=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var g=31-Xe(u),b=1<<g;i|=t[g],u&=~b}return Do=i,Ml(),l}function wg(t,i){bt=null,Z.H=Jh,i===P||i===q?(i=de(),Cn=3):i===M?(i=de(),Cn=4):Cn=i===U1?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Aa=i,ln===null&&(xr=1,nf(t,Gi(i,t.current)))}function _g(){var t=Z.H;return Z.H=Jh,t===null?Jh:t}function Sg(){var t=Z.A;return Z.A=cb,t}function sp(){xr=4,vl||(yn&4194048)!==yn&&Ya.current!==null||(zu=!0),(ml&134217727)===0&&(eu&134217727)===0||Yn===null||wl(Yn,yn,Wa,!1)}function op(t,i,l){var u=kn;kn|=2;var g=_g(),b=Sg();(Yn!==t||yn!==i)&&(cf=null,Vu(t,i)),i=!1;var T=xr;e:do try{if(Cn!==0&&ln!==null){var B=ln,ie=Aa;switch(Cn){case 8:ap(),T=6;break e;case 3:case 2:case 9:case 6:Ya.current===null&&(i=!0);var Oe=Cn;if(Cn=0,Aa=null,Yu(t,B,ie,Oe),l&&zu){T=0;break e}break;default:Oe=Cn,Cn=0,Aa=null,Yu(t,B,ie,Oe)}}db(),T=xr;break}catch(Fe){wg(t,Fe)}while(!0);return i&&t.shellSuspendCounter++,ms=qr=null,kn=u,Z.H=g,Z.A=b,ln===null&&(Yn=null,yn=0,Ml()),T}function db(){for(;ln!==null;)xg(ln)}function pb(t,i){var l=kn;kn|=2;var u=_g(),g=Sg();Yn!==t||yn!==i?(cf=null,uf=it()+500,Vu(t,i)):zu=Et(t,i);e:do try{if(Cn!==0&&ln!==null){i=ln;var b=Aa;t:switch(Cn){case 1:Cn=0,Aa=null,Yu(t,i,b,1);break;case 2:case 9:if(X(b)){Cn=0,Aa=null,Ag(i);break}i=function(){Cn!==2&&Cn!==9||Yn!==t||(Cn=7),no(t)},b.then(i,i);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:X(b)?(Cn=0,Aa=null,Ag(i)):(Cn=0,Aa=null,Yu(t,i,b,7));break;case 5:var T=null;switch(ln.tag){case 26:T=ln.memoizedState;case 5:case 27:var B=ln;if(!T||a2(T)){Cn=0,Aa=null;var ie=B.sibling;if(ie!==null)ln=ie;else{var Oe=B.return;Oe!==null?(ln=Oe,ff(Oe)):ln=null}break t}}Cn=0,Aa=null,Yu(t,i,b,5);break;case 6:Cn=0,Aa=null,Yu(t,i,b,6);break;case 8:ap(),xr=6;break e;default:throw Error(a(462))}}gb();break}catch(Fe){wg(t,Fe)}while(!0);return ms=qr=null,Z.H=u,Z.A=g,kn=l,ln!==null?0:(Yn=null,yn=0,Ml(),xr)}function gb(){for(;ln!==null&&!Y();)xg(ln)}function xg(t){var i=X1(t.alternate,t,Do);t.memoizedProps=t.pendingProps,i===null?ff(t):ln=i}function Ag(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=$1(l,i,i.pendingProps,i.type,void 0,yn);break;case 11:i=$1(l,i,i.pendingProps,i.type.render,i.ref,yn);break;case 5:Xr(i);default:Z1(l,i),i=ln=Ul(i,Do),i=X1(l,i,Do)}t.memoizedProps=t.pendingProps,i===null?ff(t):ln=i}function Yu(t,i,l,u){ms=qr=null,Xr(i),Uu=null,zc=0;var g=i.return;try{if(ib(t,g,i,l,yn)){xr=1,nf(t,Gi(l,t.current)),ln=null;return}}catch(b){if(g!==null)throw ln=g,b;xr=1,nf(t,Gi(l,t.current)),ln=null;return}i.flags&32768?(bn||u===1?t=!0:zu||(yn&536870912)!==0?t=!1:(vl=t=!0,(u===2||u===9||u===3||u===6)&&(u=Ya.current,u!==null&&u.tag===13&&(u.flags|=16384))),Eg(i,t)):ff(i)}function ff(t){var i=t;do{if((i.flags&32768)!==0){Eg(i,vl);return}t=i.return;var l=sb(i.alternate,i,Do);if(l!==null){ln=l;return}if(i=i.sibling,i!==null){ln=i;return}ln=i=t}while(i!==null);xr===0&&(xr=5)}function Eg(t,i){do{var l=ob(t.alternate,t);if(l!==null){l.flags&=32767,ln=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){ln=t;return}ln=t=l}while(t!==null);xr=6,ln=null}function Ng(t,i,l,u,g,b,T,B,ie){t.cancelPendingCommit=null;do df();while(Si!==0);if((kn&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Eu,jt(t,l,b,T,B,ie),t===Yn&&(ln=Yn=null,yn=0),$u=i,bl=t,Gu=l,np=b,rp=g,vg=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bb(st,function(){return kg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,g=ue.p,ue.p=2,T=kn,kn|=4;try{lb(t,i,l)}finally{kn=T,ue.p=g,Z.T=u}}Si=1,Tg(),Og(),Lg()}}function Tg(){if(Si===1){Si=0;var t=bl,i=$u,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=ue.p;ue.p=2;var g=kn;kn|=4;try{ug(i,t);var b=bp,T=el(t.containerInfo),B=b.focusedElem,ie=b.selectionRange;if(T!==B&&B&&B.ownerDocument&&Qo(B.ownerDocument.documentElement,B)){if(ie!==null&&Ua(B)){var Oe=ie.start,Fe=ie.end;if(Fe===void 0&&(Fe=Oe),"selectionStart"in B)B.selectionStart=Oe,B.selectionEnd=Math.min(Fe,B.value.length);else{var Ve=B.ownerDocument||document,je=Ve&&Ve.defaultView||window;if(je.getSelection){var Ce=je.getSelection(),Ht=B.textContent.length,Mt=Math.min(ie.start,Ht),In=ie.end===void 0?Mt:Math.min(ie.end,Ht);!Ce.extend&&Mt>In&&(T=In,In=Mt,Mt=T);var ge=Zo(B,Mt),fe=Zo(B,In);if(ge&&fe&&(Ce.rangeCount!==1||Ce.anchorNode!==ge.node||Ce.anchorOffset!==ge.offset||Ce.focusNode!==fe.node||Ce.focusOffset!==fe.offset)){var Se=Ve.createRange();Se.setStart(ge.node,ge.offset),Ce.removeAllRanges(),Mt>In?(Ce.addRange(Se),Ce.extend(fe.node,fe.offset)):(Se.setEnd(fe.node,fe.offset),Ce.addRange(Se))}}}}for(Ve=[],Ce=B;Ce=Ce.parentNode;)Ce.nodeType===1&&Ve.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Ve.length;B++){var He=Ve[B];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Ef=!!yp,bp=yp=null}finally{kn=g,ue.p=u,Z.T=l}}t.current=i,Si=2}}function Og(){if(Si===2){Si=0;var t=bl,i=$u,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=ue.p;ue.p=2;var g=kn;kn|=4;try{ag(t,i.alternate,i)}finally{kn=g,ue.p=u,Z.T=l}}Si=3}}function Lg(){if(Si===4||Si===3){Si=0,Ze();var t=bl,i=$u,l=Gu,u=vg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Si=5:(Si=0,$u=bl=null,jg(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(yl=null),Ti(l),i=i.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(et,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Z.T,g=ue.p,ue.p=2,Z.T=null;try{for(var b=t.onRecoverableError,T=0;T<u.length;T++){var B=u[T];b(B.value,{componentStack:B.stack})}}finally{Z.T=i,ue.p=g}}(Gu&3)!==0&&df(),no(t),g=t.pendingLanes,(l&4194090)!==0&&(g&42)!==0?t===ip?Jc++:(Jc=0,ip=t):Jc=0,Zc(0)}}function jg(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zl(i)))}function df(t){return Tg(),Og(),Lg(),kg()}function kg(){if(Si!==5)return!1;var t=bl,i=np;np=0;var l=Ti(Gu),u=Z.T,g=ue.p;try{ue.p=32>l?32:l,Z.T=null,l=rp,rp=null;var b=bl,T=Gu;if(Si=0,$u=bl=null,Gu=0,(kn&6)!==0)throw Error(a(331));var B=kn;if(kn|=4,pg(b.current),hg(b,b.current,T,l),kn=B,Zc(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(et,b)}catch{}return!0}finally{ue.p=g,Z.T=u,jg(t,i)}}function Cg(t,i,l){i=Gi(l,i),i=Md(t.stateNode,i,2),t=Ke(t,i,2),t!==null&&(qt(t,2),no(t))}function $n(t,i,l){if(t.tag===3)Cg(t,t,l);else for(;i!==null;){if(i.tag===3){Cg(i,t,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yl===null||!yl.has(u))){t=Gi(l,t),l=M1(2),u=Ke(i,l,2),u!==null&&(B1(l,u,i,t),qt(u,2),no(u));break}}i=i.return}}function lp(t,i,l){var u=t.pingCache;if(u===null){u=t.pingCache=new hb;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(l)||(Zd=!0,g.add(l),t=vb.bind(null,t,i,l),i.then(t,t))}function vb(t,i,l){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Yn===t&&(yn&l)===l&&(xr===4||xr===3&&(yn&62914560)===yn&&300>it()-tp?(kn&2)===0&&Vu(t,0):Qd|=l,Hu===yn&&(Hu=0)),no(t)}function Rg(t,i){i===0&&(i=It()),t=wo(t,i),t!==null&&(qt(t,i),no(t))}function mb(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Rg(t,l)}function yb(t,i){var l=0;switch(t.tag){case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Rg(t,l)}function bb(t,i){return Je(t,i)}var pf=null,Wu=null,up=!1,gf=!1,cp=!1,tu=0;function no(t){t!==Wu&&t.next===null&&(Wu===null?pf=Wu=t:Wu=Wu.next=t),gf=!0,up||(up=!0,_b())}function Zc(t,i){if(!cp&&gf){cp=!0;do for(var l=!1,u=pf;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var b=0;else{var T=u.suspendedLanes,B=u.pingedLanes;b=(1<<31-Xe(42|t)+1)-1,b&=g&~(T&~B),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Bg(u,b))}else b=yn,b=Dt(u,u===Yn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(b&3)===0||Et(u,b)||(l=!0,Bg(u,b));u=u.next}while(l);cp=!1}}function wb(){Dg()}function Dg(){gf=up=!1;var t=0;tu!==0&&(Lb()&&(t=tu),tu=0);for(var i=it(),l=null,u=pf;u!==null;){var g=u.next,b=Pg(u,i);b===0?(u.next=null,l===null?pf=g:l.next=g,g===null&&(Wu=l)):(l=u,(t!==0||(b&3)!==0)&&(gf=!0)),u=g}Zc(t)}function Pg(t,i){for(var l=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var T=31-Xe(b),B=1<<T,ie=g[T];ie===-1?((B&l)===0||(B&u)!==0)&&(g[T]=Wt(B,i)):ie<=i&&(t.expiredLanes|=B),b&=~B}if(i=Yn,l=yn,l=Dt(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===i&&(Cn===2||Cn===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ut(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Et(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(u!==null&&ut(u),Ti(l)){case 2:case 8:l=ot;break;case 32:l=st;break;case 268435456:l=xe;break;default:l=st}return u=Mg.bind(null,t),l=Je(l,u),t.callbackPriority=i,t.callbackNode=l,i}return u!==null&&u!==null&&ut(u),t.callbackPriority=2,t.callbackNode=null,2}function Mg(t,i){if(Si!==0&&Si!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(df()&&t.callbackNode!==l)return null;var u=yn;return u=Dt(t,t===Yn?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(yg(t,u,i),Pg(t,it()),t.callbackNode!=null&&t.callbackNode===l?Mg.bind(null,t):null)}function Bg(t,i){if(df())return null;yg(t,i,!0)}function _b(){kb(function(){(kn&6)!==0?Je(Ie,wb):Dg()})}function hp(){return tu===0&&(tu=Lt()),tu}function Ug(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tt(""+t)}function Ig(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function Sb(t,i,l,u,g){if(i==="submit"&&l&&l.stateNode===g){var b=Ug((g[_n]||null).action),T=u.submitter;T&&(i=(i=T[_n]||null)?Ug(i.formAction):T.getAttribute("formAction"),i!==null&&(b=i,T=null));var B=new Us("action","action",null,u,g);t.push({event:B,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(tu!==0){var ie=T?Ig(g,T):new FormData(g);Va(l,{pending:!0,data:ie,method:g.method,action:b},null,ie)}}else typeof b=="function"&&(B.preventDefault(),ie=T?Ig(g,T):new FormData(g),Va(l,{pending:!0,data:ie,method:g.method,action:b},b,ie))},currentTarget:g}]})}}for(var fp=0;fp<Au.length;fp++){var dp=Au[fp],xb=dp.toLowerCase(),Ab=dp[0].toUpperCase()+dp.slice(1);na(xb,"on"+Ab)}na(Ia,"onAnimationEnd"),na(tl,"onAnimationIteration"),na(yo,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(xu,"onTransitionRun"),na(Ch,"onTransitionStart"),na(Rh,"onTransitionCancel"),na(Ec,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function qg(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],g=u.event;u=u.listeners;e:{var b=void 0;if(i)for(var T=u.length-1;0<=T;T--){var B=u[T],ie=B.instance,Oe=B.currentTarget;if(B=B.listener,ie!==b&&g.isPropagationStopped())break e;b=B,g.currentTarget=Oe;try{b(g)}catch(Fe){tf(Fe)}g.currentTarget=null,b=ie}else for(T=0;T<u.length;T++){if(B=u[T],ie=B.instance,Oe=B.currentTarget,B=B.listener,ie!==b&&g.isPropagationStopped())break e;b=B,g.currentTarget=Oe;try{b(g)}catch(Fe){tf(Fe)}g.currentTarget=null,b=ie}}}}function un(t,i){var l=i[Sn];l===void 0&&(l=i[Sn]=new Set);var u=t+"__bubble";l.has(u)||(Fg(i,t,2,!1),l.add(u))}function pp(t,i,l){var u=0;i&&(u|=4),Fg(l,t,u,i)}var vf="_reactListening"+Math.random().toString(36).slice(2);function gp(t){if(!t[vf]){t[vf]=!0,Oi.forEach(function(l){l!=="selectionchange"&&(Eb.has(l)||pp(l,!1,t),pp(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vf]||(i[vf]=!0,pp("selectionchange",!1,i))}}function Fg(t,i,l,u){switch(h2(i)){case 2:var g=Zb;break;case 8:g=Qb;break;default:g=Lp}l=g.bind(null,i,l,t),g=void 0,!pi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(i,l,{capture:!0,passive:g}):t.addEventListener(i,l,!0):g!==void 0?t.addEventListener(i,l,{passive:g}):t.addEventListener(i,l,!1)}function vp(t,i,l,u,g){var b=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var B=u.stateNode.containerInfo;if(B===g)break;if(T===4)for(T=u.return;T!==null;){var ie=T.tag;if((ie===3||ie===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;B!==null;){if(T=Gr(B),T===null)return;if(ie=T.tag,ie===5||ie===6||ie===26||ie===27){u=b=T;continue e}B=B.parentNode}}u=u.return}ho(function(){var Oe=b,Fe=xn(l),Ve=[];e:{var je=Nc.get(t);if(je!==void 0){var Ce=Us,Ht=t;switch(t){case"keypress":if(Ca(l)===0)break e;case"keydown":case"keyup":Ce=Ft;break;case"focusin":Ht="focus",Ce=ya;break;case"focusout":Ht="blur",Ce=ya;break;case"beforeblur":case"afterblur":Ce=ya;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=wr;break;case Ia:case tl:case yo:Ce=po;break;case Ec:Ce=Er;break;case"scroll":case"scrollend":Ce=ts;break;case"wheel":Ce=Kr;break;case"copy":case"cut":case"paste":Ce=w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=cn;break;case"toggle":case"beforetoggle":Ce=ba}var Mt=(i&4)!==0,In=!Mt&&(t==="scroll"||t==="scrollend"),ge=Mt?je!==null?je+"Capture":null:je;Mt=[];for(var fe=Oe,Se;fe!==null;){var He=fe;if(Se=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Se===null||ge===null||(He=Zi(fe,ge),He!=null&&Mt.push(eh(fe,He,Se))),In)break;fe=fe.return}0<Mt.length&&(je=new Ce(je,Ht,null,l,Fe),Ve.push({event:je,listeners:Mt}))}}if((i&7)===0){e:{if(je=t==="mouseover"||t==="pointerover",Ce=t==="mouseout"||t==="pointerout",je&&l!==tn&&(Ht=l.relatedTarget||l.fromElement)&&(Gr(Ht)||Ht[On]))break e;if((Ce||je)&&(je=Fe.window===Fe?Fe:(je=Fe.ownerDocument)?je.defaultView||je.parentWindow:window,Ce?(Ht=l.relatedTarget||l.toElement,Ce=Oe,Ht=Ht?Gr(Ht):null,Ht!==null&&(In=s(Ht),Mt=Ht.tag,Ht!==In||Mt!==5&&Mt!==27&&Mt!==6)&&(Ht=null)):(Ce=null,Ht=Oe),Ce!==Ht)){if(Mt=Wo,He="onMouseLeave",ge="onMouseEnter",fe="mouse",(t==="pointerout"||t==="pointerover")&&(Mt=cn,He="onPointerLeave",ge="onPointerEnter",fe="pointer"),In=Ce==null?je:Br(Ce),Se=Ht==null?je:Br(Ht),je=new Mt(He,fe+"leave",Ce,l,Fe),je.target=In,je.relatedTarget=Se,He=null,Gr(Fe)===Oe&&(Mt=new Mt(ge,fe+"enter",Ht,l,Fe),Mt.target=Se,Mt.relatedTarget=In,He=Mt),In=He,Ce&&Ht)t:{for(Mt=Ce,ge=Ht,fe=0,Se=Mt;Se;Se=Ku(Se))fe++;for(Se=0,He=ge;He;He=Ku(He))Se++;for(;0<fe-Se;)Mt=Ku(Mt),fe--;for(;0<Se-fe;)ge=Ku(ge),Se--;for(;fe--;){if(Mt===ge||ge!==null&&Mt===ge.alternate)break t;Mt=Ku(Mt),ge=Ku(ge)}Mt=null}else Mt=null;Ce!==null&&zg(Ve,je,Ce,Mt,!1),Ht!==null&&In!==null&&zg(Ve,In,Ht,Mt,!0)}}e:{if(je=Oe?Br(Oe):window,Ce=je.nodeName&&je.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&je.type==="file")var St=Ko;else if(Ma(je))if(os)St=hr;else{St=Pl;var sn=Ys}else Ce=je.nodeName,!Ce||Ce.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Oe&&Le(Oe.elementType)&&(St=Ko):St=Xo;if(St&&(St=St(t,Oe))){vo(Ve,St,l,Fe);break e}sn&&sn(t,je,Oe),t==="focusout"&&Oe&&je.type==="number"&&Oe.memoizedProps.value!=null&&pa(je,"number",je.value)}switch(sn=Oe?Br(Oe):window,t){case"focusin":(Ma(sn)||sn.contentEditable==="true")&&(Hi=sn,cs=Oe,ta=null);break;case"focusout":ta=cs=Hi=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,$i(Ve,l,Fe);break;case"selectionchange":if(Ws)break;case"keydown":case"keyup":$i(Ve,l,Fe)}var Ct;if(go)e:{switch(t){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ea?Ur(t,l)&&(Bt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(zs&&l.locale!=="ko"&&(ea||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ea&&(Ct=Vo()):(Jn=Fe,ki="value"in Jn?Jn.value:Jn.textContent,ea=!0)),sn=mf(Oe,Bt),0<sn.length&&(Bt=new J(Bt,t,null,l,Fe),Ve.push({event:Bt,listeners:sn}),Ct?Bt.data=Ct:(Ct=$s(l),Ct!==null&&(Bt.data=Ct)))),(Ct=Fs?Rl(t,l):Dl(t,l))&&(Bt=mf(Oe,"onBeforeInput"),0<Bt.length&&(sn=new J("onBeforeInput","beforeinput",null,l,Fe),Ve.push({event:sn,listeners:Bt}),sn.data=Ct)),Sb(Ve,t,Oe,l,Fe)}qg(Ve,i)})}function eh(t,i,l){return{instance:t,listener:i,currentTarget:l}}function mf(t,i){for(var l=i+"Capture",u=[];t!==null;){var g=t,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Zi(t,l),g!=null&&u.unshift(eh(t,g,b)),g=Zi(t,i),g!=null&&u.push(eh(t,g,b))),t.tag===3)return u;t=t.return}return[]}function Ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zg(t,i,l,u,g){for(var b=i._reactName,T=[];l!==null&&l!==u;){var B=l,ie=B.alternate,Oe=B.stateNode;if(B=B.tag,ie!==null&&ie===u)break;B!==5&&B!==26&&B!==27||Oe===null||(ie=Oe,g?(Oe=Zi(l,b),Oe!=null&&T.unshift(eh(l,Oe,ie))):g||(Oe=Zi(l,b),Oe!=null&&T.push(eh(l,Oe,ie)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var Nb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function Hg(t){return(typeof t=="string"?t:""+t).replace(Nb,`
`).replace(Tb,"")}function $g(t,i){return i=Hg(i),Hg(t)===i}function yf(){}function Un(t,i,l,u,g,b){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ga(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ga(t,""+u);break;case"className":Vr(t,"class",u);break;case"tabIndex":Vr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(t,l,u);break;case"style":re(t,u,b);break;case"data":if(i!=="object"){Vr(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=tt(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&Un(t,i,"name",g.name,g,null),Un(t,i,"formEncType",g.formEncType,g,null),Un(t,i,"formMethod",g.formMethod,g,null),Un(t,i,"formTarget",g.formTarget,g,null)):(Un(t,i,"encType",g.encType,g,null),Un(t,i,"method",g.method,g,null),Un(t,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=tt(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=yf);break;case"onScroll":u!=null&&un("scroll",t);break;case"onScrollEnd":u!=null&&un("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=tt(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":un("beforetoggle",t),un("toggle",t),fa(t,"popover",u);break;case"xlinkActuate":Yr(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yr(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yr(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yr(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yr(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yr(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yr(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":fa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$e.get(l)||l,fa(t,l,u))}}function mp(t,i,l,u,g,b){switch(l){case"style":re(t,u,b);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof u=="string"?ga(t,u):(typeof u=="number"||typeof u=="bigint")&&ga(t,""+u);break;case"onScroll":u!=null&&un("scroll",t);break;case"onScrollEnd":u!=null&&un("scrollend",t);break;case"onClick":u!=null&&(t.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),b=t[_n]||null,b=b!=null?b[l]:null,typeof b=="function"&&t.removeEventListener(i,b,g),typeof u=="function")){typeof b!="function"&&b!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,u,g);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):fa(t,l,u)}}}function xi(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",t),un("load",t);var u=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var T=l[b];if(T!=null)switch(b){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Un(t,i,b,T,l,null)}}g&&Un(t,i,"srcSet",l.srcSet,l,null),u&&Un(t,i,"src",l.src,l,null);return;case"input":un("invalid",t);var B=b=T=g=null,ie=null,Oe=null;for(u in l)if(l.hasOwnProperty(u)){var Fe=l[u];if(Fe!=null)switch(u){case"name":g=Fe;break;case"type":T=Fe;break;case"checked":ie=Fe;break;case"defaultChecked":Oe=Fe;break;case"value":b=Fe;break;case"defaultValue":B=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,i));break;default:Un(t,i,u,Fe,l,null)}}uo(t,b,B,ie,Oe,T,g,!1),br(t);return;case"select":un("invalid",t),u=T=b=null;for(g in l)if(l.hasOwnProperty(g)&&(B=l[g],B!=null))switch(g){case"value":b=B;break;case"defaultValue":T=B;break;case"multiple":u=B;default:Un(t,i,g,B,l,null)}i=b,l=T,t.multiple=!!u,i!=null?ka(t,!!u,i,!1):l!=null&&ka(t,!!u,l,!0);return;case"textarea":un("invalid",t),b=g=u=null;for(T in l)if(l.hasOwnProperty(T)&&(B=l[T],B!=null))switch(T){case"value":u=B;break;case"defaultValue":g=B;break;case"children":b=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(91));break;default:Un(t,i,T,B,l,null)}co(t,u,g,b),br(t);return;case"option":for(ie in l)if(l.hasOwnProperty(ie)&&(u=l[ie],u!=null))switch(ie){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Un(t,i,ie,u,l,null)}return;case"dialog":un("beforetoggle",t),un("toggle",t),un("cancel",t),un("close",t);break;case"iframe":case"object":un("load",t);break;case"video":case"audio":for(u=0;u<Qc.length;u++)un(Qc[u],t);break;case"image":un("error",t),un("load",t);break;case"details":un("toggle",t);break;case"embed":case"source":case"link":un("error",t),un("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(u=l[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Un(t,i,Oe,u,l,null)}return;default:if(Le(i)){for(Fe in l)l.hasOwnProperty(Fe)&&(u=l[Fe],u!==void 0&&mp(t,i,Fe,u,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(u=l[B],u!=null&&Un(t,i,B,u,l,null))}function Ob(t,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,T=null,B=null,ie=null,Oe=null,Fe=null;for(Ce in l){var Ve=l[Ce];if(l.hasOwnProperty(Ce)&&Ve!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ie=Ve;default:u.hasOwnProperty(Ce)||Un(t,i,Ce,null,u,Ve)}}for(var je in u){var Ce=u[je];if(Ve=l[je],u.hasOwnProperty(je)&&(Ce!=null||Ve!=null))switch(je){case"type":b=Ce;break;case"name":g=Ce;break;case"checked":Oe=Ce;break;case"defaultChecked":Fe=Ce;break;case"value":T=Ce;break;case"defaultValue":B=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ce!==Ve&&Un(t,i,je,Ce,u,Ve)}}qi(t,T,B,ie,Oe,Fe,b,g);return;case"select":Ce=T=B=je=null;for(b in l)if(ie=l[b],l.hasOwnProperty(b)&&ie!=null)switch(b){case"value":break;case"multiple":Ce=ie;default:u.hasOwnProperty(b)||Un(t,i,b,null,u,ie)}for(g in u)if(b=u[g],ie=l[g],u.hasOwnProperty(g)&&(b!=null||ie!=null))switch(g){case"value":je=b;break;case"defaultValue":B=b;break;case"multiple":T=b;default:b!==ie&&Un(t,i,g,b,u,ie)}i=B,l=T,u=Ce,je!=null?ka(t,!!l,je,!1):!!u!=!!l&&(i!=null?ka(t,!!l,i,!0):ka(t,!!l,l?[]:"",!1));return;case"textarea":Ce=je=null;for(B in l)if(g=l[B],l.hasOwnProperty(B)&&g!=null&&!u.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Un(t,i,B,null,u,g)}for(T in u)if(g=u[T],b=l[T],u.hasOwnProperty(T)&&(g!=null||b!=null))switch(T){case"value":je=g;break;case"defaultValue":Ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==b&&Un(t,i,T,g,u,b)}Fi(t,je,Ce);return;case"option":for(var Ht in l)if(je=l[Ht],l.hasOwnProperty(Ht)&&je!=null&&!u.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:Un(t,i,Ht,null,u,je)}for(ie in u)if(je=u[ie],Ce=l[ie],u.hasOwnProperty(ie)&&je!==Ce&&(je!=null||Ce!=null))switch(ie){case"selected":t.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Un(t,i,ie,je,u,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)je=l[Mt],l.hasOwnProperty(Mt)&&je!=null&&!u.hasOwnProperty(Mt)&&Un(t,i,Mt,null,u,je);for(Oe in u)if(je=u[Oe],Ce=l[Oe],u.hasOwnProperty(Oe)&&je!==Ce&&(je!=null||Ce!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(a(137,i));break;default:Un(t,i,Oe,je,u,Ce)}return;default:if(Le(i)){for(var In in l)je=l[In],l.hasOwnProperty(In)&&je!==void 0&&!u.hasOwnProperty(In)&&mp(t,i,In,void 0,u,je);for(Fe in u)je=u[Fe],Ce=l[Fe],!u.hasOwnProperty(Fe)||je===Ce||je===void 0&&Ce===void 0||mp(t,i,Fe,je,u,Ce);return}}for(var ge in l)je=l[ge],l.hasOwnProperty(ge)&&je!=null&&!u.hasOwnProperty(ge)&&Un(t,i,ge,null,u,je);for(Ve in u)je=u[Ve],Ce=l[Ve],!u.hasOwnProperty(Ve)||je===Ce||je==null&&Ce==null||Un(t,i,Ve,je,u,Ce)}var yp=null,bp=null;function bf(t){return t.nodeType===9?t:t.ownerDocument}function Gg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vg(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _p=null;function Lb(){var t=window.event;return t&&t.type==="popstate"?t===_p?!1:(_p=t,!0):(_p=null,!1)}var Yg=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(t){return Wg.resolve(null).then(t).catch(Cb)}:Yg;function Cb(t){setTimeout(function(){throw t})}function _l(t){return t==="head"}function Kg(t,i){var l=i,u=0,g=0;do{var b=l.nextSibling;if(t.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<u&&8>u){l=u;var T=t.ownerDocument;if(l&1&&th(T.documentElement),l&2&&th(T.body),l&4)for(l=T.head,th(l),T=l.firstChild;T;){var B=T.nextSibling,ie=T.nodeName;T[ei]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=B}}if(g===0){t.removeChild(b),uh(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=b}while(l);uh(i)}function Sp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sp(l),ti(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Rb(t,i,l,u){for(;t.nodeType===1;){var g=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=As(t.nextSibling),t===null)break}return null}function Db(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=As(t.nextSibling),t===null))return null;return t}function xp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Pb(t,i){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function As(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ap=null;function Xg(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function Jg(t,i,l){switch(i=bf(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function th(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ti(t)}var Ka=new Map,Zg=new Set;function wf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Po=ue.d;ue.d={f:Mb,r:Bb,D:Ub,C:Ib,L:qb,m:Fb,X:Hb,S:zb,M:$b};function Mb(){var t=Po.f(),i=hf();return t||i}function Bb(t){var i=mr(t);i!==null&&i.tag===5&&i.type==="form"?Xl(i):Po.r(t)}var Xu=typeof document>"u"?null:document;function Qg(t,i,l){var u=Xu;if(u&&typeof i=="string"&&i){var g=vn(i);g='link[rel="'+t+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Zg.has(g)||(Zg.add(g),t={rel:t,crossOrigin:l,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),xi(i,"link",t),Ln(i),u.head.appendChild(i)))}}function Ub(t){Po.D(t),Qg("dns-prefetch",t,null)}function Ib(t,i){Po.C(t,i),Qg("preconnect",t,i)}function qb(t,i,l){Po.L(t,i,l);var u=Xu;if(u&&t&&i){var g='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+vn(l.imageSizes)+'"]')):g+='[href="'+vn(t)+'"]';var b=g;switch(i){case"style":b=Ju(t);break;case"script":b=Zu(t)}Ka.has(b)||(t=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),Ka.set(b,t),u.querySelector(g)!==null||i==="style"&&u.querySelector(nh(b))||i==="script"&&u.querySelector(rh(b))||(i=u.createElement("link"),xi(i,"link",t),Ln(i),u.head.appendChild(i)))}}function Fb(t,i){Po.m(t,i);var l=Xu;if(l&&t){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(t)+'"]',b=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Zu(t)}if(!Ka.has(b)&&(t=v({rel:"modulepreload",href:t},i),Ka.set(b,t),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rh(b)))return}u=l.createElement("link"),xi(u,"link",t),Ln(u),l.head.appendChild(u)}}}function zb(t,i,l){Po.S(t,i,l);var u=Xu;if(u&&t){var g=yr(u).hoistableStyles,b=Ju(t);i=i||"default";var T=g.get(b);if(!T){var B={loading:0,preload:null};if(T=u.querySelector(nh(b)))B.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},l),(l=Ka.get(b))&&Ep(t,l);var ie=T=u.createElement("link");Ln(ie),xi(ie,"link",t),ie._p=new Promise(function(Oe,Fe){ie.onload=Oe,ie.onerror=Fe}),ie.addEventListener("load",function(){B.loading|=1}),ie.addEventListener("error",function(){B.loading|=2}),B.loading|=4,_f(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:B},g.set(b,T)}}}function Hb(t,i){Po.X(t,i);var l=Xu;if(l&&t){var u=yr(l).hoistableScripts,g=Zu(t),b=u.get(g);b||(b=l.querySelector(rh(g)),b||(t=v({src:t,async:!0},i),(i=Ka.get(g))&&Np(t,i),b=l.createElement("script"),Ln(b),xi(b,"link",t),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function $b(t,i){Po.M(t,i);var l=Xu;if(l&&t){var u=yr(l).hoistableScripts,g=Zu(t),b=u.get(g);b||(b=l.querySelector(rh(g)),b||(t=v({src:t,async:!0,type:"module"},i),(i=Ka.get(g))&&Np(t,i),b=l.createElement("script"),Ln(b),xi(b,"link",t),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},u.set(g,b))}}function e2(t,i,l,u){var g=(g=ne.current)?wf(g):null;if(!g)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ju(l.href),l=yr(g).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ju(l.href);var b=yr(g).hoistableStyles,T=b.get(t);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,T),(b=g.querySelector(nh(t)))&&!b._p&&(T.instance=b,T.state.loading=5),Ka.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ka.set(t,l),b||Gb(g,t,l,T.state))),i&&u===null)throw Error(a(528,""));return T}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zu(l),l=yr(g).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ju(t){return'href="'+vn(t)+'"'}function nh(t){return'link[rel="stylesheet"]['+t+"]"}function t2(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Gb(t,i,l,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),xi(i,"link",l),Ln(i),t.head.appendChild(i))}function Zu(t){return'[src="'+vn(t)+'"]'}function rh(t){return"script[async]"+t}function n2(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+vn(l.href)+'"]');if(u)return i.instance=u,Ln(u),u;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ln(u),xi(u,"style",g),_f(u,l.precedence,t),i.instance=u;case"stylesheet":g=Ju(l.href);var b=t.querySelector(nh(g));if(b)return i.state.loading|=4,i.instance=b,Ln(b),b;u=t2(l),(g=Ka.get(g))&&Ep(u,g),b=(t.ownerDocument||t).createElement("link"),Ln(b);var T=b;return T._p=new Promise(function(B,ie){T.onload=B,T.onerror=ie}),xi(b,"link",u),i.state.loading|=4,_f(b,l.precedence,t),i.instance=b;case"script":return b=Zu(l.src),(g=t.querySelector(rh(b)))?(i.instance=g,Ln(g),g):(u=l,(g=Ka.get(b))&&(u=v({},l),Np(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),Ln(g),xi(g,"link",u),t.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,_f(u,l.precedence,t));return i.instance}function _f(t,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,b=g,T=0;T<u.length;T++){var B=u[T];if(B.dataset.precedence===i)b=B;else if(b!==g)break}b?b.parentNode.insertBefore(t,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function Ep(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Np(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sf=null;function r2(t,i,l){if(Sf===null){var u=new Map,g=Sf=new Map;g.set(l,u)}else g=Sf,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),g=0;g<l.length;g++){var b=l[g];if(!(b[ei]||b[Tn]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(i)||"";T=t+T;var B=u.get(T);B?B.push(b):u.set(T,[b])}}return u}function i2(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function Vb(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function a2(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ih=null;function Yb(){}function Wb(t,i,l){if(ih===null)throw Error(a(475));var u=ih;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Ju(l.href),b=t.querySelector(nh(g));if(b){t=b._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=xf.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=b,Ln(b);return}b=t.ownerDocument||t,l=t2(l),(g=Ka.get(g))&&Ep(l,g),b=b.createElement("link"),Ln(b);var T=b;T._p=new Promise(function(B,ie){T.onload=B,T.onerror=ie}),xi(b,"link",l),i.instance=b}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=xf.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Kb(){if(ih===null)throw Error(a(475));var t=ih;return t.stylesheets&&t.count===0&&Tp(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&Tp(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function xf(){if(this.count--,this.count===0){if(this.stylesheets)Tp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Af=null;function Tp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Af=new Map,i.forEach(Xb,t),Af=null,xf.call(t))}function Xb(t,i){if(!(i.state.loading&4)){var l=Af.get(t);if(l)var u=l.get(null);else{l=new Map,Af.set(t,l);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var T=g[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}g=i.instance,T=g.getAttribute("data-precedence"),b=l.get(T)||u,b===u&&l.set(null,g),l.set(T,g),this.count++,u=xf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),b?b.parentNode.insertBefore(g,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),i.state.loading|=4}}var ah={$$typeof:I,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Jb(t,i,l,u,g,b,T,B){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pn(0),this.hiddenUpdates=pn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function s2(t,i,l,u,g,b,T,B,ie,Oe,Fe,Ve){return t=new Jb(t,i,l,T,B,ie,Oe,Ve),i=1,b===!0&&(i|=24),b=oi(3,null,null,i),t.current=b,b.stateNode=t,i=Oc(),i.refCount++,t.pooledCache=i,i.refCount++,b.memoizedState={element:u,isDehydrated:l,cache:i},Ae(b),t}function o2(t){return t?(t=Ir,t):Ir}function l2(t,i,l,u,g,b){g=o2(g),u.context===null?u.context=g:u.pendingContext=g,u=Be(i),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Ke(t,u,i),l!==null&&(Na(l,t,i),Ge(l,t,i))}function u2(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Op(t,i){u2(t,i),(t=t.alternate)&&u2(t,i)}function c2(t){if(t.tag===13){var i=wo(t,67108864);i!==null&&Na(i,t,67108864),Op(t,67108864)}}var Ef=!0;function Zb(t,i,l,u){var g=Z.T;Z.T=null;var b=ue.p;try{ue.p=2,Lp(t,i,l,u)}finally{ue.p=b,Z.T=g}}function Qb(t,i,l,u){var g=Z.T;Z.T=null;var b=ue.p;try{ue.p=8,Lp(t,i,l,u)}finally{ue.p=b,Z.T=g}}function Lp(t,i,l,u){if(Ef){var g=jp(u);if(g===null)vp(t,i,u,Nf,l),f2(t,u);else if(tw(g,t,i,l,u))u.stopPropagation();else if(f2(t,u),i&4&&-1<ew.indexOf(t)){for(;g!==null;){var b=mr(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=vt(b.pendingLanes);if(T!==0){var B=b;for(B.pendingLanes|=2,B.entangledLanes|=2;T;){var ie=1<<31-Xe(T);B.entanglements[1]|=ie,T&=~ie}no(b),(kn&6)===0&&(uf=it()+500,Zc(0))}}break;case 13:B=wo(b,2),B!==null&&Na(B,b,2),hf(),Op(b,2)}if(b=jp(u),b===null&&vp(t,i,u,Nf,l),b===g)break;g=b}g!==null&&u.stopPropagation()}else vp(t,i,u,null,l)}}function jp(t){return t=xn(t),kp(t)}var Nf=null;function kp(t){if(Nf=null,t=Gr(t),t!==null){var i=s(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=c(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nf=t,null}function h2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case Ie:return 2;case ot:return 8;case st:case ze:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Cp=!1,Sl=null,xl=null,Al=null,sh=new Map,oh=new Map,El=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f2(t,i){switch(t){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":sh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(i.pointerId)}}function lh(t,i,l,u,g,b){return t===null||t.nativeEvent!==b?(t={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:b,targetContainers:[g]},i!==null&&(i=mr(i),i!==null&&c2(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),t)}function tw(t,i,l,u,g){switch(i){case"focusin":return Sl=lh(Sl,t,i,l,u,g),!0;case"dragenter":return xl=lh(xl,t,i,l,u,g),!0;case"mouseover":return Al=lh(Al,t,i,l,u,g),!0;case"pointerover":var b=g.pointerId;return sh.set(b,lh(sh.get(b)||null,t,i,l,u,g)),!0;case"gotpointercapture":return b=g.pointerId,oh.set(b,lh(oh.get(b)||null,t,i,l,u,g)),!0}return!1}function d2(t){var i=Gr(t.target);if(i!==null){var l=s(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){t.blockedOn=i,Rt(t.priority,function(){if(l.tag===13){var u=Ea();u=qn(u);var g=wo(l,u);g!==null&&Na(g,l,u),Op(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=jp(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);tn=u,l.target.dispatchEvent(u),tn=null}else return i=mr(l),i!==null&&c2(i),t.blockedOn=l,!1;i.shift()}return!0}function p2(t,i,l){Tf(t)&&l.delete(i)}function nw(){Cp=!1,Sl!==null&&Tf(Sl)&&(Sl=null),xl!==null&&Tf(xl)&&(xl=null),Al!==null&&Tf(Al)&&(Al=null),sh.forEach(p2),oh.forEach(p2)}function Of(t,i){t.blockedOn===i&&(t.blockedOn=null,Cp||(Cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nw)))}var Lf=null;function g2(t){Lf!==t&&(Lf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lf===t&&(Lf=null);for(var i=0;i<t.length;i+=3){var l=t[i],u=t[i+1],g=t[i+2];if(typeof u!="function"){if(kp(u||l)===null)continue;break}var b=mr(l);b!==null&&(t.splice(i,3),i-=3,Va(b,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function uh(t){function i(ie){return Of(ie,t)}Sl!==null&&Of(Sl,t),xl!==null&&Of(xl,t),Al!==null&&Of(Al,t),sh.forEach(i),oh.forEach(i);for(var l=0;l<El.length;l++){var u=El[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<El.length&&(l=El[0],l.blockedOn===null);)d2(l),l.blockedOn===null&&El.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],b=l[u+1],T=g[_n]||null;if(typeof b=="function")T||g2(l);else if(T){var B=null;if(b&&b.hasAttribute("formAction")){if(g=b,T=b[_n]||null)B=T.formAction;else if(kp(g)!==null)continue}else B=T.action;typeof B=="function"?l[u+1]=B:(l.splice(u,3),u-=3),g2(l)}}}function Rp(t){this._internalRoot=t}jf.prototype.render=Rp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,u=Ea();l2(l,u,t,i,null,null)},jf.prototype.unmount=Rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;l2(t.current,2,null,t,null,null),hf(),i[On]=null}};function jf(t){this._internalRoot=t}jf.prototype.unstable_scheduleHydration=function(t){if(t){var i=$r();t={blockedOn:null,target:t,priority:i};for(var l=0;l<El.length&&i!==0&&i<El[l].priority;l++);El.splice(l,0,t),l===0&&d2(t)}};var v2=e.version;if(v2!=="19.1.1")throw Error(a(527,v2,"19.1.1"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=f(i),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var rw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{et=kf.inject(rw),gt=kf}catch{}}return hh.createRoot=function(t,i){if(!o(t))throw Error(a(299));var l=!1,u="",g=C1,b=R1,T=D1,B=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(B=i.unstable_transitionCallbacks)),i=s2(t,1,!1,null,null,l,u,g,b,T,B,null),t[On]=i.current,gp(t),new Rp(i)},hh.hydrateRoot=function(t,i,l){if(!o(t))throw Error(a(299));var u=!1,g="",b=C1,T=R1,B=D1,ie=null,Oe=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ie=l.unstable_transitionCallbacks),l.formState!==void 0&&(Oe=l.formState)),i=s2(t,1,!0,i,l??null,u,g,b,T,B,ie,Oe),i.context=o2(null),l=i.current,u=Ea(),u=qn(u),g=Be(u),g.callback=null,Ke(l,g,u),l=u,i.current.lanes=l,qt(i,l),no(i),t[On]=i.current,gp(t),new jf(i)},hh.version="19.1.1",hh}var N2;function pw(){if(N2)return Mp.exports;N2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mp.exports=dw(),Mp.exports}var gw=pw();const vw=i1(gw);var Mo={},Cf={},T0=function(r,e){return T0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},T0(r,e)};function km(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");T0(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var od=function(){return od=Object.assign||function(e){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},od.apply(this,arguments)};function _c(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function Cm(r,e,n,a){var o=arguments.length,s=o<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,n,a);else for(var h=r.length-1;h>=0;h--)(c=r[h])&&(s=(o<3?c(s):o>3?c(e,n,s):c(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function Rm(r,e){return function(n,a){e(n,a,r)}}function Dm(r,e,n,a,o,s){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var h=a.kind,f=h==="getter"?"get":h==="setter"?"set":"value",d=!e&&r?a.static?r:r.prototype:null,v=e||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),_,x=!1,y=n.length-1;y>=0;y--){var E={};for(var L in a)E[L]=L==="access"?{}:a[L];for(var L in a.access)E.access[L]=a.access[L];E.addInitializer=function(N){if(x)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(N||null))};var k=(0,n[y])(h==="accessor"?{get:v.get,set:v.set}:v[f],E);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(_=c(k.get))&&(v.get=_),(_=c(k.set))&&(v.set=_),(_=c(k.init))&&o.unshift(_)}else(_=c(k))&&(h==="field"?o.unshift(_):v[f]=_)}d&&Object.defineProperty(d,a.name,v),x=!0}function Pm(r,e,n){for(var a=arguments.length>2,o=0;o<e.length;o++)n=a?e[o].call(r,n):e[o].call(r);return a?n:void 0}function Mm(r){return typeof r=="symbol"?r:"".concat(r)}function Bm(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Um(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function wt(r,e,n,a){function o(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function h(v){try{d(a.next(v))}catch(_){c(_)}}function f(v){try{d(a.throw(v))}catch(_){c(_)}}function d(v){v.done?s(v.value):o(v.value).then(h,f)}d((a=a.apply(r,e||[])).next())})}function Im(r,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,o,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(v){return f([d,v])}}function f(d){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(a=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(r,n)}catch(v){d=[6,v],o=0}finally{a=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Sd=Object.create?(function(r,e,n,a){a===void 0&&(a=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,a,o)}):(function(r,e,n,a){a===void 0&&(a=n),r[a]=e[n]});function qm(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Sd(e,r,n)}function ld(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s1(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),o,s=[],c;try{for(;(e===void 0||e-- >0)&&!(o=a.next()).done;)s.push(o.value)}catch(h){c={error:h}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(c)throw c.error}}return s}function Fm(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(s1(arguments[e]));return r}function zm(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var a=Array(r),o=0,e=0;e<n;e++)for(var s=arguments[e],c=0,h=s.length;c<h;c++,o++)a[o]=s[c];return a}function Hm(r,e,n){if(n||arguments.length===2)for(var a=0,o=e.length,s;a<o;a++)(s||!(a in e))&&(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return r.concat(s||Array.prototype.slice.call(e))}function bc(r){return this instanceof bc?(this.v=r,this):new bc(r)}function $m(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(r,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(y){return function(E){return Promise.resolve(E).then(y,_)}}function h(y,E){a[y]&&(o[y]=function(L){return new Promise(function(k,N){s.push([y,L,k,N])>1||f(y,L)})},E&&(o[y]=E(o[y])))}function f(y,E){try{d(a[y](E))}catch(L){x(s[0][3],L)}}function d(y){y.value instanceof bc?Promise.resolve(y.value.v).then(v,_):x(s[0][2],y)}function v(y){f("next",y)}function _(y){f("throw",y)}function x(y,E){y(E),s.shift(),s.length&&f(s[0][0],s[0][1])}}function Gm(r){var e,n;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,s){e[o]=r[o]?function(c){return(n=!n)?{value:bc(r[o](c)),done:!1}:s?s(c):c}:s}}function Vm(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof ld=="function"?ld(r):r[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=r[s]&&function(c){return new Promise(function(h,f){c=r[s](c),o(h,f,c.done,c.value)})}}function o(s,c,h,f){Promise.resolve(f).then(function(d){s({value:d,done:h})},c)}}function Ym(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var mw=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},O0=function(r){return O0=Object.getOwnPropertyNames||function(e){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[n.length]=a);return n},O0(r)};function Wm(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=O0(r),a=0;a<n.length;a++)n[a]!=="default"&&Sd(e,r,n[a]);return mw(e,r),e}function Km(r){return r&&r.__esModule?r:{default:r}}function Xm(r,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(r):a?a.value:e.get(r)}function Jm(r,e,n,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(r,n):o?o.value=n:e.set(r,n),n}function Zm(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function Qm(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],n&&(o=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");o&&(a=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:e,dispose:a,async:n})}else n&&r.stack.push({async:!0});return e}var yw=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var a=new Error(n);return a.name="SuppressedError",a.error=r,a.suppressed=e,a};function e5(r){function e(s){r.error=r.hasError?new yw(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var n,a=0;function o(){for(;n=r.stack.pop();)try{if(!n.async&&a===1)return a=0,r.stack.push(n),Promise.resolve().then(o);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(o,function(c){return e(c),o()})}else a|=1}catch(c){e(c)}if(a===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return o()}function t5(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,o,s,c){return a?e?".jsx":".js":o&&(!s||!c)?n:o+s+"."+c.toLowerCase()+"js"}):r}const bw={__extends:km,__assign:od,__rest:_c,__decorate:Cm,__param:Rm,__esDecorate:Dm,__runInitializers:Pm,__propKey:Mm,__setFunctionName:Bm,__metadata:Um,__awaiter:wt,__generator:Im,__createBinding:Sd,__exportStar:qm,__values:ld,__read:s1,__spread:Fm,__spreadArrays:zm,__spreadArray:Hm,__await:bc,__asyncGenerator:$m,__asyncDelegator:Gm,__asyncValues:Vm,__makeTemplateObject:Ym,__importStar:Wm,__importDefault:Km,__classPrivateFieldGet:Xm,__classPrivateFieldSet:Jm,__classPrivateFieldIn:Zm,__addDisposableResource:Qm,__disposeResources:e5,__rewriteRelativeImportExtension:t5},ww=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Qm,get __assign(){return od},__asyncDelegator:Gm,__asyncGenerator:$m,__asyncValues:Vm,__await:bc,__awaiter:wt,__classPrivateFieldGet:Xm,__classPrivateFieldIn:Zm,__classPrivateFieldSet:Jm,__createBinding:Sd,__decorate:Cm,__disposeResources:e5,__esDecorate:Dm,__exportStar:qm,__extends:km,__generator:Im,__importDefault:Km,__importStar:Wm,__makeTemplateObject:Ym,__metadata:Um,__param:Rm,__propKey:Mm,__read:s1,__rest:_c,__rewriteRelativeImportExtension:t5,__runInitializers:Pm,__setFunctionName:Bm,__spread:Fm,__spreadArray:Hm,__spreadArrays:zm,__values:ld,default:bw},Symbol.toStringTag,{value:"Module"})),_w=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);let xd=class extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}},n5=class extends xd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},L0=class extends xd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},j0=class extends xd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var ud;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(ud||(ud={}));class Sw{constructor(e,{headers:n={},customFetch:a,region:o=ud.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=_w(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return wt(this,arguments,void 0,function*(n,a={}){var o;let s,c;try{const{headers:h,method:f,body:d,signal:v,timeout:_}=a;let x={},{region:y}=a;y||(y=this.region);const E=new URL(`${this.url}/${n}`);y&&y!=="any"&&(x["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let L;d&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",L=d):typeof d=="string"?(x["Content-Type"]="text/plain",L=d):typeof FormData<"u"&&d instanceof FormData?L=d:(x["Content-Type"]="application/json",L=JSON.stringify(d)):L=d;let k=v;_&&(c=new AbortController,s=setTimeout(()=>c.abort(),_),v?(k=c.signal,v.addEventListener("abort",()=>c.abort())):k=c.signal);const N=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),h),body:L,signal:k}).catch(ae=>{throw new n5(ae)}),$=N.headers.get("x-relay-error");if($&&$==="true")throw new L0(N);if(!N.ok)throw new j0(N);let I=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),z;return I==="application/json"?z=yield N.json():I==="application/octet-stream"||I==="application/pdf"?z=yield N.blob():I==="text/event-stream"?z=N:I==="multipart/form-data"?z=yield N.formData():z=yield N.text(),{data:z,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof j0||h instanceof L0?h.context:void 0}}finally{s&&clearTimeout(s)}})}}const xw=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ud},FunctionsClient:Sw,FunctionsError:xd,FunctionsFetchError:n5,FunctionsHttpError:j0,FunctionsRelayError:L0},Symbol.toStringTag,{value:"Module"})),r5=Th(xw);var Pi={};const Sc=Th(ww);var Rf={},Df={},Pf={},Mf={},Bf={},Uf={},T2;function i5(){if(T2)return Uf;T2=1,Object.defineProperty(Uf,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Uf.default=r,Uf}var O2;function a5(){if(O2)return Bf;O2=1,Object.defineProperty(Bf,"__esModule",{value:!0});const e=Sc.__importDefault(i5());let n=class{constructor(o){var s,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(s=o.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,s){return this.headers=new Headers(this.headers),this.headers.set(o,s),this}then(o,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var d,v,_,x;let y=null,E=null,L=null,k=f.status,N=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ae=await f.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=ae:E=JSON.parse(ae))}const I=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(_=f.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");I&&z&&z.length>1&&(L=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(y={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,L=null,k=406,N="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const I=await f.text();try{y=JSON.parse(I),Array.isArray(y)&&f.status===404&&(E=[],y=null,k=200,N="OK")}catch{f.status===404&&I===""?(k=204,N="No Content"):y={message:I}}if(y&&this.isMaybeSingle&&(!((x=y?.details)===null||x===void 0)&&x.includes("0 rows"))&&(y=null,k=200,N="OK"),y&&this.shouldThrowOnError)throw new e.default(y)}return{error:y,data:E,count:L,status:k,statusText:N}});return this.shouldThrowOnError||(h=h.catch(f=>{var d,v,_,x,y,E;let L="";const k=f?.cause;if(k){const N=(d=k?.message)!==null&&d!==void 0?d:"",$=(v=k?.code)!==null&&v!==void 0?v:"";L=`${(_=f?.name)!==null&&_!==void 0?_:"FetchError"}: ${f?.message}`,L+=`

Caused by: ${(x=k?.name)!==null&&x!==void 0?x:"Error"}: ${N}`,$&&(L+=` (${$})`),k?.stack&&(L+=`
${k.stack}`)}else L=(y=f?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(E=f?.name)!==null&&E!==void 0?E:"FetchError"}: ${f?.message}`,details:L,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(o,s)}returns(){return this}overrideTypes(){return this}};return Bf.default=n,Bf}var L2;function s5(){if(L2)return Mf;L2=1,Object.defineProperty(Mf,"__esModule",{value:!0});const e=Sc.__importDefault(a5());let n=class extends e.default{select(o){let s=!1;const c=(o??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:s=!0,nullsFirst:c,foreignTable:h,referencedTable:f=h}={}){const d=f?`${f}.order`:"order",v=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${v?`${v},`:""}${o}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:s,referencedTable:c=s}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,s,{foreignTable:c,referencedTable:h=c}={}){const f=typeof h>"u"?"offset":`${h}.offset`,d=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(d,`${s-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:s=!1,settings:c=!1,buffers:h=!1,wal:f=!1,format:d="text"}={}){var v;const _=[o?"analyze":null,s?"verbose":null,c?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${_};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Mf.default=n,Mf}var j2;function o1(){if(j2)return Pf;j2=1,Object.defineProperty(Pf,"__esModule",{value:!0});const e=Sc.__importDefault(s5()),n=new RegExp("[,()]");let a=class extends e.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const h=Array.from(new Set(c)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(s,`in.(${h})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:h,type:f}={}){let d="";f==="plain"?d="pl":f==="phrase"?d="ph":f==="websearch"&&(d="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(s,`${d}fts${v}.${c}`),this}match(s){return Object.entries(s).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(s,c,h){return this.url.searchParams.append(s,`not.${c}.${h}`),this}or(s,{foreignTable:c,referencedTable:h=c}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${s})`),this}filter(s,c,h){return this.url.searchParams.append(s,`${c}.${h}`),this}};return Pf.default=a,Pf}var k2;function o5(){if(k2)return Df;k2=1,Object.defineProperty(Df,"__esModule",{value:!0});const e=Sc.__importDefault(o1());let n=class{constructor(o,{headers:s={},schema:c,fetch:h}){this.url=o,this.headers=new Headers(s),this.schema=c,this.fetch=h}select(o,s){const{head:c=!1,count:h}=s??{},f=c?"HEAD":"GET";let d=!1;const v=(o??"*").split("").map(_=>/\s/.test(_)&&!d?"":(_==='"'&&(d=!d),_)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:s,defaultToNull:c=!0}={}){var h;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const d=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(d.length>0){const v=[...new Set(d)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:s,ignoreDuplicates:c=!1,count:h,defaultToNull:f=!0}={}){var d;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(_.length>0){const x=[...new Set(_)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(o,{count:s}={}){var c;const h="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var s;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return Df.default=n,Df}var C2;function Aw(){if(C2)return Rf;C2=1,Object.defineProperty(Rf,"__esModule",{value:!0});const r=Sc,e=r.__importDefault(o5()),n=r.__importDefault(o1());let a=class l5{constructor(s,{headers:c={},schema:h,fetch:f}={}){this.url=s,this.headers=new Headers(c),this.schemaName=h,this.fetch=f}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new l5(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:h=!1,get:f=!1,count:d}={}){var v;let _;const x=new URL(`${this.url}/rpc/${s}`);let y;h||f?(_=h?"HEAD":"GET",Object.entries(c).filter(([L,k])=>k!==void 0).map(([L,k])=>[L,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([L,k])=>{x.searchParams.append(L,k)})):(_="POST",y=c);const E=new Headers(this.headers);return d&&E.set("Prefer",`count=${d}`),new n.default({method:_,url:x,headers:E,schema:this.schemaName,body:y,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Rf.default=a,Rf}var R2;function u5(){if(R2)return Pi;R2=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.PostgrestError=Pi.PostgrestBuilder=Pi.PostgrestTransformBuilder=Pi.PostgrestFilterBuilder=Pi.PostgrestQueryBuilder=Pi.PostgrestClient=void 0;const r=Sc,e=r.__importDefault(Aw());Pi.PostgrestClient=e.default;const n=r.__importDefault(o5());Pi.PostgrestQueryBuilder=n.default;const a=r.__importDefault(o1());Pi.PostgrestFilterBuilder=a.default;const o=r.__importDefault(s5());Pi.PostgrestTransformBuilder=o.default;const s=r.__importDefault(a5());Pi.PostgrestBuilder=s.default;const c=r.__importDefault(i5());return Pi.PostgrestError=c.default,Pi.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:s.default,PostgrestError:c.default},Pi}class c5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ew="2.86.2",Nw=`realtime-js/${Ew}`,h5="1.0.0",Tw="2.0.0",D2=h5,k0=1e4,Ow=1e3,Lw=100;var uu;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(uu||(uu={}));var zr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(zr||(zr={}));var Os;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Os||(Os={}));var C0;(function(r){r.websocket="websocket"})(C0||(C0={}));var cu;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(cu||(cu={}));class jw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,a){var o,s;const c=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",f=(s=e.join_ref)!==null&&s!==void 0?s:"",d=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+c.length+d.length+_.length,y=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(y),L=0;E.setUint8(L++,this.KINDS.userBroadcastPush),E.setUint8(L++,f.length),E.setUint8(L++,h.length),E.setUint8(L++,c.length),E.setUint8(L++,d.length),E.setUint8(L++,_.length),E.setUint8(L++,n),Array.from(f,N=>E.setUint8(L++,N.charCodeAt(0))),Array.from(h,N=>E.setUint8(L++,N.charCodeAt(0))),Array.from(c,N=>E.setUint8(L++,N.charCodeAt(0))),Array.from(d,N=>E.setUint8(L++,N.charCodeAt(0))),Array.from(_,N=>E.setUint8(L++,N.charCodeAt(0)));var k=new Uint8Array(y.byteLength+a.byteLength);return k.set(new Uint8Array(y),0),k.set(new Uint8Array(a),y.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,s,c,h,f]=a;return n({join_ref:o,ref:s,topic:c,event:h,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,a){const o=n.getUint8(1),s=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=a.decode(e.slice(f,f+o));f=f+o;const v=a.decode(e.slice(f,f+s));f=f+s;const _=a.decode(e.slice(f,f+c));f=f+c;const x=e.slice(f,e.byteLength),y=h===this.JSON_ENCODING?JSON.parse(a.decode(x)):x,E={type:this.BROADCAST_EVENT,event:v,payload:y};return c>0&&(E.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class f5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Wn||(Wn={}));const P2=(r,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((s,c)=>(s[c]=kw(c,r,e,o),s),{}):{}},kw=(r,e,n,a)=>{const o=e.find(h=>h.name===r),s=o?.type,c=n[r];return s&&!a.includes(s)?d5(s,c):R0(c)},d5=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return Pw(e,n)}switch(r){case Wn.bool:return Cw(e);case Wn.float4:case Wn.float8:case Wn.int2:case Wn.int4:case Wn.int8:case Wn.numeric:case Wn.oid:return Rw(e);case Wn.json:case Wn.jsonb:return Dw(e);case Wn.timestamp:return Mw(e);case Wn.abstime:case Wn.date:case Wn.daterange:case Wn.int4range:case Wn.int8range:case Wn.money:case Wn.reltime:case Wn.text:case Wn.time:case Wn.timestamptz:case Wn.timetz:case Wn.tsrange:case Wn.tstzrange:return R0(e);default:return R0(e)}},R0=r=>r,Cw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Rw=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Dw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Pw=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let s;const c=r.slice(1,n);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(h=>d5(e,h))}return r},Mw=r=>typeof r=="string"?r.replace(" ","T"):r,p5=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class qp{constructor(e,n,a={},o=k0){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(D0||(D0={}));let g5=class Jf{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:s,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jf.syncState(this.state,o,s,c),this.pendingDiffs.forEach(f=>{this.state=Jf.syncDiff(this.state,f,s,c)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:s,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Jf.syncDiff(this.state,o,s,c),h())}),this.onJoin((o,s,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:c})}),this.onLeave((o,s,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const s=this.cloneDeep(e),c=this.transformState(n),h={},f={};return this.map(s,(d,v)=>{c[d]||(f[d]=v)}),this.map(c,(d,v)=>{const _=s[d];if(_){const x=v.map(k=>k.presence_ref),y=_.map(k=>k.presence_ref),E=v.filter(k=>y.indexOf(k.presence_ref)<0),L=_.filter(k=>x.indexOf(k.presence_ref)<0);E.length>0&&(h[d]=E),L.length>0&&(f[d]=L)}else h[d]=v}),this.syncDiff(s,{joins:h,leaves:f},a,o)}static syncDiff(e,n,a,o){const{joins:s,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(s,(h,f)=>{var d;const v=(d=e[h])!==null&&d!==void 0?d:[];if(e[h]=this.cloneDeep(f),v.length>0){const _=e[h].map(y=>y.presence_ref),x=v.filter(y=>_.indexOf(y.presence_ref)<0);e[h].unshift(...x)}a(h,v,f)}),this.map(c,(h,f)=>{let d=e[h];if(!d)return;const v=f.map(_=>_.presence_ref);d=d.filter(_=>v.indexOf(_.presence_ref)<0),e[h]=d,o(h,d,f),d.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var P0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(P0||(P0={}));var fc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(fc||(fc={}));var ao;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ao||(ao={}));const Bw=zr;let v5=class m5{constructor(e,n={config:{}},a){var o,s;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qp(this,Os.join,this.params,this.timeout),this.rejoinTimer=new f5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Os.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new g5(this),this.broadcastEndpointURL=p5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zr.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,d=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[fc.PRESENCE]&&this.bindings[fc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,_={},x={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(ao.CHANNEL_ERROR,y)),this._onClose(()=>e?.(ao.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket.setAuth(),y===void 0){e?.(ao.SUBSCRIBED);return}else{const L=this.bindings.postgres_changes,k=(E=L?.length)!==null&&E!==void 0?E:0,N=[];for(let $=0;$<k;$++){const I=L[$],{filter:{event:z,schema:ae,table:Ee,filter:ye}}=I,oe=y&&y[$];if(oe&&oe.event===z&&oe.schema===ae&&oe.table===Ee&&oe.filter===ye)N.push(Object.assign(Object.assign({},I),{id:oe.id}));else{this.unsubscribe(),this.state=zr.errored,e?.(ao.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(ao.SUBSCRIBED);return}}).receive("error",y=>{this.state=zr.errored,e?.(ao.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(ao.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===zr.joined&&e===fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var o;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const d=await h.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=d.body)===null||o===void 0?void 0:o.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,h,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Os.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new qp(this,Os.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const o=new AbortController,s=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),c}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new qp(this,e,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Lw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,s;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:d,join:v}=Os;if(a&&[h,f,d,v].indexOf(c)>=0&&a!==this._joinRef())return;let x=this._onMessage(c,n,a);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var E,L,k;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(L=y.filter)===null||L===void 0?void 0:L.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(y=>y.callback(x,a)):(s=this.bindings[c])===null||s===void 0||s.filter(y=>{var E,L,k,N,$,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const z=y.id,ae=(E=y.filter)===null||E===void 0?void 0:E.event;return z&&((L=n.ids)===null||L===void 0?void 0:L.includes(z))&&(ae==="*"||ae?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=($=(N=y?.filter)===null||N===void 0?void 0:N.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return z==="*"||z===((I=n?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:L,table:k,commit_timestamp:N,type:$,errors:I}=E;x=Object.assign(Object.assign({},{schema:L,table:k,commit_timestamp:N,eventType:$,new:{},old:{},errors:I}),this._getPayloadRecords(E))}y.callback(x,a)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&m5.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Os.close,{},e)}_onError(e){this._on(Os.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=P2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=P2(e.columns,e.old_record)),n}};const Fp=()=>{},If={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Uw=[1e3,2e3,5e3,1e4],Iw=1e4,qw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Fw=class{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=k0,this.transport=null,this.heartbeatIntervalMs=If.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fp,this.ref=0,this.reconnectTimer=null,this.vsn=D2,this.logger=Fp,this.conn=null,this.sendBuffer=[],this.serializer=new jw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...s)=>o(...s):(...s)=>fetch(...s),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${C0.websocket}`,this.httpEndpoint=p5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=c5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case uu.connecting:return cu.Connecting;case uu.open:return cu.Open;case uu.closing:return cu.Closing;default:return cu.Closed}}isConnected(){return this.connectionState()===cu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===a);if(o)return o;{const s=new v5(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:a,payload:o,ref:s}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${s})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ow,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},If.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:s,ref:c}=n,h=c?`(${c})`:"",f=s.status||"";this.log("receive",`${f} ${a} ${o} ${h}`.trim(),s),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(o,s,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===uu.open||this.conn.readyState===uu.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Os.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([qw],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const o={access_token:n,version:Nw};n&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Os.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new f5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},If.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,o,s,c,h,f,d,v,_,x,y;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:k0,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:If.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Fp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:D2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(E=>Uw[E-1]||Iw),this.vsn){case h5:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((E,L)=>L(JSON.stringify(E))),this.decode=(_=e?.decode)!==null&&_!==void 0?_:((E,L)=>L(JSON.parse(E)));break;case Tw:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const zw=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Bw,get REALTIME_LISTEN_TYPES(){return fc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return P0},get REALTIME_PRESENCE_LISTEN_EVENTS(){return D0},get REALTIME_SUBSCRIBE_STATES(){return ao},RealtimeChannel:v5,RealtimeClient:Fw,RealtimePresence:g5,WebSocketFactory:c5},Symbol.toStringTag,{value:"Module"})),y5=Th(zw);class Oh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ur(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class b5 extends Oh{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cd extends Oh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const l1=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Hw=()=>Response,M0=r=>{if(Array.isArray(r))return r.map(n=>M0(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=M0(a)}),e},$w=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Gw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),zp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},Vw=(r,e,n)=>wt(void 0,void 0,void 0,function*(){const a=yield Hw();r instanceof a&&!n?.noResolveJson?r.json().then(o=>{const s=r.status||500,c=o?.statusCode||s+"";e(new b5(zp(o),s,c))}).catch(o=>{e(new cd(zp(o),o))}):e(new cd(zp(r),r))}),Yw=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!a?o:($w(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Lh(r,e,n,a,o,s){return wt(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(n,Yw(e,a,o,s)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>Vw(f,h,a))})})}function xh(r,e,n,a){return wt(this,void 0,void 0,function*(){return Lh(r,"GET",e,n,a)})}function Ts(r,e,n,a,o){return wt(this,void 0,void 0,function*(){return Lh(r,"POST",e,a,o,n)})}function B0(r,e,n,a,o){return wt(this,void 0,void 0,function*(){return Lh(r,"PUT",e,a,o,n)})}function Ww(r,e,n,a){return wt(this,void 0,void 0,function*(){return Lh(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function u1(r,e,n,a,o){return wt(this,void 0,void 0,function*(){return Lh(r,"DELETE",e,a,o,n)})}class Kw{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return wt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}})}}var w5;class Xw{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[w5]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kw(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return wt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ur(e))return{data:null,error:e};throw e}})}}w5=Symbol.toStringTag;const Jw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},M2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zw{constructor(e,n={},a,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=l1(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,o){return wt(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},M2),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),f&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(f))):(s=a,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const d=this._removeEmptyFolders(n),v=this._getFinalPath(d),_=yield(e=="PUT"?B0:Ts)(this.fetch,`${this.url}/object/${v}`,s,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:d,id:_.Id,fullPath:_.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ur(s))return{data:null,error:s};throw s}})}upload(e,n,a){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,o){return wt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),c=this._getFinalPath(s),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:M2.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",d.cacheControl)):(f=a,v["cache-control"]=`max-age=${d.cacheControl}`,v["content-type"]=d.contentType);const _=yield B0(this.fetch,h.toString(),f,{headers:v});return{data:{path:s,fullPath:_.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ur(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return wt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const s=yield Ts(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(this.url+s.url),h=c.searchParams.get("token");if(!h)throw new Oh("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}update(e,n,a){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return wt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}copy(e,n,a){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,a){return wt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield Ts(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,a){return wt(this,void 0,void 0,function*(){try{const o=yield Ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),c=s?`?${s}`:"",h=this._getFinalPath(e),f=()=>xh(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new Xw(f,this.shouldThrowOnError)}info(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield xh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:M0(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}exists(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ww(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a)&&a instanceof cd){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),o=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&o.push(f);let d=o.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${d}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}list(e,n,a){return wt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Jw),n),{prefix:e||""});return{data:yield Ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}listV2(e,n){return wt(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Ts(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _5="2.86.2",S5={"X-Client-Info":`storage-js/${_5}`};class Qw{constructor(e,n={},a,o){this.shouldThrowOnError=!1;const s=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S5),n),this.fetch=l1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return wt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield xh(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}getBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}createBucket(e){return wt(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ur(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return wt(this,void 0,void 0,function*(){try{return{data:yield B0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}emptyBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Ah=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function e_(r,e,n){const a=new URL(e,r);if(n)for(const[o,s]of Object.entries(n))s!==void 0&&a.searchParams.set(o,s);return a.toString()}async function t_(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function n_(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:s,headers:c}){const h=e_(r.baseUrl,a,o),f=await t_(r.auth),d=await e(h,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...f,...c},body:s?JSON.stringify(s):void 0}),v=await d.text(),_=(d.headers.get("content-type")||"").includes("application/json"),x=_&&v?JSON.parse(v):v;if(!d.ok){const y=_?x:void 0,E=y?.error;throw new Ah(E?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:E?.type,icebergCode:E?.code,details:y})}return{status:d.status,headers:d.headers,data:x}}}}function qf(r){return r.join("")}var r_=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:qf(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qf(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qf(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qf(r.namespace)}`}),!0}catch(e){if(e instanceof Ah&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof Ah&&n.status===409)return;throw n}}};function Qu(r){return r.join("")}var i_=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qu(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof Ah&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof Ah&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},a_=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=n_({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new r_(this.client,e),this.tableOps=new i_(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}};class x5{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},S5),n),this.fetch=l1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}listBuckets(e){return wt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const a=n.toString(),o=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield xh(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield u1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}})}from(e){if(!Gw(e))throw new Oh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new a_({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>wt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const c1={"X-Client-Info":`storage-js/${_5}`,"Content-Type":"application/json"};class h1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ua(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Zf extends h1{constructor(e,n,a){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A5 extends h1{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var U0;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(U0||(U0={}));const Ad=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),s_=()=>Response,E5=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},o_=r=>Array.from(new Float32Array(r)),l_=(r,e)=>{if(e!==void 0&&r.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${r.float32.length}`)},B2=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),u_=(r,e,n)=>wt(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const o=r.status||500,s=r;if(typeof s.json=="function")s.json().then(c=>{const h=c?.statusCode||c?.code||o+"";e(new Zf(B2(c),o,h))}).catch(()=>{const c=o+"",h=s.statusText||`HTTP ${o} error`;e(new Zf(h,o,c))});else{const c=o+"",h=s.statusText||`HTTP ${o} error`;e(new Zf(h,o,c))}}else e(new A5(B2(r),r))}),c_=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return a?(E5(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),n)):o};function h_(r,e,n,a,o,s){return wt(this,void 0,void 0,function*(){return new Promise((c,h)=>{r(n,c_(e,a,o,s)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>u_(f,h,a))})})}function La(r,e,n,a,o){return wt(this,void 0,void 0,function*(){return h_(r,"POST",e,a,o,n)})}class N5{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c1),n),this.fetch=Ad(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return wt(this,void 0,void 0,function*(){try{return{data:(yield La(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}getIndex(e,n){return wt(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}listIndexes(e){return wt(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return wt(this,void 0,void 0,function*(){try{return{data:(yield La(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ua(a))return{data:null,error:a};throw a}})}}class T5{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c1),n),this.fetch=Ad(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return wt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield La(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}getVectors(e){return wt(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}listVectors(e){return wt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield La(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}queryVectors(e){return wt(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}deleteVectors(e){return wt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield La(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}}class O5{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},c1),n),this.fetch=Ad(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:(yield La(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}getBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}listBuckets(){return wt(this,arguments,void 0,function*(e={}){try{return{data:yield La(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:(yield La(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ua(n))return{data:null,error:n};throw n}})}}class L5 extends O5{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new j5(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return wt(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return wt(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return wt(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return wt(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class j5 extends N5{constructor(e,n,a,o){super(e,n,o),this.vectorBucketName=a}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return wt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return wt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return wt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return wt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new k5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class k5 extends T5{constructor(e,n,a,o,s){super(e,n,s),this.vectorBucketName=a,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return wt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return wt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return wt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return wt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return wt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class f_ extends Qw{constructor(e,n={},a,o){super(e,n,a,o)}from(e){return new Zw(this.url,this.headers,e,this.fetch)}get vectors(){return new L5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new x5(this.url+"/iceberg",this.headers,this.fetch)}}const d_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:x5,StorageApiError:b5,StorageClient:f_,StorageError:Oh,StorageUnknownError:cd,StorageVectorsApiError:Zf,StorageVectorsClient:L5,StorageVectorsError:h1,get StorageVectorsErrorCode(){return U0},StorageVectorsUnknownError:A5,VectorBucketApi:O5,VectorBucketScope:j5,VectorDataApi:T5,VectorIndexApi:N5,VectorIndexScope:k5,isPlainObject:E5,isStorageError:ur,isStorageVectorsError:ua,normalizeToFloat32:o_,resolveFetch:Ad,resolveResponse:s_,validateVectorDimension:l_},Symbol.toStringTag,{value:"Module"})),p_=Th(d_);var Hp={},fh={},U2;function g_(){return U2||(U2=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.version=void 0,fh.version="2.86.2"),fh}var I2;function v_(){return I2||(I2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_REALTIME_OPTIONS=r.DEFAULT_AUTH_OPTIONS=r.DEFAULT_DB_OPTIONS=r.DEFAULT_GLOBAL_OPTIONS=r.DEFAULT_HEADERS=void 0;const e=g_();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",r.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},r.DEFAULT_GLOBAL_OPTIONS={headers:r.DEFAULT_HEADERS},r.DEFAULT_DB_OPTIONS={schema:"public"},r.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r.DEFAULT_REALTIME_OPTIONS={}})(Hp)),Hp}var $p={},q2;function m_(){return q2||(q2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.fetchWithAuth=r.resolveHeadersConstructor=r.resolveFetch=void 0;const e=o=>o?(...s)=>o(...s):(...s)=>fetch(...s);r.resolveFetch=e;const n=()=>Headers;r.resolveHeadersConstructor=n;const a=(o,s,c)=>{const h=(0,r.resolveFetch)(c),f=(0,r.resolveHeadersConstructor)();return async(d,v)=>{var _;const x=(_=await s())!==null&&_!==void 0?_:o;let y=new f(v?.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${x}`),h(d,Object.assign(Object.assign({},v),{headers:y}))}};r.fetchWithAuth=a})($p)),$p}var Bo={},F2;function y_(){if(F2)return Bo;F2=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.isBrowser=void 0,Bo.uuid=r,Bo.ensureTrailingSlash=e,Bo.applySettingDefaults=a,Bo.validateSupabaseUrl=o;function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,h=s=="x"?c:c&3|8;return h.toString(16)})}function e(s){return s.endsWith("/")?s:s+"/"}const n=()=>typeof window<"u";Bo.isBrowser=n;function a(s,c){var h,f;const{db:d,auth:v,realtime:_,global:x}=s,{db:y,auth:E,realtime:L,global:k}=c,N={db:Object.assign(Object.assign({},y),d),auth:Object.assign(Object.assign({},E),v),realtime:Object.assign(Object.assign({},L),_),storage:{},global:Object.assign(Object.assign(Object.assign({},k),x),{headers:Object.assign(Object.assign({},(h=k?.headers)!==null&&h!==void 0?h:{}),(f=x?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return s.accessToken?N.accessToken=s.accessToken:delete N.accessToken,N}function o(s){const c=s?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Bo}var dh={};const C5="2.86.2",oc=30*1e3,I0=3,Gp=I0*oc,b_="http://localhost:9999",w_="supabase.auth.token",__={"X-Client-Info":`gotrue-js/${C5}`},q0="X-Supabase-Api-Version",R5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x_=600*1e3;let wc=class extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}};function Ot(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}let D5=class extends wc{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}};function P5(r){return Ot(r)&&r.name==="AuthApiError"}let Ll=class extends wc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},$o=class extends wc{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}},la=class extends $o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function M5(r){return Ot(r)&&r.name==="AuthSessionMissingError"}let au=class extends $o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},yh=class extends $o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},bh=class extends $o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function B5(r){return Ot(r)&&r.name==="AuthImplicitGrantRedirectError"}let F0=class extends $o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},hd=class extends $o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Qf(r){return Ot(r)&&r.name==="AuthRetryableFetchError"}let z0=class extends $o{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}};function A_(r){return Ot(r)&&r.name==="AuthWeakPasswordError"}let fd=class extends $o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z2=` 	
\r=`.split(""),E_=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<z2.length;e+=1)r[z2[e].charCodeAt(0)]=-2;for(let e=0;e<dd.length;e+=1)r[dd[e].charCodeAt(0)]=e;return r})();function H2(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(dd[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(dd[a]),e.queuedBits-=6}}function U5(r,e,n){const a=E_[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function $2(r){const e=[],n=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=c=>{O_(c,a,n)};for(let c=0;c<r.length;c+=1)U5(r.charCodeAt(c),o,s);return e.join("")}function N_(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function T_(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}N_(a,e)}}function O_(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dc(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)U5(r.charCodeAt(o),n,a);return new Uint8Array(e)}function L_(r){const e=[];return T_(r,n=>e.push(n)),new Uint8Array(e)}function fu(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return r.forEach(o=>H2(o,n,a)),H2(null,n,a),e.join("")}function j_(r){return Math.round(Date.now()/1e3)+r}function k_(){return Symbol("auth-callback")}const Ni=()=>typeof window<"u"&&typeof document<"u",nu={tested:!1,writable:!1},I5=()=>{if(!Ni())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nu.tested)return nu.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),nu.tested=!0,nu.writable=!0}catch{nu.tested=!0,nu.writable=!1}return nu.writable};function C_(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const q5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),R_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",lc=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},ru=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ai=async(r,e)=>{await r.removeItem(e)};class Ed{constructor(){this.promise=new Ed.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ed.promiseConstructor=Promise;function Vp(r){const e=r.split(".");if(e.length!==3)throw new fd("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!S_.test(e[a]))throw new fd("JWT not in base64url format");return{header:JSON.parse($2(e[0])),payload:JSON.parse($2(e[1])),signature:dc(e[2]),raw:{header:e[0],payload:e[1]}}}async function D_(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function P_(r,e){return new Promise((a,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await r(s);if(!e(s,null,c)){a(c);return}}catch(c){if(!e(s,c)){o(c);return}}})()})}function M_(r){return("0"+r.toString(16)).substr(-2)}function B_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,M_).join("")}async function U_(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function I_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await U_(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ec(r,e,n=!1){const a=B_();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await lc(r,`${e}-code-verifier`,o);const s=await I_(a);return[s,a===s?"plain":"s256"]}const q_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F_(r){const e=r.headers.get(q0);if(!e||!e.match(q_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function z_(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function H_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tc(r){if(!$_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yp(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G_(r,e){return new Proxy(r,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,o)}})}function G2(r){return JSON.parse(JSON.stringify(r))}const su=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),V_=[502,503,504];async function V2(r){var e;if(!R_(r))throw new hd(su(r),0);if(V_.includes(r.status))throw new hd(su(r),r.status);let n;try{n=await r.json()}catch(s){throw new Ll(su(s),s)}let a;const o=F_(r);if(o&&o.getTime()>=R5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new z0(su(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new la}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new z0(su(n),r.status,n.weak_password.reasons);throw new D5(su(n),r.status||500,a)}const Y_=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Ut(r,e,n,a){var o;const s=Object.assign({},a?.headers);s[q0]||(s[q0]=R5["2024-01-01"].name),a?.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await W_(r,e,n+h,{headers:s,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function W_(r,e,n,a,o,s){const c=Y_(e,a,o,s);let h;try{h=await r(n,Object.assign({},c))}catch(f){throw console.error(f),new hd(su(f),0)}if(h.ok||await V2(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await V2(f)}}function Ns(r){var e;let n=null;J_(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=j_(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function Y2(r){const e=Ns(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function jl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function K_(r){return{data:r,error:null}}function X_(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:s}=r,c=_c(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:s},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function W2(r){return r}function J_(r){return r.access_token&&r.refresh_token&&r.expires_in}const ed=["global","local","others"];let f1=class{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=q5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ed[0]){if(ed.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jl})}catch(a){if(Ot(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=_c(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:X_,redirectTo:n?.redirectTo})}catch(n){if(Ot(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,s,c,h,f;try{const d={nextPage:null,lastPage:0,total:0},v=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:W2});if(v.error)throw v.error;const _=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const L=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);d[`${k}Page`]=L}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(Ot(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){tc(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jl})}catch(n){if(Ot(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){tc(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:jl})}catch(a){if(Ot(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){tc(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:jl})}catch(a){if(Ot(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){tc(e.userId);try{const{data:n,error:a}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _deleteFactor(e){tc(e.userId),tc(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,o,s,c,h,f;try{const d={nextPage:null,lastPage:0,total:0},v=await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:W2});if(v.error)throw v.error;const _=await v.json(),x=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(E=>{const L=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);d[`${k}Page`]=L}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},_),d),error:null}}catch(d){if(Ot(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ot(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ot(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ot(n))return{data:null,error:n};throw n}}};function K2(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const ou={debug:!!(globalThis&&I5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let F5=class extends d1{};class Z_ extends d1{}async function z5(r,e,n){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ou.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await n()}finally{ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw ou.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new F5(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ou.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const X2={};async function Q_(r,e,n){var a;const o=(a=X2[r])!==null&&a!==void 0?a:Promise.resolve(),s=Promise.race([o.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new Z_(`Acquring process lock with name "${r}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await n());return X2[r]=s.catch(async c=>{if(c&&c.isAcquireTimeout)return await o,null;throw c}),await s}function e3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function H5(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function t3(r){return parseInt(r,16)}function n3(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function r3(r){var e;const{chainId:n,domain:a,expirationTime:o,issuedAt:s=new Date,nonce:c,notBefore:h,requestId:f,resources:d,scheme:v,uri:_,version:x}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=H5(r.address),E=v?`${v}://${a}`:a,L=r.statement?`${r.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${y}

${L}`;let N=`URI: ${_}
Version: ${x}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),f&&(N+=`
Request ID: ${f}`),d){let $=`
Resources:`;for(const I of d){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);$+=`
- ${I}`}N+=$}return`${k}
${N}`}class Hr extends Error{constructor({message:e,code:n,cause:a,name:o}){var s;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=o??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class pd extends Hr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function i3({error:r,options:e}){var n,a,o;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Hr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Hr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Hr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=s.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Hr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Hr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Hr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return s.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Hr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Hr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if($5(c)){if(s.rp.id!==c)return new Hr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Hr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function a3({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Hr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Hr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if($5(a)){if(n.rpId!==a)return new Hr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Hr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Hr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Hr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class s3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const o3=new s3;function l3(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,o=_c(r,["challenge","user","excludeCredentials"]),s=dc(e).buffer,c=Object.assign(Object.assign({},n),{id:dc(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:s,user:c});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const d=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:dc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return h}function u3(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=_c(r,["challenge","allowCredentials"]),o=dc(e).buffer,s=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];s.allowCredentials[c]=Object.assign(Object.assign({},h),{id:dc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return s}function c3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:fu(new Uint8Array(r.response.attestationObject)),clientDataJSON:fu(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function h3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:fu(new Uint8Array(o.authenticatorData)),clientDataJSON:fu(new Uint8Array(o.clientDataJSON)),signature:fu(new Uint8Array(o.signature)),userHandle:o.userHandle?fu(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $5(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function J2(){var r,e;return!!(Ni()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function f3(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:i3({error:e,options:r})}}}async function d3(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",e)}:{data:null,error:new pd("Empty credential response",e)}}catch(e){return{data:null,error:a3({error:e,options:r})}}}const p3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gd(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const s in o){const c=o[s];if(c!==void 0)if(Array.isArray(c))a[s]=c;else if(n(c))a[s]=c;else if(e(c)){const h=a[s];e(h)?a[s]=gd(h,c):a[s]=gd(c)}else a[s]=c}return a}function v3(r,e){return gd(p3,r,e||{})}function m3(r,e){return gd(g3,r,e||{})}class y3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:o},s){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const f=o??o3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:d}=c.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{const d=v3(c.webauthn.credential_options.publicKey,s?.create),{data:v,error:_}=await f3({publicKey:d,signal:f});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const d=m3(c.webauthn.credential_options.publicKey,s?.request),{data:v,error:_}=await d3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:f}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(c){return Ot(c)?{data:null,error:c}:{data:null,error:new Ll("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new wc("rpId is required for WebAuthn authentication")};try{if(!J2())return{data:null,error:new Ll("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:s});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(c){return Ot(c)?{data:null,error:c}:{data:null,error:new Ll("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new wc("rpId is required for WebAuthn registration")};try{if(!J2())return{data:null,error:new Ll("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:h};const{data:f,error:d}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:s});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(c){return Ot(c)?{data:null,error:c}:{data:null,error:new Ll("Unexpected error in register",c)}}}}e3();const b3={url:b_,storageKey:w_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:__,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Z2(r,e,n){return await n()}const nc={};let p1=class H0{get jwks(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=nc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nc[this.storageKey]=Object.assign(Object.assign({},nc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},b3),e);if(this.storageKey=s.storageKey,this.instanceID=(n=H0.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,H0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ni()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new f1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=q5(s.fetch),this.lock=s.lock||Z2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ni()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=z5:this.lock=Z2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:I5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=K2(this.memoryStorage)),Ni()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${C5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(Ni()&&(n=C_(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ni()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),B5(s)){const f=(e=s.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ot(n)?this._returnResult({error:n}):this._returnResult({error:new Ll("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const s=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ns}),{data:c,error:h}=s;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,d=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(Ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,a,o;try{let s;if("email"in e){const{email:v,password:_,options:x}=e;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ec(this.storage,this.storageKey)),s=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:_,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:y,code_challenge_method:E},xform:Ns})}else if("phone"in e){const{phone:v,password:_,options:x}=e;s=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=x?.data)!==null&&a!==void 0?a:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ns})}else throw new yh("You must provide either an email or phone number and a password");const{data:c,error:h}=s;if(h||!c)return await Ai(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=c.session,d=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(s){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:c,options:h}=e;n=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Y2})}else if("phone"in e){const{phone:s,password:c,options:h}=e;n=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Y2})}else throw new yh("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const s=new au;return this._returnResult({data:{user:null,session:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,o,s,c,h,f,d,v,_,x;let y,E;if("message"in e)y=e.message,E=e.signature;else{const{chain:L,wallet:k,statement:N,options:$}=e;let I;if(Ni())if(typeof k=="object")I=k;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")I=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const z=new URL((n=$?.url)!==null&&n!==void 0?n:window.location.href),ae=await I.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ee=H5(ae[0]);let ye=(a=$?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ye){const W=await I.request({method:"eth_chainId"});ye=t3(W)}const oe={domain:z.host,address:Ee,statement:N,uri:z.href,version:"1",chainId:ye,nonce:(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(s=$?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=$?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=$?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=$?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(v=$?.signInWithEthereum)===null||v===void 0?void 0:v.resources};y=r3(oe),E=await I.request({method:"personal_sign",params:[n3(y),Ee]})}try{const{data:L,error:k}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ns});if(k)throw k;if(!L||!L.session||!L.user){const N=new au;return this._returnResult({data:{user:null,session:null},error:N})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:k})}catch(L){if(Ot(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async signInWithSolana(e){var n,a,o,s,c,h,f,d,v,_,x,y;let E,L;if("message"in e)E=e.message,L=e.signature;else{const{chain:k,wallet:N,statement:$,options:I}=e;let z;if(Ni())if(typeof N=="object")z=N;else{const Ee=window;if("solana"in Ee&&typeof Ee.solana=="object"&&("signIn"in Ee.solana&&typeof Ee.solana.signIn=="function"||"signMessage"in Ee.solana&&typeof Ee.solana.signMessage=="function"))z=Ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=N}const ae=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const Ee=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),$?{statement:$}:null));let ye;if(Array.isArray(Ee)&&Ee[0]&&typeof Ee[0]=="object")ye=Ee[0];else if(Ee&&typeof Ee=="object"&&"signedMessage"in Ee&&"signature"in Ee)ye=Ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ye&&"signature"in ye&&(typeof ye.signedMessage=="string"||ye.signedMessage instanceof Uint8Array)&&ye.signature instanceof Uint8Array)E=typeof ye.signedMessage=="string"?ye.signedMessage:new TextDecoder().decode(ye.signedMessage),L=ye.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${ae.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(o=(a=I?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((h=I?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((f=I?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((d=I?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((_=(v=I?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...I.signInWithSolana.resources.map(ye=>`- ${ye}`)]:[]].join(`
`);const Ee=await z.signMessage(new TextEncoder().encode(E),"utf8");if(!Ee||!(Ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=Ee}}try{const{data:k,error:N}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:fu(L)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ns});if(N)throw N;if(!k||!k.session||!k.user){const $=new au;return this._returnResult({data:{user:null,session:null},error:$})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(Ot(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await ru(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{const{data:s,error:c}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Ns});if(await Ai(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const h=new au;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:c})}catch(s){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:s,nonce:c}=e,h=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ns}),{data:f,error:d}=h;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const v=new au;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,o,s,c;try{if("email"in e){const{email:h,options:f}=e;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await ec(this.storage,this.storageKey));const{error:_}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:f}=e,{data:d,error:v}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:v})}throw new yh("You must provide either an email or phone number.")}catch(h){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,a;try{let o,s;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:h}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Ns});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,d=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(Ot(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,a,o,s,c;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ec(this.storage,this.storageKey));const d=await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:K_});return!((s=d.data)===null||s===void 0)&&s.url&&Ni()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(h){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new la;const{error:o}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Ot(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:s}=e,{error:c}=await Ut(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:o,options:s}=e,{data:c,error:h}=await Ut(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new yh("You must provide either an email or phone number and a type")}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ru(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Gp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await ru(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Yp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=G_(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jl}):await this._useSession(async n=>{var a,o,s;const{data:c,error:h}=n;if(h)throw h;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:jl})})}catch(n){if(Ot(n))return M5(n)&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:s}=a;if(s)throw s;if(!o.session)throw new la;const c=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await ec(this.storage,this.storageKey));const{data:d,error:v}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:jl});if(v)throw v;return c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new la;const n=Date.now()/1e3;let a=n,o=!0,s=null;const{payload:c}=Vp(e.access_token);if(c.exp&&(a=c.exp,o=a<=n),o){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};s=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;s={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Ot(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new la;const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ot(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ni())throw new bh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new F0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new F0("No code detected.");const{data:$,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:s,refresh_token:c,expires_in:h,expires_at:f,token_type:d}=e;if(!s||!h||!c||!d)throw new bh("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(h);let x=v+_;f&&(x=parseInt(f));const y=x-v;y*1e3<=oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${_}s`);const E=x-_;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,v);const{data:L,error:k}=await this._getUser(s);if(k)throw k;const N={provider_token:a,provider_refresh_token:o,access_token:s,expires_in:_,expires_at:x,refresh_token:c,token_type:d,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(a){if(Ot(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ru(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({error:s});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(P5(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=k_(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:s},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ec(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:o}=await this._useSession(async s=>{var c,h,f,d,v;const{data:_,error:x}=s;if(x)throw x;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",y,{headers:this.headers,jwt:(v=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Ni()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Ot(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:s}}=n;if(o)throw o;const{options:c,provider:h,token:f,access_token:d,nonce:v}=e,_=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:d,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ns}),{data:x,error:y}=_;return y?this._returnResult({data:{user:null,session:null},error:y}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new au}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:y}))}catch(o){if(await Ai(this.storage,`${this.storageKey}-code-verifier`),Ot(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:s,error:c}=n;if(c)throw c;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await P_(async o=>(o>0&&await D_(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ns})),(o,s)=>{const c=200*Math.pow(2,o);return s&&Qf(s)&&Date.now()+c-a<oc})}catch(a){if(this._debug(n,"error",a),Ot(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Ni()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await ru(this.storage,this.storageKey);if(o&&this.userStorage){let c=await ru(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await lc(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:Yp()}else if(o&&!o.user&&!o.user){const c=await ru(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await Ai(this.storage,this.storageKey+"-user"),await lc(this.storage,this.storageKey,o)):o.user=Yp()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gp;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${Gp}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Qf(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ed;const{data:s,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!s.session)throw new la;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const h={data:s.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(s){if(this._debug(o,"error",s),Ot(s)){const c={data:null,error:s};return Qf(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){s.push(f)}});if(await Promise.all(c),s.length>0){for(let h=0;h<s.length;h+=1)console.error(s[h]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ai(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await lc(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const s=G2(o);await lc(this.storage,this.storageKey,s)}else{const o=G2(n);await lc(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ai(this.storage,this.storageKey),await Ai(this.storage,this.storageKey+"-code-verifier"),await Ai(this.storage,this.storageKey+"-user"),this.userStorage&&await Ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ni()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${oc}ms, refresh threshold is ${I0} ticks`),o<=I0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof d1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ni()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,c]=await ec(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(a?.queryParams){const s=new URLSearchParams(a.queryParams);o.push(s.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;return s?this._returnResult({data:null,error:s}):await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:s,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?c3(e.webauthn.credential_response):h3(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const c=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:l3(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:u3(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Vp(a.access_token);let c=null;s.aal&&(c=s.aal);let h=c;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const d=s.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Ut(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new la})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new la});const c=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Ni()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ot(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:s}=a;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new la});const c=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Ni()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(Ot(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Ut(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new la})})}catch(e){if(Ot(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await Ut(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new la})})}catch(n){if(Ot(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+x_>o)return a;const{data:s,error:c}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,a=s.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return this._returnResult({data:null,error:E});a=y.session.access_token}const{header:o,payload:s,signature:c,raw:{header:h,payload:f}}=Vp(a);n?.allowExpired||z_(s.exp);const d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:s,header:o,signature:c},error:null}}const v=H_(o.alg),_=await crypto.subtle.importKey("jwk",d,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,c,L_(`${h}.${f}`)))throw new fd("Invalid JWT signature");return{data:{claims:s,header:o,signature:c},error:null}}catch(a){if(Ot(a))return this._returnResult({data:null,error:a});throw a}}};p1.nextInstanceID={};const w3=f1,_3=p1,S3=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:w3,AuthApiError:D5,AuthClient:_3,AuthError:wc,AuthImplicitGrantRedirectError:bh,AuthInvalidCredentialsError:yh,AuthInvalidJwtError:fd,AuthInvalidTokenResponseError:au,AuthPKCEGrantCodeExchangeError:F0,AuthRetryableFetchError:hd,AuthSessionMissingError:la,AuthUnknownError:Ll,AuthWeakPasswordError:z0,CustomAuthError:$o,GoTrueAdminApi:f1,GoTrueClient:p1,NavigatorLockAcquireTimeoutError:F5,SIGN_OUT_SCOPES:ed,isAuthApiError:P5,isAuthError:Ot,isAuthImplicitGrantRedirectError:B5,isAuthRetryableFetchError:Qf,isAuthSessionMissingError:M5,isAuthWeakPasswordError:A_,lockInternals:ou,navigatorLock:z5,processLock:Q_},Symbol.toStringTag,{value:"Module"})),G5=Th(S3);var Q2;function x3(){if(Q2)return dh;Q2=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.SupabaseAuthClient=void 0;const r=G5;let e=class extends r.AuthClient{constructor(a){super(a)}};return dh.SupabaseAuthClient=e,dh}var ev;function tv(){if(ev)return Cf;ev=1,Object.defineProperty(Cf,"__esModule",{value:!0});const r=r5,e=u5(),n=y5,a=p_,o=v_(),s=m_(),c=y_(),h=x3();class f{constructor(v,_,x){var y,E,L;this.supabaseUrl=v,this.supabaseKey=_;const k=(0,c.validateSupabaseUrl)(v);if(!_)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const N=`sb-${k.hostname.split(".")[0]}-auth-token`,$={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:N}),global:o.DEFAULT_GLOBAL_OPTIONS},I=(0,c.applySettingDefaults)(x??{},$);this.storageKey=(y=I.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(E=I.global.headers)!==null&&E!==void 0?E:{},I.accessToken?(this.accessToken=I.accessToken,this.auth=new Proxy({},{get:(z,ae)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ae)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((L=I.auth)!==null&&L!==void 0?L:{},this.headers,I.global.fetch),this.fetch=(0,s.fetchWithAuth)(_,this._getAccessToken.bind(this),I.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},I.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new e.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:I.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,x?.storage),I.accessToken||this._listenForAuthEvents()}get functions(){return new r.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,_={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,_,x)}channel(v,_={config:{}}){return this.realtime.channel(v,_)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,_;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(_=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&_!==void 0?_:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:_,detectSessionInUrl:x,storage:y,userStorage:E,storageKey:L,flowType:k,lock:N,debug:$,throwOnError:I},z,ae){const Ee={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Ee),z),storageKey:L,autoRefreshToken:v,persistSession:_,detectSessionInUrl:x,storage:y,userStorage:E,flowType:k,lock:N,debug:$,throwOnError:I,fetch:ae,hasCustomAuthorizationHeader:Object.keys(this.headers).some(ye=>ye.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,x)=>{this._handleTokenChanged(_,"CLIENT",x?.access_token)})}_handleTokenChanged(v,_,x){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Cf.default=f,Cf}var nv;function A3(){return nv||(nv=1,(function(r){var e=Mo&&Mo.__createBinding||(Object.create?(function(v,_,x,y){y===void 0&&(y=x);var E=Object.getOwnPropertyDescriptor(_,x);(!E||("get"in E?!_.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(v,y,E)}):(function(v,_,x,y){y===void 0&&(y=x),v[y]=_[x]})),n=Mo&&Mo.__exportStar||function(v,_){for(var x in v)x!=="default"&&!Object.prototype.hasOwnProperty.call(_,x)&&e(_,v,x)},a=Mo&&Mo.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0}),r.createClient=r.SupabaseClient=r.FunctionRegion=r.FunctionsError=r.FunctionsRelayError=r.FunctionsFetchError=r.FunctionsHttpError=r.PostgrestError=void 0;const o=a(tv());n(G5,r);var s=u5();Object.defineProperty(r,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var c=r5;Object.defineProperty(r,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(r,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(r,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(r,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(r,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),n(y5,r);var h=tv();Object.defineProperty(r,"SupabaseClient",{enumerable:!0,get:function(){return a(h).default}});const f=(v,_,x)=>new o.default(v,_,x);r.createClient=f;function d(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const _=v.match(/^v(\d+)\./);return _?parseInt(_[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Mo)),Mo}var V5=A3();const Y5=i1(V5),E3=aw({__proto__:null,default:Y5},[V5]),{PostgrestError:oA,FunctionsHttpError:lA,FunctionsFetchError:uA,FunctionsRelayError:cA,FunctionsError:hA,FunctionRegion:fA,SupabaseClient:dA,createClient:N3,GoTrueAdminApi:pA,GoTrueClient:gA,AuthAdminApi:vA,AuthClient:mA,navigatorLock:yA,NavigatorLockAcquireTimeoutError:bA,lockInternals:wA,processLock:_A,SIGN_OUT_SCOPES:SA,AuthError:xA,AuthApiError:AA,AuthUnknownError:EA,CustomAuthError:NA,AuthSessionMissingError:TA,AuthInvalidTokenResponseError:OA,AuthInvalidCredentialsError:LA,AuthImplicitGrantRedirectError:jA,AuthPKCEGrantCodeExchangeError:kA,AuthRetryableFetchError:CA,AuthWeakPasswordError:RA,AuthInvalidJwtError:DA,isAuthError:PA,isAuthApiError:MA,isAuthSessionMissingError:BA,isAuthImplicitGrantRedirectError:UA,isAuthRetryableFetchError:IA,isAuthWeakPasswordError:qA,RealtimePresence:FA,RealtimeChannel:zA,RealtimeClient:HA,REALTIME_LISTEN_TYPES:$A,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:GA,REALTIME_PRESENCE_LISTEN_EVENTS:VA,REALTIME_SUBSCRIBE_STATES:YA,REALTIME_CHANNEL_STATES:WA}=Y5||E3,T3="https://bmfffcbsxsymbuwlnvzi.supabase.co",O3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJtZmZmY2JzeHN5bWJ1d2xudnppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MTIzNjgsImV4cCI6MjA3OTQ4ODM2OH0.kWs1rgfvKCc0NohDx0Pvk6WYxCfm4E1lJstwbLswKAY",Qr=N3(T3,O3,{db:{schema:"pos"}}),W5=Pe.createContext(null);function jh(){return Pe.useContext(W5)}const Wp="rengaa_token",Kp="rengaa_session",rv="pos_user_login",ph=r=>typeof r=="string"?r.trim():r,Xp=r=>String(r??"").trim().slice(0,2).padStart(2,"0");function L3({children:r}){const[e,n]=Pe.useState(()=>localStorage.getItem(Wp)||""),[a,o]=Pe.useState(()=>{try{return JSON.parse(localStorage.getItem(Kp)||"null")}catch{return null}});Pe.useEffect(()=>{e?localStorage.setItem(Wp,e):localStorage.removeItem(Wp)},[e]),Pe.useEffect(()=>{a?localStorage.setItem(Kp,JSON.stringify(a)):localStorage.removeItem(Kp)},[a]);function s(_){o(x=>({...x||{},..._||{}}))}async function c(_){const x=Xp(_);if(!x)return null;const{data:y,error:E}=await Qr.rpc("pos_get_company_by_id",{p_company_id:x});return E?(console.warn("[Session.fetchCompanyDetails] RPC error:",E),null):(Array.isArray(y)?y[0]:y)||null}function h(_,x){const y=x||{};return{company_id:Xp(_?.company_id??y.company_id??""),company_name:ph(_?.company_name??y.company_name??"")||"",gst_no:ph(_?.gst_no??"")||"",phone:ph(_?.phone??"")||"",pincode:ph(_?.pincode??"")||"",..._||null}}async function f({company_id:_,user_id:x,password:y}){const E=Xp(_),L=ph(x),k=y??"";if(!E)throw new Error("Company Id Missing");if(!L)throw new Error("User Id Missing");if(!k)throw new Error("Password Missing");console.debug("[Session.login] Calling Supabase RPC via supabase-js:",{rpc:rv,company_id:E,user_id:L});const{data:N,error:$}=await Qr.rpc(rv,{p_company_id:E,p_user_id:L,p_password:k});if($){console.error("[Session.login] RPC error:",$);const oe=$.message||$.details||$.hint||"Login RPC failed";throw new Error(oe)}if(!N)throw new Error("Login RPC returned no data");const I=Array.isArray(N)?N[0]:N;if(!I||I.ok===!1){const oe=I?.error||I?.reason||"LOGIN_FAILED";throw new Error(oe)}const z=I.token||"",ae=I.user||I.claims;if(!ae)throw new Error("Login RPC did not return user claims");const Ee=await c(ae.company_id),ye={user:ae,company:h(Ee,ae)};return n(z),o(ye),{token:z,user:ae,company:ye.company}}function d(){n(""),o(null)}const v=Pe.useMemo(()=>({token:e,session:a,setSession:o,patchSession:s,login:f,logout:d}),[e,a]);return O.jsx(W5.Provider,{value:v,children:r})}const j3="/assets/logo_01-s9D26I3x.png",k3=Object.freeze(Object.defineProperty({__proto__:null,default:j3},Symbol.toStringTag,{value:"Module"})),K5="/assets/logo_pos-BxgcNffS.png",C3=Object.freeze(Object.defineProperty({__proto__:null,default:K5},Symbol.toStringTag,{value:"Module"}));function iv(r){try{return new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:r||"Asia/Singapore"}).format(new Date)}catch{return new Date().toLocaleTimeString()}}const R3=Object.assign({"../assets/logo_01.png":k3,"../assets/logo_pos.png":C3});function D3(r){if(!r)return null;const e=String(r).trim().slice(0,2).toLowerCase();for(const[n,a]of Object.entries(R3))if(n.toLowerCase().includes(`logo_${e}.`))return a.default;return null}function P3(){const{session:r,logout:e}=jh(),n=r?.user||{},a=r?.branch||null,o=r?.company||null,s=n?.timezone||"Asia/Singapore",[c,h]=Pe.useState(iv(s));Pe.useEffect(()=>{const $=setInterval(()=>h(iv(s)),1e3);return()=>clearInterval($)},[s]);const f=Pe.useMemo(()=>{if(a?.branch_code6)return a.branch_code6;const $=String(a?.company_code||n.company_id||"").slice(0,2),I=String(a?.state_code||n.state_id||n.state_code||"").slice(0,2),z=String(a?.branch_id||"").padStart(2,"0").slice(-2);return`${$}${I}${z}`||"-"},[a,n]),d=Pe.useCallback(()=>e?.(),[e]);Pe.useEffect(()=>{const $=I=>{if(I.key!=="Escape"||I.ctrlKey||I.altKey||I.metaKey||I.shiftKey)return;const z=document.activeElement,ae=(z?.tagName||"").toUpperCase();ae==="INPUT"||ae==="TEXTAREA"||ae==="SELECT"||z?.isContentEditable||d()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[d]);const v=n?.company_name||o?.company_name||"Company",_=a?.branch_name||"Branch",x=n?.role_name||"role",y=n?.user_id||"user",E=(a?.company_code||n?.company_id||o?.company_id||"").toString().slice(0,2),L=D3(E),k=String(o?.gst_no||"").trim(),N=String(o?.phone||"").trim();return O.jsx("div",{className:"border-b bg-yellow-100",children:O.jsxs("header",{className:"w-full px-4 py-2 grid items-center",style:{gridTemplateColumns:"auto 1fr auto"},role:"banner",children:[O.jsx("div",{className:"flex items-center gap-3",children:O.jsx("img",{src:K5,alt:"POS",className:"w-26 h-16 object-cover",draggable:!1})}),O.jsxs("div",{className:"flex items-center justify-center gap-3 min-w-0",children:[O.jsxs("div",{className:"text-center min-w-0",children:[O.jsx("h1",{className:"uppercase text-black font-bold tracking-wide text-2xl md:text-2xl truncate",children:v}),O.jsx("h2",{className:"text-black font-semibold tracking-wide text-xl md:text-xl truncate",children:_}),k||N?O.jsxs("div",{className:"text-sm text-black font-semibold tracking-wide truncate",children:[k?O.jsxs("span",{children:["GST:"," ",O.jsx("span",{className:"fc-off text-green-600 font-mono",children:k})]}):null,k&&N?O.jsx("span",{children:"  |  "}):null,N?O.jsxs("span",{children:["Ph:"," ",O.jsx("span",{className:"fc-off text-green-600 font-mono",children:N})]}):null]}):null]}),L&&O.jsx("img",{src:L,alt:`Company ${E} Logo`,className:"w-24 h-16 object-cover",draggable:!1})]}),O.jsx("div",{className:"flex items-center justify-end gap-4 text-sm",children:O.jsxs("div",{className:"text-right",children:[O.jsxs("div",{children:["BR.Code:"," ",O.jsx("span",{className:"fc-off text-green-600 font-mono",children:f})]}),O.jsxs("div",{children:["User:"," ",O.jsx("span",{className:"fc-off text-green-600 font-mono",children:y})]}),O.jsxs("div",{children:["Role:"," ",O.jsx("span",{className:"fc-off text-green-600 font-mono",children:x})]}),O.jsxs("div",{children:["Time:"," ",O.jsx("span",{className:"fc-off text-yellow-600 font-mono",children:c})]})]})})]})})}function M3({value:r,onChange:e,disabled:n}){const[a,o]=Pe.useState([]),[s,c]=Pe.useState(!0),[h,f]=Pe.useState("");return Pe.useEffect(()=>{let d=!1;async function v(){try{f(""),c(!0);const{data:_,error:x}=await Qr.schema("pos").rpc("pos_list_of_companies");if(x){console.error("[CompanyPicker] pos_list_of_companies error:",x),d||(f(x.message||String(x)),o([]));return}const y=Array.isArray(_)?_:[];d||o(y)}catch(_){console.error("[CompanyPicker] unexpected error:",_),d||(f(_.message||String(_)),o([]))}finally{d||c(!1)}}return v(),()=>{d=!0}},[]),O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"text-sm font-medium",children:"Company"}),O.jsxs("select",{className:"w-full border rounded px-2 py-1",value:r||"",disabled:n||s,onChange:d=>{const v=(d.target.value||"").trim(),_=a.find(x=>{const y=x.company_id??x.company_code??x.code??x.id??"";return(typeof y=="string"?y.trim():String(y||"").trim())===v})||null;e?.(v,_)},children:[O.jsx("option",{value:"",children:s?"Loading companies...":"-- Select Company --"}),a.map((d,v)=>{const _=d.company_id??d.company_code??d.code??d.id??"",x=typeof _=="string"?_.trim():String(_||"").trim(),y=d.company_name??d.name??d.title??String(x||"");return O.jsxs("option",{value:x,children:[y," ",x&&`(${x})`]},`${x}-${v}`)})]}),h&&O.jsxs("div",{className:"text-xs text-amber-700",children:["Couldnt load companies: ",h]})]})}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U3=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),av=r=>{const e=U3(r);return e.charAt(0).toUpperCase()+e.slice(1)},X5=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),I3=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Pe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:s,iconNode:c,...h},f)=>Pe.createElement("svg",{ref:f,...q3,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:X5("lucide",o),...!s&&!I3(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,v])=>Pe.createElement(d,v)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=(r,e)=>{const n=Pe.forwardRef(({className:a,...o},s)=>Pe.createElement(F3,{ref:s,iconNode:e,className:X5(`lucide-${B3(av(r))}`,`lucide-${r}`,a),...o}));return n.displayName=av(r),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],H3=xc("boxes",z3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],G3=xc("building-2",$3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Y3=xc("chart-column",V3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K3=xc("chevron-down",W3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],J3=xc("receipt",X3);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Q3=xc("shopping-cart",Z3),Ff=r=>typeof r=="string"?r.trim():r,Jp=r=>String(r??"").trim().slice(0,2);function e4(){const{login:r,patchSession:e}=jh(),[n,a]=Pe.useState(""),[o,s]=Pe.useState(""),[c,h]=Pe.useState(""),[f,d]=Pe.useState(""),[v,_]=Pe.useState(""),[x,y]=Pe.useState([]),[E,L]=Pe.useState([]),[k,N]=Pe.useState(!1),[$,I]=Pe.useState(""),z="w-80";function ae(D){e({branch:D})}const Ee=Pe.useCallback((D,F)=>{e(D?{company:{...D,company_id:Jp(D.company_id??F),company_name:Ff(D.company_name??""),gst_no:Ff(D.gst_no??""),phone:Ff(D.phone??""),pincode:Ff(D.pincode??"")}}:F?{company:{company_id:Jp(F),company_name:"",gst_no:"",phone:"",pincode:""}}:{company:null})},[e]);Pe.useEffect(()=>{let D=!0;async function F(){if(y([]),s(""),L([]),h(""),!!n)try{const{data:Q,error:ee}=await Qr.rpc("pos_login_states",{p_company_id:n});if(ee)throw ee;D&&y(Array.isArray(Q)?Q:[])}catch(Q){console.warn("States load failed:",Q),D&&y([])}}return F(),()=>{D=!1}},[n]),Pe.useEffect(()=>{let D=!0;async function F(){if(L([]),h(""),!(!n||!o))try{const{data:Q,error:ee}=await Qr.rpc("pos_login_branches",{p_company_id:n,p_state_id:o});if(ee)throw ee;D&&L(Array.isArray(Q)?Q:[])}catch(Q){console.warn("Branches load failed:",Q),D&&L([])}}return F(),()=>{D=!1}},[n,o]);const ye=Pe.useMemo(()=>E.find(D=>String(D.branch_id)===String(c))||null,[E,c]);function oe(D){if(!D)return"-";if(D.branch_code6)return D.branch_code6;const F=String(n||"").slice(0,2),Q=String(o||"").slice(0,2),ee=String(D.branch_id||"").padStart(2,"0").slice(-2);return`${F}${Q}${ee}`}async function W(D){D.preventDefault(),I(""),N(!0);try{if(!n||!o||!c)throw new Error("Please pick company, state, and branch.");if(!f||!v)throw new Error("User ID and password are required.");await r({company_id:n,user_id:f,password:v});const F=ye;if(!F)throw new Error("Invalid branch selection.");const Q=oe(F);ae({branch_id:String(F.branch_id).trim(),branch_name:F.branch_name||"",branch_code6:Q,company_code:String(n).trim(),state_code:String(o).trim()})}catch(F){I(F?.message||"Sign in failed")}finally{N(!1)}}const ve=!!n&&!!o&&!!c&&!!f&&!!v&&!k;return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:O.jsxs("form",{onSubmit:W,className:"bg-white shadow rounded-2xl p-6 space-y-5",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[O.jsx(G3,{className:"fc-off w-5 h-5 text-green-600"}),O.jsx("h2",{className:"text-xl font-semibold",children:"Rengaa POS  Sign in"})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"w-40 text-sm font-medium text-gray-700",children:"Company name:"}),O.jsx("div",{className:`flex-none ${z}`,children:O.jsx(M3,{value:n,onChange:(D,F)=>{const Q=Jp(D);a(Q),s(""),h(""),y([]),L([]),Ee(F,Q)},disabled:k})})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"w-40 text-sm font-medium text-gray-700",children:"State name:"}),O.jsxs("select",{className:`border rounded px-3 py-2 flex-none ${z}`,value:o,onChange:D=>s(D.target.value),disabled:k||!n||x.length===0,children:[O.jsx("option",{value:"",children:" Select state "}),x.map(D=>O.jsx("option",{value:D.state_id,children:D.state_name},D.state_id))]})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"w-40 text-sm font-medium text-gray-700",children:"Branch name:"}),O.jsxs("select",{className:`border rounded px-3 py-2 flex-none ${z}`,value:c,onChange:D=>h(D.target.value),disabled:k||!n||!o||E.length===0,children:[O.jsx("option",{value:"",children:" Select branch "}),E.map(D=>O.jsx("option",{value:D.branch_id,children:D.branch_name},D.branch_id))]})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"w-40 text-sm font-medium text-gray-700",children:"User ID:"}),O.jsx("input",{className:`border rounded px-3 py-2 flex-none ${z}`,value:f,onChange:D=>d(D.target.value),placeholder:"xxxxxxxx",required:!0,maxLength:10,autoComplete:"off",disabled:k})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("label",{className:"w-40 text-sm font-medium text-gray-700",children:"Password:"}),O.jsx("input",{type:"password",className:`border rounded px-3 py-2 flex-none ${z}`,value:v,onChange:D=>_(D.target.value),placeholder:"",required:!0,autoComplete:"off",disabled:k})]}),$&&O.jsx("div",{className:"text-red-600 text-sm border border-red-200 bg-red-50 rounded p-2",children:$}),O.jsx("div",{className:"flex justify-start",children:O.jsx("button",{type:"submit",disabled:!ve,className:"bg-blue-600 text-white rounded px-4 py-2 hover:opacity-90 disabled:opacity-60",children:k?"Signing in":"Sign In"})})]})})}const t4="modulepreload",n4=function(r){return"/"+r},sv={},Zp=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");o=f(n.map(d=>{if(d=n4(d),d in sv)return;sv[d]=!0;const v=d.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":t4,v||(x.as="script"),x.crossOrigin="",x.href=d,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((y,E)=>{x.addEventListener("load",y),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&s(h.reason);return e().catch(s)})};function Rn(r){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(r)}var Ls=Uint8Array,ja=Uint16Array,g1=Int32Array,v1=new Ls([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m1=new Ls([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ov=new Ls([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J5=function(r,e){for(var n=new ja(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var o=new g1(n[30]),a=1;a<30;++a)for(var s=n[a];s<n[a+1];++s)o[s]=s-n[a]<<5|a;return{b:n,r:o}},Z5=J5(v1,2),r4=Z5.b,$0=Z5.r;r4[28]=258,$0[258]=28;var i4=J5(m1,0),lv=i4.r,G0=new ja(32768);for(var er=0;er<32768;++er){var Tl=(er&43690)>>1|(er&21845)<<1;Tl=(Tl&52428)>>2|(Tl&13107)<<2,Tl=(Tl&61680)>>4|(Tl&3855)<<4,G0[er]=((Tl&65280)>>8|(Tl&255)<<8)>>1}var wh=(function(r,e,n){for(var a=r.length,o=0,s=new ja(e);o<a;++o)r[o]&&++s[r[o]-1];var c=new ja(e);for(o=1;o<e;++o)c[o]=c[o-1]+s[o-1]<<1;var h;if(n){h=new ja(1<<e);var f=15-e;for(o=0;o<a;++o)if(r[o])for(var d=o<<4|r[o],v=e-r[o],_=c[r[o]-1]++<<v,x=_|(1<<v)-1;_<=x;++_)h[G0[_]>>f]=d}else for(h=new ja(a),o=0;o<a;++o)r[o]&&(h[o]=G0[c[r[o]-1]++]>>15-r[o]);return h}),pu=new Ls(288);for(var er=0;er<144;++er)pu[er]=8;for(var er=144;er<256;++er)pu[er]=9;for(var er=256;er<280;++er)pu[er]=7;for(var er=280;er<288;++er)pu[er]=8;var vd=new Ls(32);for(var er=0;er<32;++er)vd[er]=5;var a4=wh(pu,9,0),s4=wh(vd,5,0),Q5=function(r){return(r+7)/8|0},o4=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new Ls(r.subarray(e,n))},Uo=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},gh=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},Qp=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var o=n.length,s=n.slice();if(!o)return{t:ty,l:0};if(o==1){var c=new Ls(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(ae,Ee){return ae.f-Ee.f}),n.push({s:-1,f:25001});var h=n[0],f=n[1],d=0,v=1,_=2;for(n[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=o-1;)h=n[n[d].f<n[_].f?d++:_++],f=n[d!=v&&n[d].f<n[_].f?d++:_++],n[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var x=s[0].s,a=1;a<o;++a)s[a].s>x&&(x=s[a].s);var y=new ja(x+1),E=V0(n[v-1],y,0);if(E>e){var a=0,L=0,k=E-e,N=1<<k;for(s.sort(function(Ee,ye){return y[ye.s]-y[Ee.s]||Ee.f-ye.f});a<o;++a){var $=s[a].s;if(y[$]>e)L+=N-(1<<E-y[$]),y[$]=e;else break}for(L>>=k;L>0;){var I=s[a].s;y[I]<e?L-=1<<e-y[I]++-1:++a}for(;a>=0&&L;--a){var z=s[a].s;y[z]==e&&(--y[z],++L)}E=e}return{t:new Ls(y),l:E}},V0=function(r,e,n){return r.s==-1?Math.max(V0(r.l,e,n+1),V0(r.r,e,n+1)):e[r.s]=n},uv=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new ja(++e),a=0,o=r[0],s=1,c=function(f){n[a++]=f},h=1;h<=e;++h)if(r[h]==o&&h!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(o),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(o);s=1,o=r[h]}return{c:n.subarray(0,a),n:e}},vh=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},ey=function(r,e,n){var a=n.length,o=Q5(e+2);r[o]=a&255,r[o+1]=a>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var s=0;s<a;++s)r[o+s+4]=n[s];return(o+4+a)*8},cv=function(r,e,n,a,o,s,c,h,f,d,v){Uo(e,v++,n),++o[256];for(var _=Qp(o,15),x=_.t,y=_.l,E=Qp(s,15),L=E.t,k=E.l,N=uv(x),$=N.c,I=N.n,z=uv(L),ae=z.c,Ee=z.n,ye=new ja(19),oe=0;oe<$.length;++oe)++ye[$[oe]&31];for(var oe=0;oe<ae.length;++oe)++ye[ae[oe]&31];for(var W=Qp(ye,7),ve=W.t,D=W.l,F=19;F>4&&!ve[ov[F-1]];--F);var Q=d+5<<3,ee=vh(o,pu)+vh(s,vd)+c,be=vh(o,x)+vh(s,L)+c+14+3*F+vh(ye,ve)+2*ye[16]+3*ye[17]+7*ye[18];if(f>=0&&Q<=ee&&Q<=be)return ey(e,v,r.subarray(f,f+d));var Z,ue,ce,Ne;if(Uo(e,v,1+(be<ee)),v+=2,be<ee){Z=wh(x,y,0),ue=x,ce=wh(L,k,0),Ne=L;var G=wh(ve,D,0);Uo(e,v,I-257),Uo(e,v+5,Ee-1),Uo(e,v+10,F-4),v+=14;for(var oe=0;oe<F;++oe)Uo(e,v+3*oe,ve[ov[oe]]);v+=3*F;for(var se=[$,ae],j=0;j<2;++j)for(var U=se[j],oe=0;oe<U.length;++oe){var V=U[oe]&31;Uo(e,v,G[V]),v+=ve[V],V>15&&(Uo(e,v,U[oe]>>5&127),v+=U[oe]>>12)}}else Z=a4,ue=pu,ce=s4,Ne=vd;for(var oe=0;oe<h;++oe){var te=a[oe];if(te>255){var V=te>>18&31;gh(e,v,Z[V+257]),v+=ue[V+257],V>7&&(Uo(e,v,te>>23&31),v+=v1[V]);var ne=te&31;gh(e,v,ce[ne]),v+=Ne[ne],ne>3&&(gh(e,v,te>>5&8191),v+=m1[ne])}else gh(e,v,Z[te]),v+=ue[te]}return gh(e,v,Z[256]),v+ue[256]},l4=new g1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ty=new Ls(0),u4=function(r,e,n,a,o,s){var c=s.z||r.length,h=new Ls(a+c+5*(1+Math.ceil(c/7e3))+o),f=h.subarray(a,h.length-o),d=s.l,v=(s.r||0)&7;if(e){v&&(f[0]=s.r>>3);for(var _=l4[e-1],x=_>>13,y=_&8191,E=(1<<n)-1,L=s.p||new ja(32768),k=s.h||new ja(E+1),N=Math.ceil(n/3),$=2*N,I=function(ut){return(r[ut]^r[ut+1]<<N^r[ut+2]<<$)&E},z=new g1(25e3),ae=new ja(288),Ee=new ja(32),ye=0,oe=0,W=s.i||0,ve=0,D=s.w||0,F=0;W+2<c;++W){var Q=I(W),ee=W&32767,be=k[Q];if(L[ee]=be,k[Q]=ee,D<=W){var Z=c-W;if((ye>7e3||ve>24576)&&(Z>423||!d)){v=cv(r,f,0,z,ae,Ee,oe,ve,F,W-F,v),ve=ye=oe=0,F=W;for(var ue=0;ue<286;++ue)ae[ue]=0;for(var ue=0;ue<30;++ue)Ee[ue]=0}var ce=2,Ne=0,G=y,se=ee-be&32767;if(Z>2&&Q==I(W-se))for(var j=Math.min(x,Z)-1,U=Math.min(32767,W),V=Math.min(258,Z);se<=U&&--G&&ee!=be;){if(r[W+ce]==r[W+ce-se]){for(var te=0;te<V&&r[W+te]==r[W+te-se];++te);if(te>ce){if(ce=te,Ne=se,te>j)break;for(var ne=Math.min(se,te-2),pe=0,ue=0;ue<ne;++ue){var _e=W-se+ue&32767,ke=L[_e],Me=_e-ke&32767;Me>pe&&(pe=Me,be=_e)}}}ee=be,be=L[ee],se+=ee-be&32767}if(Ne){z[ve++]=268435456|$0[ce]<<18|lv[Ne];var Ye=$0[ce]&31,Qe=lv[Ne]&31;oe+=v1[Ye]+m1[Qe],++ae[257+Ye],++Ee[Qe],D=W+ce,++ye}else z[ve++]=r[W],++ae[r[W]]}}for(W=Math.max(W,D);W<c;++W)z[ve++]=r[W],++ae[r[W]];v=cv(r,f,d,z,ae,Ee,oe,ve,F,W-F,v),d||(s.r=v&7|f[v/8|0]<<3,v-=7,s.h=k,s.p=L,s.i=W,s.w=D)}else{for(var W=s.w||0;W<c+d;W+=65535){var Je=W+65535;Je>=c&&(f[v/8|0]=d,Je=c),v=ey(f,v+1,r.subarray(W,Je))}s.i=c}return o4(h,0,a+Q5(v)+o)},ny=function(){var r=1,e=0;return{p:function(n){for(var a=r,o=e,s=n.length|0,c=0;c!=s;){for(var h=Math.min(c+2655,s);c<h;++c)o+=a+=n[c];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}r=a,e=o},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},c4=function(r,e,n,a,o){if(!o&&(o={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),c=new Ls(s.length+r.length);c.set(s),c.set(r,s.length),r=c,o.w=s.length}return u4(r,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,o)},ry=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},h4=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var o=ny();o.p(e.dictionary),ry(r,2,o.d())}};function Y0(r,e){e||(e={});var n=ny();n.p(r);var a=c4(r,e,e.dictionary?6:2,4);return h4(a,e),ry(a,a.length-4,n.d()),a}var f4=typeof TextDecoder<"u"&&new TextDecoder,d4=0;try{f4.decode(ty,{stream:!0}),d4=1}catch{}function p4(r){if(Array.isArray(r))return r}function g4(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,o,s,c,h=[],f=!0,d=!1;try{if(s=(n=n.call(r)).next,e!==0)for(;!(f=(a=s.call(n)).done)&&(h.push(a.value),h.length!==e);f=!0);}catch(v){d=!0,o=v}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw o}}return h}}function hv(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=Array(e);n<e;n++)a[n]=r[n];return a}function v4(r,e){if(r){if(typeof r=="string")return hv(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hv(r,e):void 0}}function m4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fv(r,e){return p4(r)||g4(r,e)||v4(r,e)||m4()}function dv(r,e="utf8"){return new TextDecoder(e).decode(r)}const y4=new TextEncoder;function b4(r){return y4.encode(r)}const w4=1024*8,_4=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class y1{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=w4,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const o=n.offset?n.offset>>>0:0,s=e.byteLength-o;let c=o;(ArrayBuffer.isView(e)||e instanceof y1)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+o),e=e.buffer),a?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,o=new Uint8Array(a);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=e0[n].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,s=this.buffer.slice(o,o+a);if(this.littleEndian===_4&&n!=="uint8"&&n!=="int8"){const h=new Uint8Array(this.buffer.slice(o,o+a));h.reverse();const f=new e0[n](h.buffer);return this.offset+=a,f.reverse(),f}const c=new e0[n](s);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return dv(this.readBytes(e))}decodeText(e=1,n="utf8"){return dv(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(b4(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ac(r){let e=r.length;for(;--e>=0;)r[e]=0}const S4=3,x4=258,iy=29,A4=256,E4=A4+1+iy,ay=30,N4=512,T4=new Array((E4+2)*2);Ac(T4);const O4=new Array(ay*2);Ac(O4);const L4=new Array(N4);Ac(L4);const j4=new Array(x4-S4+1);Ac(j4);const k4=new Array(iy);Ac(k4);const C4=new Array(ay);Ac(C4);const R4=(r,e,n,a)=>{let o=r&65535|0,s=r>>>16&65535|0,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do o=o+e[a++]|0,s=s+o|0;while(--c);o%=65521,s%=65521}return o|s<<16|0};var W0=R4;const D4=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},P4=new Uint32Array(D4()),M4=(r,e,n,a)=>{const o=P4,s=a+n;r^=-1;for(let c=a;c<s;c++)r=r>>>8^o[(r^e[c])&255];return r^-1};var ro=M4,K0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const B4=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var U4=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)B4(n,a)&&(r[a]=n[a])}}return r},I4=r=>{let e=0;for(let a=0,o=r.length;a<o;a++)e+=r[a].length;const n=new Uint8Array(e);for(let a=0,o=0,s=r.length;a<s;a++){let c=r[a];n.set(c,o),o+=c.length}return n},oy={assign:U4,flattenChunks:I4};let ly=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ly=!1}const Eh=new Uint8Array(256);for(let r=0;r<256;r++)Eh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Eh[254]=Eh[254]=1;var q4=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,a,o,s,c=r.length,h=0;for(o=0;o<c;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<c&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(h),s=0,o=0;s<h;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<c&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const F4=(r,e)=>{if(e<65534&&r.subarray&&ly)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(r[a]);return n};var z4=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let a,o;const s=new Array(n*2);for(o=0,a=0;a<n;){let c=r[a++];if(c<128){s[o++]=c;continue}let h=Eh[c];if(h>4){s[o++]=65533,a+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&a<n;)c=c<<6|r[a++]&63,h--;if(h>1){s[o++]=65533;continue}c<65536?s[o++]=c:(c-=65536,s[o++]=55296|c>>10&1023,s[o++]=56320|c&1023)}return F4(s,o)},H4=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Eh[r[n]]>e?n:e},X0={string2buf:q4,buf2string:z4,utf8border:H4};function $4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var G4=$4;const zf=16209,V4=16191;var Y4=function(e,n){let a,o,s,c,h,f,d,v,_,x,y,E,L,k,N,$,I,z,ae,Ee,ye,oe,W,ve;const D=e.state;a=e.next_in,W=e.input,o=a+(e.avail_in-5),s=e.next_out,ve=e.output,c=s-(n-e.avail_out),h=s+(e.avail_out-257),f=D.dmax,d=D.wsize,v=D.whave,_=D.wnext,x=D.window,y=D.hold,E=D.bits,L=D.lencode,k=D.distcode,N=(1<<D.lenbits)-1,$=(1<<D.distbits)-1;e:do{E<15&&(y+=W[a++]<<E,E+=8,y+=W[a++]<<E,E+=8),I=L[y&N];t:for(;;){if(z=I>>>24,y>>>=z,E-=z,z=I>>>16&255,z===0)ve[s++]=I&65535;else if(z&16){ae=I&65535,z&=15,z&&(E<z&&(y+=W[a++]<<E,E+=8),ae+=y&(1<<z)-1,y>>>=z,E-=z),E<15&&(y+=W[a++]<<E,E+=8,y+=W[a++]<<E,E+=8),I=k[y&$];n:for(;;){if(z=I>>>24,y>>>=z,E-=z,z=I>>>16&255,z&16){if(Ee=I&65535,z&=15,E<z&&(y+=W[a++]<<E,E+=8,E<z&&(y+=W[a++]<<E,E+=8)),Ee+=y&(1<<z)-1,Ee>f){e.msg="invalid distance too far back",D.mode=zf;break e}if(y>>>=z,E-=z,z=s-c,Ee>z){if(z=Ee-z,z>v&&D.sane){e.msg="invalid distance too far back",D.mode=zf;break e}if(ye=0,oe=x,_===0){if(ye+=d-z,z<ae){ae-=z;do ve[s++]=x[ye++];while(--z);ye=s-Ee,oe=ve}}else if(_<z){if(ye+=d+_-z,z-=_,z<ae){ae-=z;do ve[s++]=x[ye++];while(--z);if(ye=0,_<ae){z=_,ae-=z;do ve[s++]=x[ye++];while(--z);ye=s-Ee,oe=ve}}}else if(ye+=_-z,z<ae){ae-=z;do ve[s++]=x[ye++];while(--z);ye=s-Ee,oe=ve}for(;ae>2;)ve[s++]=oe[ye++],ve[s++]=oe[ye++],ve[s++]=oe[ye++],ae-=3;ae&&(ve[s++]=oe[ye++],ae>1&&(ve[s++]=oe[ye++]))}else{ye=s-Ee;do ve[s++]=ve[ye++],ve[s++]=ve[ye++],ve[s++]=ve[ye++],ae-=3;while(ae>2);ae&&(ve[s++]=ve[ye++],ae>1&&(ve[s++]=ve[ye++]))}}else if((z&64)===0){I=k[(I&65535)+(y&(1<<z)-1)];continue n}else{e.msg="invalid distance code",D.mode=zf;break e}break}}else if((z&64)===0){I=L[(I&65535)+(y&(1<<z)-1)];continue t}else if(z&32){D.mode=V4;break e}else{e.msg="invalid literal/length code",D.mode=zf;break e}break}}while(a<o&&s<h);ae=E>>3,a-=ae,E-=ae<<3,y&=(1<<E)-1,e.next_in=a,e.next_out=s,e.avail_in=a<o?5+(o-a):5-(a-o),e.avail_out=s<h?257+(h-s):257-(s-h),D.hold=y,D.bits=E};const rc=15,pv=852,gv=592,vv=0,t0=1,mv=2,W4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),K4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),X4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),J4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Z4=(r,e,n,a,o,s,c,h)=>{const f=h.bits;let d=0,v=0,_=0,x=0,y=0,E=0,L=0,k=0,N=0,$=0,I,z,ae,Ee,ye,oe=null,W;const ve=new Uint16Array(rc+1),D=new Uint16Array(rc+1);let F=null,Q,ee,be;for(d=0;d<=rc;d++)ve[d]=0;for(v=0;v<a;v++)ve[e[n+v]]++;for(y=f,x=rc;x>=1&&ve[x]===0;x--);if(y>x&&(y=x),x===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,h.bits=1,0;for(_=1;_<x&&ve[_]===0;_++);for(y<_&&(y=_),k=1,d=1;d<=rc;d++)if(k<<=1,k-=ve[d],k<0)return-1;if(k>0&&(r===vv||x!==1))return-1;for(D[1]=0,d=1;d<rc;d++)D[d+1]=D[d]+ve[d];for(v=0;v<a;v++)e[n+v]!==0&&(c[D[e[n+v]]++]=v);if(r===vv?(oe=F=c,W=20):r===t0?(oe=W4,F=K4,W=257):(oe=X4,F=J4,W=0),$=0,v=0,d=_,ye=s,E=y,L=0,ae=-1,N=1<<y,Ee=N-1,r===t0&&N>pv||r===mv&&N>gv)return 1;for(;;){Q=d-L,c[v]+1<W?(ee=0,be=c[v]):c[v]>=W?(ee=F[c[v]-W],be=oe[c[v]-W]):(ee=96,be=0),I=1<<d-L,z=1<<E,_=z;do z-=I,o[ye+($>>L)+z]=Q<<24|ee<<16|be|0;while(z!==0);for(I=1<<d-1;$&I;)I>>=1;if(I!==0?($&=I-1,$+=I):$=0,v++,--ve[d]===0){if(d===x)break;d=e[n+c[v]]}if(d>y&&($&Ee)!==ae){for(L===0&&(L=y),ye+=_,E=d-L,k=1<<E;E+L<x&&(k-=ve[E+L],!(k<=0));)E++,k<<=1;if(N+=1<<E,r===t0&&N>pv||r===mv&&N>gv)return 1;ae=$&Ee,o[ae]=y<<24|E<<16|ye-s|0}}return $!==0&&(o[ye+$]=d-L<<24|64<<16|0),h.bits=y,0};var _h=Z4;const Q4=0,uy=1,cy=2,{Z_FINISH:yv,Z_BLOCK:eS,Z_TREES:Hf,Z_OK:gu,Z_STREAM_END:tS,Z_NEED_DICT:nS,Z_STREAM_ERROR:Xa,Z_DATA_ERROR:hy,Z_MEM_ERROR:fy,Z_BUF_ERROR:rS,Z_DEFLATED:bv}=sy,Nd=16180,wv=16181,_v=16182,Sv=16183,xv=16184,Av=16185,Ev=16186,Nv=16187,Tv=16188,Ov=16189,md=16190,Io=16191,n0=16192,Lv=16193,r0=16194,jv=16195,kv=16196,Cv=16197,Rv=16198,$f=16199,Gf=16200,Dv=16201,Pv=16202,Mv=16203,Bv=16204,Uv=16205,i0=16206,Iv=16207,qv=16208,lr=16209,dy=16210,py=16211,iS=852,aS=592,sS=15,oS=sS,Fv=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function lS(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Nd||e.mode>py?1:0},gy=r=>{if(vu(r))return Xa;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Nd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(iS),e.distcode=e.distdyn=new Int32Array(aS),e.sane=1,e.back=-1,gu},vy=r=>{if(vu(r))return Xa;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,gy(r)},my=(r,e)=>{let n;if(vu(r))return Xa;const a=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Xa:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,vy(r))},yy=(r,e)=>{if(!r)return Xa;const n=new lS;r.state=n,n.strm=r,n.window=null,n.mode=Nd;const a=my(r,e);return a!==gu&&(r.state=null),a},uS=r=>yy(r,oS);let zv=!0,a0,s0;const cS=r=>{if(zv){a0=new Int32Array(512),s0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(_h(uy,r.lens,0,288,a0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;_h(cy,r.lens,0,32,s0,0,r.work,{bits:5}),zv=!1}r.lencode=a0,r.lenbits=9,r.distcode=s0,r.distbits=5},by=(r,e,n,a)=>{let o;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),a>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>a&&(o=a),s.window.set(e.subarray(n-a,n-a+o),s.wnext),a-=o,a?(s.window.set(e.subarray(n-a,n),0),s.wnext=a,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},hS=(r,e)=>{let n,a,o,s,c,h,f,d,v,_,x,y,E,L,k=0,N,$,I,z,ae,Ee,ye,oe;const W=new Uint8Array(4);let ve,D;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vu(r)||!r.output||!r.input&&r.avail_in!==0)return Xa;n=r.state,n.mode===Io&&(n.mode=n0),c=r.next_out,o=r.output,f=r.avail_out,s=r.next_in,a=r.input,h=r.avail_in,d=n.hold,v=n.bits,_=h,x=f,oe=gu;e:for(;;)switch(n.mode){case Nd:if(n.wrap===0){n.mode=n0;break}for(;v<16;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,W[0]=d&255,W[1]=d>>>8&255,n.check=ro(n.check,W,2,0),d=0,v=0,n.mode=wv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",n.mode=lr;break}if((d&15)!==bv){r.msg="unknown compression method",n.mode=lr;break}if(d>>>=4,v-=4,ye=(d&15)+8,n.wbits===0&&(n.wbits=ye),ye>15||ye>n.wbits){r.msg="invalid window size",n.mode=lr;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=d&512?Ov:Io,d=0,v=0;break;case wv:for(;v<16;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(n.flags=d,(n.flags&255)!==bv){r.msg="unknown compression method",n.mode=lr;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=lr;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(W[0]=d&255,W[1]=d>>>8&255,n.check=ro(n.check,W,2,0)),d=0,v=0,n.mode=_v;case _v:for(;v<32;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(W[0]=d&255,W[1]=d>>>8&255,W[2]=d>>>16&255,W[3]=d>>>24&255,n.check=ro(n.check,W,4,0)),d=0,v=0,n.mode=Sv;case Sv:for(;v<16;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(W[0]=d&255,W[1]=d>>>8&255,n.check=ro(n.check,W,2,0)),d=0,v=0,n.mode=xv;case xv:if(n.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(W[0]=d&255,W[1]=d>>>8&255,n.check=ro(n.check,W,2,0)),d=0,v=0}else n.head&&(n.head.extra=null);n.mode=Av;case Av:if(n.flags&1024&&(y=n.length,y>h&&(y=h),y&&(n.head&&(ye=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(s,s+y),ye)),n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,s)),h-=y,s+=y,n.length-=y),n.length))break e;n.length=0,n.mode=Ev;case Ev:if(n.flags&2048){if(h===0)break e;y=0;do ye=a[s+y++],n.head&&ye&&n.length<65536&&(n.head.name+=String.fromCharCode(ye));while(ye&&y<h);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,s)),h-=y,s+=y,ye)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Nv;case Nv:if(n.flags&4096){if(h===0)break e;y=0;do ye=a[s+y++],n.head&&ye&&n.length<65536&&(n.head.comment+=String.fromCharCode(ye));while(ye&&y<h);if(n.flags&512&&n.wrap&4&&(n.check=ro(n.check,a,y,s)),h-=y,s+=y,ye)break e}else n.head&&(n.head.comment=null);n.mode=Tv;case Tv:if(n.flags&512){for(;v<16;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(n.wrap&4&&d!==(n.check&65535)){r.msg="header crc mismatch",n.mode=lr;break}d=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=Io;break;case Ov:for(;v<32;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}r.adler=n.check=Fv(d),d=0,v=0,n.mode=md;case md:if(n.havedict===0)return r.next_out=c,r.avail_out=f,r.next_in=s,r.avail_in=h,n.hold=d,n.bits=v,nS;r.adler=n.check=1,n.mode=Io;case Io:if(e===eS||e===Hf)break e;case n0:if(n.last){d>>>=v&7,v-=v&7,n.mode=i0;break}for(;v<3;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}switch(n.last=d&1,d>>>=1,v-=1,d&3){case 0:n.mode=Lv;break;case 1:if(cS(n),n.mode=$f,e===Hf){d>>>=2,v-=2;break e}break;case 2:n.mode=kv;break;case 3:r.msg="invalid block type",n.mode=lr}d>>>=2,v-=2;break;case Lv:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",n.mode=lr;break}if(n.length=d&65535,d=0,v=0,n.mode=r0,e===Hf)break e;case r0:n.mode=jv;case jv:if(y=n.length,y){if(y>h&&(y=h),y>f&&(y=f),y===0)break e;o.set(a.subarray(s,s+y),c),h-=y,s+=y,f-=y,c+=y,n.length-=y;break}n.mode=Io;break;case kv:for(;v<14;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(n.nlen=(d&31)+257,d>>>=5,v-=5,n.ndist=(d&31)+1,d>>>=5,v-=5,n.ncode=(d&15)+4,d>>>=4,v-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=lr;break}n.have=0,n.mode=Cv;case Cv:for(;n.have<n.ncode;){for(;v<3;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.lens[F[n.have++]]=d&7,d>>>=3,v-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ve={bits:n.lenbits},oe=_h(Q4,n.lens,0,19,n.lencode,0,n.work,ve),n.lenbits=ve.bits,oe){r.msg="invalid code lengths set",n.mode=lr;break}n.have=0,n.mode=Rv;case Rv:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[d&(1<<n.lenbits)-1],N=k>>>24,$=k>>>16&255,I=k&65535,!(N<=v);){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(I<16)d>>>=N,v-=N,n.lens[n.have++]=I;else{if(I===16){for(D=N+2;v<D;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(d>>>=N,v-=N,n.have===0){r.msg="invalid bit length repeat",n.mode=lr;break}ye=n.lens[n.have-1],y=3+(d&3),d>>>=2,v-=2}else if(I===17){for(D=N+3;v<D;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}d>>>=N,v-=N,ye=0,y=3+(d&7),d>>>=3,v-=3}else{for(D=N+7;v<D;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}d>>>=N,v-=N,ye=0,y=11+(d&127),d>>>=7,v-=7}if(n.have+y>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=lr;break}for(;y--;)n.lens[n.have++]=ye}}if(n.mode===lr)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=lr;break}if(n.lenbits=9,ve={bits:n.lenbits},oe=_h(uy,n.lens,0,n.nlen,n.lencode,0,n.work,ve),n.lenbits=ve.bits,oe){r.msg="invalid literal/lengths set",n.mode=lr;break}if(n.distbits=6,n.distcode=n.distdyn,ve={bits:n.distbits},oe=_h(cy,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ve),n.distbits=ve.bits,oe){r.msg="invalid distances set",n.mode=lr;break}if(n.mode=$f,e===Hf)break e;case $f:n.mode=Gf;case Gf:if(h>=6&&f>=258){r.next_out=c,r.avail_out=f,r.next_in=s,r.avail_in=h,n.hold=d,n.bits=v,Y4(r,x),c=r.next_out,o=r.output,f=r.avail_out,s=r.next_in,a=r.input,h=r.avail_in,d=n.hold,v=n.bits,n.mode===Io&&(n.back=-1);break}for(n.back=0;k=n.lencode[d&(1<<n.lenbits)-1],N=k>>>24,$=k>>>16&255,I=k&65535,!(N<=v);){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if($&&($&240)===0){for(z=N,ae=$,Ee=I;k=n.lencode[Ee+((d&(1<<z+ae)-1)>>z)],N=k>>>24,$=k>>>16&255,I=k&65535,!(z+N<=v);){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}d>>>=z,v-=z,n.back+=z}if(d>>>=N,v-=N,n.back+=N,n.length=I,$===0){n.mode=Uv;break}if($&32){n.back=-1,n.mode=Io;break}if($&64){r.msg="invalid literal/length code",n.mode=lr;break}n.extra=$&15,n.mode=Dv;case Dv:if(n.extra){for(D=n.extra;v<D;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Pv;case Pv:for(;k=n.distcode[d&(1<<n.distbits)-1],N=k>>>24,$=k>>>16&255,I=k&65535,!(N<=v);){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(($&240)===0){for(z=N,ae=$,Ee=I;k=n.distcode[Ee+((d&(1<<z+ae)-1)>>z)],N=k>>>24,$=k>>>16&255,I=k&65535,!(z+N<=v);){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}d>>>=z,v-=z,n.back+=z}if(d>>>=N,v-=N,n.back+=N,$&64){r.msg="invalid distance code",n.mode=lr;break}n.offset=I,n.extra=$&15,n.mode=Mv;case Mv:if(n.extra){for(D=n.extra;v<D;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=lr;break}n.mode=Bv;case Bv:if(f===0)break e;if(y=x-f,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=lr;break}y>n.wnext?(y-=n.wnext,E=n.wsize-y):E=n.wnext-y,y>n.length&&(y=n.length),L=n.window}else L=o,E=c-n.offset,y=n.length;y>f&&(y=f),f-=y,n.length-=y;do o[c++]=L[E++];while(--y);n.length===0&&(n.mode=Gf);break;case Uv:if(f===0)break e;o[c++]=n.length,f--,n.mode=Gf;break;case i0:if(n.wrap){for(;v<32;){if(h===0)break e;h--,d|=a[s++]<<v,v+=8}if(x-=f,r.total_out+=x,n.total+=x,n.wrap&4&&x&&(r.adler=n.check=n.flags?ro(n.check,o,x,c-x):W0(n.check,o,x,c-x)),x=f,n.wrap&4&&(n.flags?d:Fv(d))!==n.check){r.msg="incorrect data check",n.mode=lr;break}d=0,v=0}n.mode=Iv;case Iv:if(n.wrap&&n.flags){for(;v<32;){if(h===0)break e;h--,d+=a[s++]<<v,v+=8}if(n.wrap&4&&d!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=lr;break}d=0,v=0}n.mode=qv;case qv:oe=tS;break e;case lr:oe=hy;break e;case dy:return fy;case py:default:return Xa}return r.next_out=c,r.avail_out=f,r.next_in=s,r.avail_in=h,n.hold=d,n.bits=v,(n.wsize||x!==r.avail_out&&n.mode<lr&&(n.mode<i0||e!==yv))&&by(r,r.output,r.next_out,x-r.avail_out),_-=r.avail_in,x-=r.avail_out,r.total_in+=_,r.total_out+=x,n.total+=x,n.wrap&4&&x&&(r.adler=n.check=n.flags?ro(n.check,o,x,r.next_out-x):W0(n.check,o,x,r.next_out-x)),r.data_type=n.bits+(n.last?64:0)+(n.mode===Io?128:0)+(n.mode===$f||n.mode===r0?256:0),(_===0&&x===0||e===yv)&&oe===gu&&(oe=rS),oe},fS=r=>{if(vu(r))return Xa;let e=r.state;return e.window&&(e.window=null),r.state=null,gu},dS=(r,e)=>{if(vu(r))return Xa;const n=r.state;return(n.wrap&2)===0?Xa:(n.head=e,e.done=!1,gu)},pS=(r,e)=>{const n=e.length;let a,o,s;return vu(r)||(a=r.state,a.wrap!==0&&a.mode!==md)?Xa:a.mode===md&&(o=1,o=W0(o,e,n,0),o!==a.check)?hy:(s=by(r,e,n,n),s?(a.mode=dy,fy):(a.havedict=1,gu))};var gS=vy,vS=my,mS=gy,yS=uS,bS=yy,wS=hS,_S=fS,SS=dS,xS=pS,AS="pako inflate (from Nodeca project)",Fo={inflateReset:gS,inflateReset2:vS,inflateResetKeep:mS,inflateInit:yS,inflateInit2:bS,inflate:wS,inflateEnd:_S,inflateGetHeader:SS,inflateSetDictionary:xS,inflateInfo:AS};function ES(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NS=ES;const wy=Object.prototype.toString,{Z_NO_FLUSH:TS,Z_FINISH:OS,Z_OK:Nh,Z_STREAM_END:o0,Z_NEED_DICT:l0,Z_STREAM_ERROR:LS,Z_DATA_ERROR:Hv,Z_MEM_ERROR:jS}=sy;function kh(r){this.options=oy.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new G4,this.strm.avail_out=0;let n=Fo.inflateInit2(this.strm,e.windowBits);if(n!==Nh)throw new Error(K0[n]);if(this.header=new NS,Fo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=X0.string2buf(e.dictionary):wy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Fo.inflateSetDictionary(this.strm,e.dictionary),n!==Nh)))throw new Error(K0[n])}kh.prototype.push=function(r,e){const n=this.strm,a=this.options.chunkSize,o=this.options.dictionary;let s,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?OS:TS,wy.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),s=Fo.inflate(n,c),s===l0&&o&&(s=Fo.inflateSetDictionary(n,o),s===Nh?s=Fo.inflate(n,c):s===Hv&&(s=l0));n.avail_in>0&&s===o0&&n.state.wrap>0&&r[n.next_in]!==0;)Fo.inflateReset(n),s=Fo.inflate(n,c);switch(s){case LS:case Hv:case l0:case jS:return this.onEnd(s),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||s===o0))if(this.options.to==="string"){let f=X0.utf8border(n.output,n.next_out),d=n.next_out-f,v=X0.buf2string(n.output,f);n.next_out=d,n.avail_out=a-d,d&&n.output.set(n.output.subarray(f,f+d),0),this.onData(v)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Nh&&h===0)){if(s===o0)return s=Fo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};kh.prototype.onData=function(r){this.chunks.push(r)};kh.prototype.onEnd=function(r){r===Nh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=oy.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function kS(r,e){const n=new kh(e);if(n.push(r),n.err)throw n.msg||K0[n.err];return n.result}var CS=kh,RS=kS,DS={Inflate:CS,inflate:RS};const{Inflate:PS,inflate:MS}=DS;var $v=PS,BS=MS;const _y=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;_y[r]=e}const Gv=4294967295;function US(r,e,n){let a=r;for(let o=0;o<n;o++)a=_y[(a^e[o])&255]^a>>>8;return a}function IS(r,e){return(US(Gv,r,e)^Gv)>>>0}function Vv(r,e,n){const a=r.readUint32(),o=IS(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(o!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${o}`)}function Sy(r,e,n){for(let a=0;a<n;a++)e[a]=r[a]}function xy(r,e,n,a){let o=0;for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-a]&255}function Ay(r,e,n,a){let o=0;if(n.length===0)for(;o<a;o++)e[o]=r[o];else for(;o<a;o++)e[o]=r[o]+n[o]&255}function Ey(r,e,n,a,o){let s=0;if(n.length===0){for(;s<o;s++)e[s]=r[s];for(;s<a;s++)e[s]=r[s]+(e[s-o]>>1)&255}else{for(;s<o;s++)e[s]=r[s]+(n[s]>>1)&255;for(;s<a;s++)e[s]=r[s]+(e[s-o]+n[s]>>1)&255}}function Ny(r,e,n,a,o){let s=0;if(n.length===0){for(;s<o;s++)e[s]=r[s];for(;s<a;s++)e[s]=r[s]+e[s-o]&255}else{for(;s<o;s++)e[s]=r[s]+n[s]&255;for(;s<a;s++)e[s]=r[s]+qS(e[s-o],n[s],n[s-o])&255}}function qS(r,e,n){const a=r+e-n,o=Math.abs(a-r),s=Math.abs(a-e),c=Math.abs(a-n);return o<=s&&o<=c?r:s<=c?e:n}function FS(r,e,n,a,o,s){switch(r){case 0:Sy(e,n,o);break;case 1:xy(e,n,o,s);break;case 2:Ay(e,n,a,o);break;case 3:Ey(e,n,a,o,s);break;case 4:Ny(e,n,a,o,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const zS=new Uint16Array([255]),HS=new Uint8Array(zS.buffer),$S=HS[0]===255;function GS(r){const{data:e,width:n,height:a,channels:o,depth:s}=r,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(s/8)*o,f=new Uint8Array(a*n*h);let d=0;for(let v=0;v<7;v++){const _=c[v],x=Math.ceil((n-_.x)/_.xStep),y=Math.ceil((a-_.y)/_.yStep);if(x<=0||y<=0)continue;const E=x*h,L=new Uint8Array(E);for(let k=0;k<y;k++){const N=e[d++],$=e.subarray(d,d+E);d+=E;const I=new Uint8Array(E);FS(N,$,I,L,E,h),L.set(I);for(let z=0;z<x;z++){const ae=_.x+z*_.xStep,Ee=_.y+k*_.yStep;if(!(ae>=n||Ee>=a))for(let ye=0;ye<h;ye++)f[(Ee*n+ae)*h+ye]=I[z*h+ye]}}}if(s===16){const v=new Uint16Array(f.buffer);if($S)for(let _=0;_<v.length;_++)v[_]=VS(v[_]);return v}else return f}function VS(r){return(r&255)<<8|r>>8&255}const YS=new Uint16Array([255]),WS=new Uint8Array(YS.buffer),KS=WS[0]===255,XS=new Uint8Array(0);function Yv(r){const{data:e,width:n,height:a,channels:o,depth:s}=r,c=Math.ceil(s/8)*o,h=Math.ceil(s/8*o*n),f=new Uint8Array(a*h);let d=XS,v=0,_,x;for(let y=0;y<a;y++){switch(_=e.subarray(v+1,v+1+h),x=f.subarray(y*h,(y+1)*h),e[v]){case 0:Sy(_,x,h);break;case 1:xy(_,x,h,c);break;case 2:Ay(_,x,d,h);break;case 3:Ey(_,x,d,h,c);break;case 4:Ny(_,x,d,h,c);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=x,v+=h+1}if(s===16){const y=new Uint16Array(f.buffer);if(KS)for(let E=0;E<y.length;E++)y[E]=JS(y[E]);return y}else return f}function JS(r){return(r&255)<<8|r>>8&255}const td=Uint8Array.of(137,80,78,71,13,10,26,10);function Wv(r){if(!ZS(r.readBytes(td.length)))throw new Error("wrong PNG signature")}function ZS(r){if(r.length<td.length)return!1;for(let e=0;e<td.length;e++)if(r[e]!==td[e])return!1;return!0}const QS="tEXt",ex=0,Ty=new TextDecoder("latin1");function tx(r){if(rx(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const nx=/^[\u0000-\u00FF]*$/;function rx(r){if(!nx.test(r))throw new Error("invalid latin1 text")}function ix(r,e,n){const a=Oy(e);r[a]=ax(e,n-a.length-1)}function Oy(r){for(r.mark();r.readByte()!==ex;);const e=r.offset;r.reset();const n=Ty.decode(r.readBytes(e-r.offset-1));return r.skip(1),tx(n),n}function ax(r,e){return Ty.decode(r.readBytes(e))}const Ta={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u0={UNKNOWN:-1,DEFLATE:0},Kv={UNKNOWN:-1,ADAPTIVE:0},c0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Vf={NONE:0,BACKGROUND:1,PREVIOUS:2},h0={SOURCE:0,OVER:1};class sx extends y1{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new $v,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u0.UNKNOWN,this._filterMethod=Kv.UNKNOWN,this._interlaceMethod=c0.UNKNOWN,this._colorType=Ta.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Wv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Wv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case QS:ix(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Vv(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Vv(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ox(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ta.GREYSCALE:a=1;break;case Ta.TRUECOLOUR:a=3;break;case Ta.INDEXED_COLOUR:a=1;break;case Ta.GREYSCALE_ALPHA:a=2;break;case Ta.TRUECOLOUR_ALPHA:a=4;break;case Ta.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==u0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ta.GREYSCALE:case Ta.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Ta.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ta.UNKNOWN:case Ta.GREYSCALE_ALPHA:case Ta.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=Oy(this),a=this.readUint8();if(a!==u0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:BS(o)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Yv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case Vf.NONE:break;case Vf.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const c=(o*e.width+s)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[c+h]=0}break;case Vf.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,o=(s,c)=>{const h=((s+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,f=(s*n.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(n.blendOp){case h0.SOURCE:for(let s=0;s<n.height;s++)for(let c=0;c<n.width;c++){const{index:h,frameIndex:f}=o(s,c);for(let d=0;d<this._png.channels;d++)e.data[h+d]=n.data[f+d]}break;case h0.OVER:for(let s=0;s<n.height;s++)for(let c=0;c<n.width;c++){const{index:h,frameIndex:f}=o(s,c);for(let d=0;d<this._png.channels;d++){const v=n.data[f+this._png.channels-1]/a,_=d%(this._png.channels-1)===0?1:n.data[f+d],x=Math.floor(v*_+(1-v)*e.data[h+d]);e.data[h+d]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Kv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c0.NO_INTERLACE)this._png.data=Yv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c0.ADAM7)this._png.data=GS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Vf.NONE,blendOp:h0.SOURCE,data:e}),this._inflator=new $v,this._writingDataChunks=!1}}function ox(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Xv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Xv||(Xv={}));function lx(r,e){return new sx(r,e).decode()}var Vt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f0(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var Gn={log:f0,warn:function(r){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):f0.call(null,arguments))},error:function(r){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):f0(r))}};function d0(r,e,n){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){lu(a.response,e,n)},a.onerror=function(){Gn.error("could not download file")},a.send()}function Jv(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var lu=Vt.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var a=Vt.URL||Vt.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?Jv(o.href)?d0(r,e,n):Yf(o,o.target="_blank"):Yf(o)):(o.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){Yf(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(Jv(r))d0(r,e,n);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){Yf(a)})}else navigator.msSaveOrOpenBlob((function(o,s){return s===void 0?s={autoBom:!1}:Rn(s)!=="object"&&(Gn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(r,n),e)}:function(r,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return d0(r,e,n);var o=r.type==="application/octet-stream",s=/constructor/i.test(Vt.HTMLElement)||Vt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&s)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=c?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=v:location=v,a=null},h.readAsDataURL(r)}else{var f=Vt.URL||Vt.webkitURL,d=f.createObjectURL(r);a?a.location=d:location.href=d,a=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Ly(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,s=n[a].process,c=o.exec(r);c&&(e=s(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var nd=Vt.atob.bind(Vt),Zv=Vt.btoa.bind(Vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p0(r,e){var n=r[0],a=r[1],o=r[2],s=r[3];n=Mi(n,a,o,s,e[0],7,-680876936),s=Mi(s,n,a,o,e[1],12,-389564586),o=Mi(o,s,n,a,e[2],17,606105819),a=Mi(a,o,s,n,e[3],22,-1044525330),n=Mi(n,a,o,s,e[4],7,-176418897),s=Mi(s,n,a,o,e[5],12,1200080426),o=Mi(o,s,n,a,e[6],17,-1473231341),a=Mi(a,o,s,n,e[7],22,-45705983),n=Mi(n,a,o,s,e[8],7,1770035416),s=Mi(s,n,a,o,e[9],12,-1958414417),o=Mi(o,s,n,a,e[10],17,-42063),a=Mi(a,o,s,n,e[11],22,-1990404162),n=Mi(n,a,o,s,e[12],7,1804603682),s=Mi(s,n,a,o,e[13],12,-40341101),o=Mi(o,s,n,a,e[14],17,-1502002290),n=Bi(n,a=Mi(a,o,s,n,e[15],22,1236535329),o,s,e[1],5,-165796510),s=Bi(s,n,a,o,e[6],9,-1069501632),o=Bi(o,s,n,a,e[11],14,643717713),a=Bi(a,o,s,n,e[0],20,-373897302),n=Bi(n,a,o,s,e[5],5,-701558691),s=Bi(s,n,a,o,e[10],9,38016083),o=Bi(o,s,n,a,e[15],14,-660478335),a=Bi(a,o,s,n,e[4],20,-405537848),n=Bi(n,a,o,s,e[9],5,568446438),s=Bi(s,n,a,o,e[14],9,-1019803690),o=Bi(o,s,n,a,e[3],14,-187363961),a=Bi(a,o,s,n,e[8],20,1163531501),n=Bi(n,a,o,s,e[13],5,-1444681467),s=Bi(s,n,a,o,e[2],9,-51403784),o=Bi(o,s,n,a,e[7],14,1735328473),n=Ui(n,a=Bi(a,o,s,n,e[12],20,-1926607734),o,s,e[5],4,-378558),s=Ui(s,n,a,o,e[8],11,-2022574463),o=Ui(o,s,n,a,e[11],16,1839030562),a=Ui(a,o,s,n,e[14],23,-35309556),n=Ui(n,a,o,s,e[1],4,-1530992060),s=Ui(s,n,a,o,e[4],11,1272893353),o=Ui(o,s,n,a,e[7],16,-155497632),a=Ui(a,o,s,n,e[10],23,-1094730640),n=Ui(n,a,o,s,e[13],4,681279174),s=Ui(s,n,a,o,e[0],11,-358537222),o=Ui(o,s,n,a,e[3],16,-722521979),a=Ui(a,o,s,n,e[6],23,76029189),n=Ui(n,a,o,s,e[9],4,-640364487),s=Ui(s,n,a,o,e[12],11,-421815835),o=Ui(o,s,n,a,e[15],16,530742520),n=Ii(n,a=Ui(a,o,s,n,e[2],23,-995338651),o,s,e[0],6,-198630844),s=Ii(s,n,a,o,e[7],10,1126891415),o=Ii(o,s,n,a,e[14],15,-1416354905),a=Ii(a,o,s,n,e[5],21,-57434055),n=Ii(n,a,o,s,e[12],6,1700485571),s=Ii(s,n,a,o,e[3],10,-1894986606),o=Ii(o,s,n,a,e[10],15,-1051523),a=Ii(a,o,s,n,e[1],21,-2054922799),n=Ii(n,a,o,s,e[8],6,1873313359),s=Ii(s,n,a,o,e[15],10,-30611744),o=Ii(o,s,n,a,e[6],15,-1560198380),a=Ii(a,o,s,n,e[13],21,1309151649),n=Ii(n,a,o,s,e[4],6,-145523070),s=Ii(s,n,a,o,e[11],10,-1120210379),o=Ii(o,s,n,a,e[2],15,718787259),a=Ii(a,o,s,n,e[9],21,-343485551),r[0]=kl(n,r[0]),r[1]=kl(a,r[1]),r[2]=kl(o,r[2]),r[3]=kl(s,r[3])}function Td(r,e,n,a,o,s){return e=kl(kl(e,r),kl(a,s)),kl(e<<o|e>>>32-o,n)}function Mi(r,e,n,a,o,s,c){return Td(e&n|~e&a,r,e,o,s,c)}function Bi(r,e,n,a,o,s,c){return Td(e&a|n&~a,r,e,o,s,c)}function Ui(r,e,n,a,o,s,c){return Td(e^n^a,r,e,o,s,c)}function Ii(r,e,n,a,o,s,c){return Td(n^(e|~a),r,e,o,s,c)}function jy(r){var e,n=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)p0(a,ux(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(p0(a,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,p0(a,o),a}function ux(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var Qv="0123456789abcdef".split("");function cx(r){for(var e="",n=0;n<4;n++)e+=Qv[r>>8*n+4&15]+Qv[r>>8*n&15];return e}function hx(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function J0(r){return jy(r).map(hx).join("")}var fx=(function(r){for(var e=0;e<r.length;e++)r[e]=cx(r[e]);return r.join("")})(jy("hello"))!="5d41402abc4b2a76b9719d911017c592";function kl(r,e){if(fx){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z0(r,e){var n,a,o,s;if(r!==n){for(var c=(o=r,s=1+(256/r.length|0),new Array(s+1).join(o)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+c.charCodeAt(f))%256,h[f]=h[d],h[d]=v}n=r,a=h}else h=a;var _=e.length,x=0,y=0,E="";for(f=0;f<_;f++)y=(y+(v=h[x=(x+1)%256]))%256,h[x]=h[y],h[y]=v,c=h[(h[x]+h[y])%256],E+=String.fromCharCode(e.charCodeAt(f)^c);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var em={print:4,modify:8,copy:16,"annot-forms":32};function uc(r,e,n,a){this.v=1,this.r=2;var o=192;r.forEach(function(h){if(em.perm!==void 0)throw new Error("Invalid permission: "+h);o+=em[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),c=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^o)),this.encryptionKey=J0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Z0(this.encryptionKey,this.padding)}function cc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,a=0;a<n;a++){var o=r.charCodeAt(a);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):r[a]}return e}function tm(r){if(Rn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,o){if(o=o||!1,typeof n!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[a,!!o],s},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var s in e[n]){var c=e[n][s];try{c[0].apply(r,a)}catch(h){Vt.console&&Gn.error("jsPDF PubSub Error",h.message,h)}c[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yd(r){if(!(this instanceof yd))return new yd(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function ky(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function hu(r,e,n,a,o){if(!(this instanceof hu))return new hu(r,e,n,a,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,ky.call(this,a,o)}function hc(r,e,n,a,o){if(!(this instanceof hc))return new hc(r,e,n,a,o);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ky.call(this,a,o)}function kt(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],s=arguments[3],c=[],h=1,f=16,d="S",v=null;Rn(r=r||{})==="object"&&(n=r.orientation,a=r.unit||a,o=r.format||o,s=r.compress||r.compressPdf||s,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),c=r.filters||(s===!0?["FlateEncode"]:c),a=a||"mm",n=(""+(n||"P")).toLowerCase();var _=r.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=tm;var E="1.3",L=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(w){E=w};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var N=y.__private__.getPageFormat=function(w){return k[w]};o=o||"a4";var $="compat",I="advanced",z=$;function ae(){this.saveGraphicsState(),Y(new Rt(At,0,0,-At,0,po()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",z=I}function Ee(){this.restoreGraphicsState(),d="S",z=$}var ye=y.__private__.combineFontStyleAndFontWeight=function(w,C){if(w=="bold"&&C=="normal"||w=="bold"&&C==400||w=="normal"&&C=="italic"||w=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(w=C==400||C==="normal"?w==="italic"?"italic":"normal":C!=700&&C!=="bold"||w!=="normal"?(C==700?"bold":C)+""+w:"bold"),w};y.advancedAPI=function(w){var C=z===$;return C&&ae.call(this),typeof w!="function"||(w(this),C&&Ee.call(this)),this},y.compatAPI=function(w){var C=z===I;return C&&Ee.call(this),typeof w!="function"||(w(this),C&&ae.call(this)),this},y.isAdvancedAPI=function(){return z===I};var oe,W=function(w){if(z!==I)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ve=y.roundToPrecision=y.__private__.roundToPrecision=function(w,C){var J=e||C;if(isNaN(w)||isNaN(J))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(J).replace(/0+$/,"")};oe=y.hpf=y.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ve(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ve(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return ve(w,16)};var D=y.f2=y.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return ve(w,2)},F=y.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return ve(w,3)},Q=y.scale=y.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return z===$?w*At:z===I?w:void 0},ee=function(w){return Q((function(C){return z===$?po()-C:z===I?C:void 0})(w))};y.__private__.setPrecision=y.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var be,Z="00000000000000000000000000000000",ue=y.__private__.getFileId=function(){return Z},ce=y.__private__.setFileId=function(w){return Z=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(vn=new uc(v.userPermissions,v.userPassword,v.ownerPassword,Z)),Z};y.setFileId=function(w){return ce(w),this},y.getFileId=function(){return ue()};var Ne=y.__private__.convertDateToPDFDate=function(w){var C=w.getTimezoneOffset(),J=C<0?"+":"-",le=Math.floor(Math.abs(C/60)),me=Math.abs(C%60),qe=[J,V(le),"'",V(me),"'"].join("");return["D:",w.getFullYear(),V(w.getMonth()+1),V(w.getDate()),V(w.getHours()),V(w.getMinutes()),V(w.getSeconds()),qe].join("")},G=y.__private__.convertPDFDateToDate=function(w){var C=parseInt(w.substr(2,4),10),J=parseInt(w.substr(6,2),10)-1,le=parseInt(w.substr(8,2),10),me=parseInt(w.substr(10,2),10),qe=parseInt(w.substr(12,2),10),We=parseInt(w.substr(14,2),10);return new Date(C,J,le,me,qe,We,0)},se=y.__private__.setCreationDate=function(w){var C;if(w===void 0&&(w=new Date),w instanceof Date)C=Ne(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=w}return be=C},j=y.__private__.getCreationDate=function(w){var C=be;return w==="jsDate"&&(C=G(be)),C};y.setCreationDate=function(w){return se(w),this},y.getCreationDate=function(w){return j(w)};var U,V=y.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},te=y.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ne=0,pe=[],_e=[],ke=0,Me=[],Ye=[],Qe=!1,Je=_e;y.__private__.setCustomOutputDestination=function(w){Qe=!0,Je=w};var ut=function(w){Qe||(Je=w)};y.__private__.resetCustomOutputDestination=function(){Qe=!1,Je=_e};var Y=y.__private__.out=function(w){return w=w.toString(),ke+=w.length+1,Je.push(w),Je},Ze=y.__private__.write=function(w){return Y(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},it=y.__private__.getArrayBuffer=function(w){for(var C=w.length,J=new ArrayBuffer(C),le=new Uint8Array(J);C--;)le[C]=w.charCodeAt(C);return J},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ft};var Ie=r.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(w){return Ie=z===I?w/At:w,this};var ot,st=y.__private__.getFontSize=y.getFontSize=function(){return z===$?Ie:Ie*At},ze=r.R2L||!1;y.__private__.setR2L=y.setR2L=function(w){return ze=w,this},y.__private__.getR2L=y.getR2L=function(){return ze};var xe,Re=y.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ot=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ot=w}else ot=parseInt(w,10)};y.__private__.getZoomMode=function(){return ot};var lt,et=y.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');xe=w};y.__private__.getPageMode=function(){return xe};var gt=y.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');lt=w};y.__private__.getLayoutMode=function(){return lt},y.__private__.setDisplayMode=y.setDisplayMode=function(w,C,J){return Re(w),gt(C),et(J),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(w){if(Object.keys(at).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[w]},y.__private__.getDocumentProperties=function(){return at},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(w){for(var C in at)at.hasOwnProperty(C)&&w[C]&&(at[C]=w[C]);return this},y.__private__.setDocumentProperty=function(w,C){if(Object.keys(at).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[w]=C};var Xe,At,ct,Nn,Zt,_t={},vt={},Dt=[],Et={},Wt={},Lt={},It={},pn=null,qt=0,jt=[],Kt=new tm(y),gn=r.hotfixes||[],qn={},Ti={},$r=[],Rt=function w(C,J,le,me,qe,We){if(!(this instanceof w))return new w(C,J,le,me,qe,We);isNaN(C)&&(C=1),isNaN(J)&&(J=0),isNaN(le)&&(le=0),isNaN(me)&&(me=1),isNaN(qe)&&(qe=0),isNaN(We)&&(We=0),this._matrix=[C,J,le,me,qe,We]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(oe).join(w)},Rt.prototype.multiply=function(w){var C=w.sx*this.sx+w.shy*this.shx,J=w.sx*this.shy+w.shy*this.sy,le=w.shx*this.sx+w.sy*this.shx,me=w.shx*this.shy+w.sy*this.sy,qe=w.tx*this.sx+w.ty*this.shx+this.tx,We=w.tx*this.shy+w.ty*this.sy+this.ty;return new Rt(C,J,le,me,qe,We)},Rt.prototype.decompose=function(){var w=this.sx,C=this.shy,J=this.shx,le=this.sy,me=this.tx,qe=this.ty,We=Math.sqrt(w*w+C*C),dt=(w/=We)*J+(C/=We)*le;J-=w*dt,le-=C*dt;var Tt=Math.sqrt(J*J+le*le);return dt/=Tt,w*(le/=Tt)<C*(J/=Tt)&&(w=-w,C=-C,dt=-dt,We=-We),{scale:new Rt(We,0,0,Tt,0,0),translate:new Rt(1,0,0,1,me,qe),rotate:new Rt(w,C,-C,w,0,0),skew:new Rt(1,0,dt,1,0,0)}},Rt.prototype.toString=function(w){return this.join(" ")},Rt.prototype.inversed=function(){var w=this.sx,C=this.shy,J=this.shx,le=this.sy,me=this.tx,qe=this.ty,We=1/(w*le-C*J),dt=le*We,Tt=-C*We,Ft=-J*We,Xt=w*We;return new Rt(dt,Tt,Ft,Xt,-dt*me-Ft*qe,-Tt*me-Xt*qe)},Rt.prototype.applyToPoint=function(w){var C=w.x*this.sx+w.y*this.shx+this.tx,J=w.x*this.shy+w.y*this.sy+this.ty;return new ts(C,J)},Rt.prototype.applyToRectangle=function(w){var C=this.applyToPoint(w),J=this.applyToPoint(new ts(w.x+w.w,w.y+w.h));return new fo(C.x,C.y,J.x-C.x,J.y-C.y)},Rt.prototype.clone=function(){var w=this.sx,C=this.shy,J=this.shx,le=this.sy,me=this.tx,qe=this.ty;return new Rt(w,C,J,le,me,qe)},y.Matrix=Rt;var Kn=y.matrixMult=function(w,C){return C.multiply(w)},Tn=new Rt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Tn;var _n=function(w,C){if(!Wt[w]){var J=(C instanceof hu?"Sh":"P")+(Object.keys(Et).length+1).toString(10);C.id=J,Wt[w]=J,Et[J]=C,Kt.publish("addPattern",C)}};y.ShadingPattern=hu,y.TilingPattern=hc,y.addShadingPattern=function(w,C){return W("addShadingPattern()"),_n(w,C),this},y.beginTilingPattern=function(w){W("beginTilingPattern()"),ns(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},y.endTilingPattern=function(w,C){W("endTilingPattern()"),C.stream=Ye[U].join(`
`),_n(w,C),Kt.publish("endTilingPattern",C),$r.pop().restore()};var On,Sn=y.__private__.newObject=function(){var w=dn();return Vn(w,!0),w},dn=y.__private__.newObjectDeferred=function(){return ne++,pe[ne]=function(){return ke},ne},Vn=function(w,C){return C=typeof C=="boolean"&&C,pe[w]=ke,C&&Y(w+" 0 obj"),w},ha=y.__private__.newAdditionalObject=function(){var w={objId:dn(),content:""};return Me.push(w),w},ei=dn(),ti=dn(),Gr=y.__private__.decodeColorString=function(w){var C=w.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length!==5||C[4]!=="k"&&C[4]!=="K"||(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var J=parseFloat(C[0]);C=[J,J,J,"r"]}for(var le="#",me=0;me<3;me++)le+=("0"+Math.floor(255*parseFloat(C[me])).toString(16)).slice(-2);return le},mr=y.__private__.encodeColorString=function(w){var C;typeof w=="string"&&(w={ch1:w});var J=w.ch1,le=w.ch2,me=w.ch3,qe=w.ch4,We=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof J=="string"&&J.charAt(0)!=="#"){var dt=new Ly(J);if(dt.ok)J=dt.toHex();else if(!/^\d*\.?\d*$/.test(J))throw new Error('Invalid color "'+J+'" passed to jsPDF.encodeColorString.')}if(typeof J=="string"&&/^#[0-9A-Fa-f]{3}$/.test(J)&&(J="#"+J[1]+J[1]+J[2]+J[2]+J[3]+J[3]),typeof J=="string"&&/^#[0-9A-Fa-f]{6}$/.test(J)){var Tt=parseInt(J.substr(1),16);J=Tt>>16&255,le=Tt>>8&255,me=255&Tt}if(le===void 0||qe===void 0&&J===le&&le===me)C=typeof J=="string"?J+" "+We[0]:w.precision===2?D(J/255)+" "+We[0]:F(J/255)+" "+We[0];else if(qe===void 0||Rn(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",We[1]].join(" ");C=typeof J=="string"?[J,le,me,We[1]].join(" "):w.precision===2?[D(J/255),D(le/255),D(me/255),We[1]].join(" "):[F(J/255),F(le/255),F(me/255),We[1]].join(" ")}else C=typeof J=="string"?[J,le,me,qe,We[2]].join(" "):w.precision===2?[D(J),D(le),D(me),D(qe),We[2]].join(" "):[F(J),F(le),F(me),F(qe),We[2]].join(" ");return C},Br=y.__private__.getFilters=function(){return c},yr=y.__private__.putStream=function(w){var C=(w=w||{}).data||"",J=w.filters||Br(),le=w.alreadyAppliedFilters||[],me=w.addLength1||!1,qe=C.length,We=w.objectId,dt=function(Er){return Er};if(v!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(dt=vn.encryptor(We,0));var Tt={};J===!0&&(J=["FlateEncode"]);var Ft=w.additionalKeyValues||[],Xt=(Tt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(C,J):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(Tt.data.length!==0&&(Ft.push({key:"Length",value:Tt.data.length}),me===!0&&Ft.push({key:"Length1",value:qe})),Xt.length!=0)if(Xt.split("/").length-1==1)Ft.push({key:"Filter",value:Xt});else{Ft.push({key:"Filter",value:"["+Xt+"]"});for(var cn=0;cn<Ft.length;cn+=1)if(Ft[cn].key==="DecodeParms"){for(var Zn=[],wr=0;wr<Tt.reverseChain.split("/").length-1;wr+=1)Zn.push("null");Zn.push(Ft[cn].value),Ft[cn].value="["+Zn.join(" ")+"]"}}Y("<<");for(var Mn=0;Mn<Ft.length;Mn++)Y("/"+Ft[Mn].key+" "+Ft[Mn].value);Y(">>"),Tt.data.length!==0&&(Y("stream"),Y(dt(Tt.data)),Y("endstream"))},Ln=y.__private__.putPage=function(w){var C=w.number,J=w.data,le=w.objId,me=w.contentsObjId;Vn(le,!0),Y("<</Type /Page"),Y("/Parent "+w.rootDictionaryObjId+" 0 R"),Y("/Resources "+w.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(oe(w.mediaBox.bottomLeftX))+" "+parseFloat(oe(w.mediaBox.bottomLeftY))+" "+oe(w.mediaBox.topRightX)+" "+oe(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&Y("/CropBox ["+oe(w.cropBox.bottomLeftX)+" "+oe(w.cropBox.bottomLeftY)+" "+oe(w.cropBox.topRightX)+" "+oe(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&Y("/BleedBox ["+oe(w.bleedBox.bottomLeftX)+" "+oe(w.bleedBox.bottomLeftY)+" "+oe(w.bleedBox.topRightX)+" "+oe(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&Y("/TrimBox ["+oe(w.trimBox.bottomLeftX)+" "+oe(w.trimBox.bottomLeftY)+" "+oe(w.trimBox.topRightX)+" "+oe(w.trimBox.topRightY)+"]"),w.artBox!==null&&Y("/ArtBox ["+oe(w.artBox.bottomLeftX)+" "+oe(w.artBox.bottomLeftY)+" "+oe(w.artBox.topRightX)+" "+oe(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&Y("/UserUnit "+w.userUnit),Kt.publish("putPage",{objId:le,pageContext:jt[C],pageNumber:C,page:J}),Y("/Contents "+me+" 0 R"),Y(">>"),Y("endobj");var qe=J.join(`
`);return z===I&&(qe+=`
Q`),Vn(me,!0),yr({data:qe,filters:Br(),objectId:me}),Y("endobj"),le},Oi=y.__private__.putPages=function(){var w,C,J=[];for(w=1;w<=qt;w++)jt[w].objId=dn(),jt[w].contentsObjId=dn();for(w=1;w<=qt;w++)J.push(Ln({number:w,data:Ye[w],objId:jt[w].objId,contentsObjId:jt[w].contentsObjId,mediaBox:jt[w].mediaBox,cropBox:jt[w].cropBox,bleedBox:jt[w].bleedBox,trimBox:jt[w].trimBox,artBox:jt[w].artBox,userUnit:jt[w].userUnit,rootDictionaryObjId:ei,resourceDictionaryObjId:ti}));Vn(ei,!0),Y("<</Type /Pages");var le="/Kids [";for(C=0;C<qt;C++)le+=J[C]+" 0 R ";Y(le+"]"),Y("/Count "+qt),Y(">>"),Y("endobj"),Kt.publish("postPutPages")},ni=function(w){Kt.publish("putFont",{font:w,out:Y,newObject:Sn,putStream:yr}),w.isAlreadyPutted!==!0&&(w.objectNumber=Sn(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+cc(w.postScriptName)),Y("/Subtype /Type1"),typeof w.encoding=="string"&&Y("/Encoding /"+w.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},di=function(w){w.objectNumber=Sn();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[oe(w.x),oe(w.y),oe(w.x+w.width),oe(w.y+w.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var J=w.pages[1].join(`
`);yr({data:J,additionalKeyValues:C,objectId:w.objectNumber}),Y("endobj")},Li=function(w,C){C||(C=21);var J=Sn(),le=(function(We,dt){var Tt,Ft=[],Xt=1/(dt-1);for(Tt=0;Tt<1;Tt+=Xt)Ft.push(Tt);if(Ft.push(1),We[0].offset!=0){var cn={offset:0,color:We[0].color};We.unshift(cn)}if(We[We.length-1].offset!=1){var Zn={offset:1,color:We[We.length-1].color};We.push(Zn)}for(var wr="",Mn=0,Er=0;Er<Ft.length;Er++){for(Tt=Ft[Er];Tt>We[Mn+1].offset;)Mn++;var _r=We[Mn].offset,Kr=(Tt-_r)/(We[Mn+1].offset-_r),is=We[Mn].color,ba=We[Mn+1].color;wr+=te(Math.round((1-Kr)*is[0]+Kr*ba[0]).toString(16))+te(Math.round((1-Kr)*is[1]+Kr*ba[1]).toString(16))+te(Math.round((1-Kr)*is[2]+Kr*ba[2]).toString(16))}return wr.trim()})(w.colors,C),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+C+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yr({data:le,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:J}),Y("endobj"),w.objectNumber=Sn(),Y("<< /ShadingType "+w.type),Y("/ColorSpace /DeviceRGB");var qe="/Coords ["+oe(parseFloat(w.coords[0]))+" "+oe(parseFloat(w.coords[1]))+" ";w.type===2?qe+=oe(parseFloat(w.coords[2]))+" "+oe(parseFloat(w.coords[3])):qe+=oe(parseFloat(w.coords[2]))+" "+oe(parseFloat(w.coords[3]))+" "+oe(parseFloat(w.coords[4]))+" "+oe(parseFloat(w.coords[5])),Y(qe+="]"),w.matrix&&Y("/Matrix ["+w.matrix.toString()+"]"),Y("/Function "+J+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ja=function(w,C){var J=dn(),le=Sn();C.push({resourcesOid:J,objectOid:le}),w.objectNumber=le;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+w.boundingBox.map(oe).join(" ")+"]"}),me.push({key:"XStep",value:oe(w.xStep)}),me.push({key:"YStep",value:oe(w.yStep)}),me.push({key:"Resources",value:J+" 0 R"}),w.matrix&&me.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),yr({data:w.stream,additionalKeyValues:me,objectId:w.objectNumber}),Y("endobj")},lo=function(w){for(var C in w.objectNumber=Sn(),Y("<<"),w)switch(C){case"opacity":Y("/ca "+D(w[C]));break;case"stroke-opacity":Y("/CA "+D(w[C]))}Y(">>"),Y("endobj")},Cs=function(w){Vn(w.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var C in Y("/Font <<"),_t)_t.hasOwnProperty(C)&&(_===!1||_===!0&&x.hasOwnProperty(C))&&Y("/"+C+" "+_t[C].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(Et).length>0){for(var C in Y("/Shading <<"),Et)Et.hasOwnProperty(C)&&Et[C]instanceof hu&&Et[C].objectNumber>=0&&Y("/"+C+" "+Et[C].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),Y(">>")}})(),(function(C){if(Object.keys(Et).length>0){for(var J in Y("/Pattern <<"),Et)Et.hasOwnProperty(J)&&Et[J]instanceof y.TilingPattern&&Et[J].objectNumber>=0&&Et[J].objectNumber<C&&Y("/"+J+" "+Et[J].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),Y(">>")}})(w.objectOid),(function(){if(Object.keys(Lt).length>0){var C;for(C in Y("/ExtGState <<"),Lt)Lt.hasOwnProperty(C)&&Lt[C].objectNumber>=0&&Y("/"+C+" "+Lt[C].objectNumber+" 0 R");Kt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var C in Y("/XObject <<"),qn)qn.hasOwnProperty(C)&&qn[C].objectNumber>=0&&Y("/"+C+" "+qn[C].objectNumber+" 0 R");Kt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},Go=function(w){vt[w.fontName]=vt[w.fontName]||{},vt[w.fontName][w.fontStyle]=w.id},fa=function(w,C,J,le,me){var qe={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:w,fontName:C,fontStyle:J,encoding:le,isStandardFont:me||!1,metadata:{}};return Kt.publish("addFont",{font:qe,instance:this}),_t[qe.id]=qe,Go(qe),qe.id},Vr=y.__private__.pdfEscape=y.pdfEscape=function(w,C){return(function(J,le){var me,qe,We,dt,Tt,Ft,Xt,cn,Zn;if(We=(le=le||{}).sourceEncoding||"Unicode",Tt=le.outputEncoding,(le.autoencode||Tt)&&_t[Xe].metadata&&_t[Xe].metadata[We]&&_t[Xe].metadata[We].encoding&&(dt=_t[Xe].metadata[We].encoding,!Tt&&_t[Xe].encoding&&(Tt=_t[Xe].encoding),!Tt&&dt.codePages&&(Tt=dt.codePages[0]),typeof Tt=="string"&&(Tt=dt[Tt]),Tt)){for(Xt=!1,Ft=[],me=0,qe=J.length;me<qe;me++)(cn=Tt[J.charCodeAt(me)])?Ft.push(String.fromCharCode(cn)):Ft.push(J[me]),Ft[me].charCodeAt(0)>>8&&(Xt=!0);J=Ft.join("")}for(me=J.length;Xt===void 0&&me!==0;)J.charCodeAt(me-1)>>8&&(Xt=!0),me--;if(!Xt)return J;for(Ft=le.noBOM?[]:[254,255],me=0,qe=J.length;me<qe;me++){if((Zn=(cn=J.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(Zn),Ft.push(cn-(Zn<<8))}return String.fromCharCode.apply(void 0,Ft)})(w,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yr=y.__private__.beginPage=function(w){Ye[++qt]=[],jt[qt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},da(qt),ut(Ye[U])},Rs=function(w,C){var J,le,me;switch(n=C||n,typeof w=="string"&&(J=N(w.toLowerCase()),Array.isArray(J)&&(le=J[0],me=J[1])),Array.isArray(w)&&(le=w[0]*At,me=w[1]*At),isNaN(le)&&(le=o[0],me=o[1]),(le>14400||me>14400)&&(Gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),me=Math.min(14400,me)),o=[le,me],n.substr(0,1)){case"l":me>le&&(o=[me,le]);break;case"p":le>me&&(o=[me,le])}Yr(o),yt(cr),Y(zi),ma!==0&&Y(ma+" J"),Us!==0&&Y(Us+" j"),Kt.publish("addPage",{pageNumber:qt})},Za=function(w){w>0&&w<=qt&&(Ye.splice(w,1),jt.splice(w,1),qt--,U>qt&&(U=qt),this.setPage(U))},da=function(w){w>0&&w<=qt&&(U=w)},Ds=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ye.length-1},Ps=function(w,C,J){var le,me=void 0;return J=J||{},w=w!==void 0?w:_t[Xe].fontName,C=C!==void 0?C:_t[Xe].fontStyle,le=w.toLowerCase(),vt[le]!==void 0&&vt[le][C]!==void 0?me=vt[le][C]:vt[w]!==void 0&&vt[w][C]!==void 0?me=vt[w][C]:J.disableWarning===!1&&Gn.warn("Unable to look up font label for font '"+w+"', '"+C+"'. Refer to getFontList() for available fonts."),me||J.noFallback||(me=vt.times[C])==null&&(me=vt.times.normal),me},Ji=y.__private__.putInfo=function(){var w=Sn(),C=function(le){return le};for(var J in v!==null&&(C=vn.encryptor(w,0)),Y("<<"),Y("/Producer ("+Vr(C("jsPDF "+kt.version))+")"),at)at.hasOwnProperty(J)&&at[J]&&Y("/"+J.substr(0,1).toUpperCase()+J.substr(1)+" ("+Vr(C(at[J]))+")");Y("/CreationDate ("+Vr(C(be))+")"),Y(">>"),Y("endobj")},Qa=y.__private__.putCatalog=function(w){var C=(w=w||{}).rootDictionaryObjId||ei;switch(Sn(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+C+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var J=""+ot;J.substr(J.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+D(ot)+"]")}switch(lt||(lt="continuous"),lt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}xe&&Y("/PageMode /"+xe),Kt.publish("putCatalog"),Y(">>"),Y("endobj")},ri=y.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ne+1)),Y("/Root "+ne+" 0 R"),Y("/Info "+(ne-1)+" 0 R"),v!==null&&Y("/Encrypt "+vn.oid+" 0 R"),Y("/ID [ <"+Z+"> <"+Z+"> ]"),Y(">>")},Xn=y.__private__.putHeader=function(){Y("%PDF-"+E),Y("%")},Wr=y.__private__.putXRef=function(){var w="0000000000";Y("xref"),Y("0 "+(ne+1)),Y("0000000000 65535 f ");for(var C=1;C<=ne;C++)typeof pe[C]=="function"?Y((w+pe[C]()).slice(-10)+" 00000 n "):pe[C]!==void 0?Y((w+pe[C]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},br=y.__private__.buildDocument=function(){var w;ne=0,ke=0,_e=[],pe=[],Me=[],ei=dn(),ti=dn(),ut(_e),Kt.publish("buildDocument"),Xn(),Oi(),(function(){Kt.publish("putAdditionalObjects");for(var J=0;J<Me.length;J++){var le=Me[J];Vn(le.objId,!0),Y(le.content),Y("endobj")}Kt.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var J in _t)_t.hasOwnProperty(J)&&(_===!1||_===!0&&x.hasOwnProperty(J))&&ni(_t[J])})(),(function(){var J;for(J in Lt)Lt.hasOwnProperty(J)&&lo(Lt[J])})(),(function(){for(var J in qn)qn.hasOwnProperty(J)&&di(qn[J])})(),(function(J){var le;for(le in Et)Et.hasOwnProperty(le)&&(Et[le]instanceof hu?Li(Et[le]):Et[le]instanceof hc&&Ja(Et[le],J))})(w),Kt.publish("putResources"),w.forEach(Cs),Cs({resourcesOid:ti,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),v!==null&&(vn.oid=Sn(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vn.v),Y("/R "+vn.r),Y("/U <"+vn.toHexString(vn.U)+">"),Y("/O <"+vn.toHexString(vn.O)+">"),Y("/P "+vn.P),Y(">>"),Y("endobj")),Ji(),Qa();var C=ke;return Wr(),ri(),Y("startxref"),Y(""+C),Y("%%EOF"),ut(Ye[U]),_e.join(`
`)},Dn=y.__private__.getBlob=function(w){return new Blob([it(w)],{type:"application/pdf"})},es=y.output=y.__private__.output=(On=function(w,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",w){case void 0:return br();case"save":y.save(C.filename);break;case"arraybuffer":return it(br());case"blob":return Dn(br());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(Dn(br()))||void 0;Gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var J="",le=br();try{J=Zv(le)}catch{J=Zv(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+C.filename+";base64,"+J;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(me=C.pdfObjectUrl,qe="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",dt=Vt.open();return dt!==null&&dt.document.write(We),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',Ft=Vt.open();if(Ft!==null){Ft.document.write(Tt);var Xt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=C.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Zn=Vt.open();if(Zn!==null&&(Zn.document.write(cn),Zn.document.title=C.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",C);default:return null}},On.foo=function(){try{return On.apply(this,arguments)}catch(J){var w=J.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var C="Error in function "+w.split(`
`)[0].split("<")[0]+": "+J.message;if(!Vt.console)throw new Error(C);Vt.console.error(C,J),Vt.alert&&alert(C)}},On.foo.bar=On,On.foo),ji=function(w){return Array.isArray(gn)===!0&&gn.indexOf(w)>-1};switch(a){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);At=a}var vn=null;se(),ce();var qi=y.__private__.getPageInfo=y.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[w].objId,pageNumber:w,pageContext:jt[w]}},uo=y.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in jt)if(jt[C].objId===w)break;return qi(C)},pa=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:jt[U].objId,pageNumber:U,pageContext:jt[U]}};y.addPage=function(){return Rs.apply(this,arguments),this},y.setPage=function(){return da.apply(this,arguments),ut.call(this,Ye[U]),this},y.insertPage=function(w){return this.addPage(),this.movePage(U,w),this},y.movePage=function(w,C){var J,le;if(w>C){J=Ye[w],le=jt[w];for(var me=w;me>C;me--)Ye[me]=Ye[me-1],jt[me]=jt[me-1];Ye[C]=J,jt[C]=le,this.setPage(C)}else if(w<C){J=Ye[w],le=jt[w];for(var qe=w;qe<C;qe++)Ye[qe]=Ye[qe+1],jt[qe]=jt[qe+1];Ye[C]=J,jt[C]=le,this.setPage(C)}return this},y.deletePage=function(){return Za.apply(this,arguments),this},y.__private__.text=y.text=function(w,C,J,le,me){var qe,We,dt,Tt,Ft,Xt,cn,Zn,wr,Mn=(le=le||{}).scope||this;if(typeof w=="number"&&typeof C=="number"&&(typeof J=="string"||Array.isArray(J))){var Er=J;J=C,C=w,w=Er}if(arguments[3]instanceof Rt==0?(dt=arguments[4],Tt=arguments[5],Rn(cn=arguments[3])==="object"&&cn!==null||(typeof dt=="string"&&(Tt=dt,dt=null),typeof cn=="string"&&(Tt=cn,cn=null),typeof cn=="number"&&(dt=cn,cn=null),le={flags:cn,angle:dt,align:Tt})):(W("The transform parameter of text() with a Matrix value"),wr=me),isNaN(C)||isNaN(J)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Mn;var _r,Kr="",is=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Fn,ba=Mn.internal.scaleFactor;function as(on){return on=on.split("	").join(Array(le.TabLen||9).join(" ")),Vr(on,cn)}function go(on){for(var An,nr=on.concat(),zn=[],Ia=nr.length;Ia--;)typeof(An=nr.shift())=="string"?zn.push(An):Array.isArray(on)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?zn.push(An[0]):zn.push([An[0],An[1],An[2]]);return zn}function Pa(on,An){var nr;if(typeof on=="string")nr=An(on)[0];else if(Array.isArray(on)){for(var zn,Ia,tl=on.concat(),yo=[],xu=tl.length;xu--;)typeof(zn=tl.shift())=="string"?yo.push(An(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(Ia=An(zn[0],zn[1],zn[2]),yo.push([Ia[0],Ia[1],Ia[2]]));nr=yo}return nr}var Fs=!1,zs=!0;if(typeof w=="string")Fs=!0;else if(Array.isArray(w)){var Hs=w.concat();We=[];for(var ss,Ur=Hs.length;Ur--;)(typeof(ss=Hs.shift())!="string"||Array.isArray(ss)&&typeof ss[0]!="string")&&(zs=!1);Fs=zs}if(Fs===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var $s=Ie/Mn.internal.scaleFactor,ea=$s*(is-1);switch(le.baseline){case"bottom":J-=ea;break;case"top":J+=$s-ea;break;case"hanging":J+=$s-2*ea;break;case"middle":J+=$s/2-ea}if((Xt=le.maxWidth||0)>0&&(typeof w=="string"?w=Mn.splitTextToSize(w,Xt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(on,An){return on.concat(Mn.splitTextToSize(An,Xt))},[]))),qe={text:w,x:C,y:J,options:le,mutex:{pdfEscape:Vr,activeFontKey:Xe,fonts:_t,activeFontSize:Ie}},Kt.publish("preProcessText",qe),w=qe.text,dt=(le=qe.options).angle,wr instanceof Rt==0&&dt&&typeof dt=="number"){dt*=Math.PI/180,le.rotationDirection===0&&(dt=-dt),z===I&&(dt=-dt);var Rl=Math.cos(dt),Dl=Math.sin(dt);wr=new Rt(Rl,Dl,-Dl,Rl,0,0)}else dt&&dt instanceof Rt&&(wr=dt);z!==I||wr||(wr=Tn),(Ft=le.charSpace||Ra)!==void 0&&(Kr+=oe(Q(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=le.horizontalScale)!==void 0&&(Kr+=oe(100*Zn)+` Tz
`),le.lang;var gi=-1,Ma=le.renderingMode!==void 0?le.renderingMode:le.stroke,vo=Mn.internal.getCurrentPageInfo().pageContext;switch(Ma){case 0:case!1:case"fill":gi=0;break;case 1:case!0:case"stroke":gi=1;break;case 2:case"fillThenStroke":gi=2;break;case 3:case"invisible":gi=3;break;case 4:case"fillAndAddForClipping":gi=4;break;case 5:case"strokeAndAddPathForClipping":gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gi=6;break;case 7:case"addToPathForClipping":gi=7}var Gs=vo.usedRenderingMode!==void 0?vo.usedRenderingMode:-1;gi!==-1?Kr+=gi+` Tr
`:Gs!==-1&&(Kr+=`0 Tr
`),gi!==-1&&(vo.usedRenderingMode=gi),Tt=le.align||"left";var ai,mo=Ie*is,Vs=Mn.internal.pageSize.getWidth(),Ko=_t[Xe];Ft=le.charSpace||Ra,Xt=le.maxWidth||0,cn=Object.assign({autoencode:!0,noBOM:!0},le.flags);var os=[],ls=function(on){return Mn.getStringUnitWidth(on,{font:Ko,charSpace:Ft,fontSize:Ie,doKerning:!1})*Ie/ba};if(Object.prototype.toString.call(w)==="[object Array]"){var vi;We=go(w),Tt!=="left"&&(ai=We.map(ls));var Ci,us=0;if(Tt==="right"){C-=ai[0],w=[],Ur=We.length;for(var Ba=0;Ba<Ur;Ba++)Ba===0?(Ci=pi(C),vi=Pn(J)):(Ci=Q(us-ai[Ba]),vi=-mo),w.push([We[Ba],Ci,vi]),us=ai[Ba]}else if(Tt==="center"){C-=ai[0]/2,w=[],Ur=We.length;for(var Ys=0;Ys<Ur;Ys++)Ys===0?(Ci=pi(C),vi=Pn(J)):(Ci=Q((us-ai[Ys])/2),vi=-mo),w.push([We[Ys],Ci,vi]),us=ai[Ys]}else if(Tt==="left"){w=[],Ur=We.length;for(var Pl=0;Pl<Ur;Pl++)w.push(We[Pl])}else if(Tt==="justify"&&Ko.encoding==="Identity-H"){w=[],Ur=We.length,Xt=Xt!==0?Xt:Vs;for(var Xo=0,hr=0;hr<Ur;hr++)if(vi=hr===0?Pn(J):-mo,Ci=hr===0?pi(C):Xo,hr<Ur-1){var Su=Q((Xt-ai[hr])/(We[hr].split(" ").length-1)),tr=We[hr].split(" ");w.push([tr[0]+" ",Ci,vi]),Xo=0;for(var Ri=1;Ri<tr.length;Ri++){var Jo=(ls(tr[Ri-1]+" "+tr[Ri])-ls(tr[Ri]))*ba+Su;Ri==tr.length-1?w.push([tr[Ri],Jo,0]):w.push([tr[Ri]+" ",Jo,0]),Xo-=Jo}}else w.push([We[hr],Ci,vi]);w.push(["",Xo,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Ur=We.length,Xt=Xt!==0?Xt:Vs,hr=0;hr<Ur;hr++){vi=hr===0?Pn(J):-mo,Ci=hr===0?pi(C):0;var Zo=We[hr].split(" ").length-1,Qo=Zo>0?(Xt-ai[hr])/Zo:0;hr<Ur-1?os.push(oe(Q(Qo))):os.push(0),w.push([We[hr],Ci,vi])}}}(typeof le.R2L=="boolean"?le.R2L:ze)===!0&&(w=Pa(w,function(on,An,nr){return[on.split("").reverse().join(""),An,nr]})),qe={text:w,x:C,y:J,options:le,mutex:{pdfEscape:Vr,activeFontKey:Xe,fonts:_t,activeFontSize:Ie}},Kt.publish("postProcessText",qe),w=qe.text,_r=qe.mutex.isHex||!1;var el=_t[Xe].encoding;el!=="WinAnsiEncoding"&&el!=="StandardEncoding"||(w=Pa(w,function(on,An,nr){return[as(on),An,nr]})),We=go(w),w=[];for(var Ua,Ws,Hi,cs=Array.isArray(We[0])?1:0,ta="",hs=function(on,An,nr){var zn="";return nr instanceof Rt?(nr=typeof le.angle=="number"?Kn(nr,new Rt(1,0,0,1,on,An)):Kn(new Rt(1,0,0,1,on,An),nr),z===I&&(nr=Kn(new Rt(1,0,0,-1,0,0),nr)),zn=nr.join(" ")+` Tm
`):zn=oe(on)+" "+oe(An)+` Td
`,zn},$i=0;$i<We.length;$i++){switch(ta="",cs){case 1:Hi=(_r?"<":"(")+We[$i][0]+(_r?">":")"),Ua=parseFloat(We[$i][1]),Ws=parseFloat(We[$i][2]);break;case 0:Hi=(_r?"<":"(")+We[$i]+(_r?">":")"),Ua=pi(C),Ws=Pn(J)}os!==void 0&&os[$i]!==void 0&&(ta=os[$i]+` Tw
`),$i===0?w.push(ta+hs(Ua,Ws,wr)+Hi):cs===0?w.push(ta+Hi):cs===1&&w.push(ta+hs(Ua,Ws,wr)+Hi)}w=cs===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var si=`BT
/`;return si+=Xe+" "+Ie+` Tf
`,si+=oe(Ie*is)+` TL
`,si+=Ca+`
`,si+=Kr,si+=w,Y(si+="ET"),x[Xe]=!0,Mn};var ka=y.__private__.clip=y.clip=function(w){return Y(w==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ka("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Y("n"),this};var Fi=y.__private__.isValidStyle=function(w){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(C=!0),C};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(w){return Fi(w)&&(d=w),this};var co=y.__private__.getStyle=y.getStyle=function(w){var C=d;switch(w){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=w}return C},ga=y.close=function(){return Y("h"),this};y.stroke=function(){return Y("S"),this},y.fill=function(w){return Ms("f",w),this},y.fillEvenOdd=function(w){return Ms("f*",w),this},y.fillStroke=function(w){return Ms("B",w),this},y.fillStrokeEvenOdd=function(w){return Ms("B*",w),this};var Ms=function(w,C){Rn(C)==="object"?Le(C,w):Y(w)},va=function(w){w===null||z===I&&w===void 0||(w=co(w),Y(w))};function re(w,C,J,le,me){var qe=new hc(C||this.boundingBox,J||this.xStep,le||this.yStep,this.gState,me||this.matrix);qe.stream=this.stream;var We=w+"$$"+this.cloneIndex+++"$$";return _n(We,qe),qe}var Le=function(w,C){var J=Wt[w.key],le=Et[J];if(le instanceof hu)Y("q"),Y($e(C)),le.gState&&y.setGState(le.gState),Y(w.matrix.toString()+" cm"),Y("/"+J+" sh"),Y("Q");else if(le instanceof hc){var me=new Rt(1,0,0,-1,0,po());w.matrix&&(me=me.multiply(w.matrix||Tn),J=re.call(le,w.key,w.boundingBox,w.xStep,w.yStep,me).id),Y("q"),Y("/Pattern cs"),Y("/"+J+" scn"),le.gState&&y.setGState(le.gState),Y(C),Y("Q")}},$e=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},rt=y.moveTo=function(w,C){return Y(oe(Q(w))+" "+oe(ee(C))+" m"),this},tt=y.lineTo=function(w,C){return Y(oe(Q(w))+" "+oe(ee(C))+" l"),this},tn=y.curveTo=function(w,C,J,le,me,qe){return Y([oe(Q(w)),oe(ee(C)),oe(Q(J)),oe(ee(le)),oe(Q(me)),oe(ee(qe)),"c"].join(" ")),this};y.__private__.line=y.line=function(w,C,J,le,me){if(isNaN(w)||isNaN(C)||isNaN(J)||isNaN(le)||!Fi(me))throw new Error("Invalid arguments passed to jsPDF.line");return z===$?this.lines([[J-w,le-C]],w,C,[1,1],me||"S"):this.lines([[J-w,le-C]],w,C,[1,1]).stroke()},y.__private__.lines=y.lines=function(w,C,J,le,me,qe){var We,dt,Tt,Ft,Xt,cn,Zn,wr,Mn,Er,_r,Kr;if(typeof w=="number"&&(Kr=J,J=C,C=w,w=Kr),le=le||[1,1],qe=qe||!1,isNaN(C)||isNaN(J)||!Array.isArray(w)||!Array.isArray(le)||!Fi(me)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rt(C,J),We=le[0],dt=le[1],Ft=w.length,Er=C,_r=J,Tt=0;Tt<Ft;Tt++)(Xt=w[Tt]).length===2?(Er=Xt[0]*We+Er,_r=Xt[1]*dt+_r,tt(Er,_r)):(cn=Xt[0]*We+Er,Zn=Xt[1]*dt+_r,wr=Xt[2]*We+Er,Mn=Xt[3]*dt+_r,Er=Xt[4]*We+Er,_r=Xt[5]*dt+_r,tn(cn,Zn,wr,Mn,Er,_r));return qe&&ga(),va(me),this},y.path=function(w){for(var C=0;C<w.length;C++){var J=w[C],le=J.c;switch(J.op){case"m":rt(le[0],le[1]);break;case"l":tt(le[0],le[1]);break;case"c":tn.apply(this,le);break;case"h":ga()}}return this},y.__private__.rect=y.rect=function(w,C,J,le,me){if(isNaN(w)||isNaN(C)||isNaN(J)||isNaN(le)||!Fi(me))throw new Error("Invalid arguments passed to jsPDF.rect");return z===$&&(le=-le),Y([oe(Q(w)),oe(ee(C)),oe(Q(J)),oe(Q(le)),"re"].join(" ")),va(me),this},y.__private__.triangle=y.triangle=function(w,C,J,le,me,qe,We){if(isNaN(w)||isNaN(C)||isNaN(J)||isNaN(le)||isNaN(me)||isNaN(qe)||!Fi(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[J-w,le-C],[me-J,qe-le],[w-me,C-qe]],w,C,[1,1],We,!0),this},y.__private__.roundedRect=y.roundedRect=function(w,C,J,le,me,qe,We){if(isNaN(w)||isNaN(C)||isNaN(J)||isNaN(le)||isNaN(me)||isNaN(qe)||!Fi(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*J),qe=Math.min(qe,.5*le),this.lines([[J-2*me,0],[me*dt,0,me,qe-qe*dt,me,qe],[0,le-2*qe],[0,qe*dt,-me*dt,qe,-me,qe],[2*me-J,0],[-me*dt,0,-me,-qe*dt,-me,-qe],[0,2*qe-le],[0,-qe*dt,me*dt,-qe,me,-qe]],w+me,C,[1,1],We,!0),this},y.__private__.ellipse=y.ellipse=function(w,C,J,le,me){if(isNaN(w)||isNaN(C)||isNaN(J)||isNaN(le)||!Fi(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*J,We=4/3*(Math.SQRT2-1)*le;return rt(w+J,C),tn(w+J,C-We,w+qe,C-le,w,C-le),tn(w-qe,C-le,w-J,C-We,w-J,C),tn(w-J,C+We,w-qe,C+le,w,C+le),tn(w+qe,C+le,w+J,C+We,w+J,C),va(me),this},y.__private__.circle=y.circle=function(w,C,J,le){if(isNaN(w)||isNaN(C)||isNaN(J)||!Fi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,C,J,J,le)},y.setFont=function(w,C,J){return J&&(C=ye(C,J)),Xe=Ps(w,C,{disableWarning:!1}),this};var xn=y.__private__.getFont=y.getFont=function(){return _t[Ps.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var w,C,J={};for(w in vt)if(vt.hasOwnProperty(w))for(C in J[w]=[],vt[w])vt[w].hasOwnProperty(C)&&J[w].push(C);return J},y.addFont=function(w,C,J,le,me){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(J=ye(J,le)),fa.call(this,w,C,J,me=me||"Identity-H")};var Fn,cr=r.lineWidth||.200025,Bs=y.__private__.getLineWidth=y.getLineWidth=function(){return cr},yt=y.__private__.setLineWidth=y.setLineWidth=function(w){return cr=w,Y(oe(Q(w))+" w"),this};y.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(w,C){if(w=w||[],C=C||0,isNaN(C)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(J){return oe(Q(J))}).join(" "),C=oe(Q(C)),Y("["+w+"] "+C+" d"),this};var ho=y.__private__.getLineHeight=y.getLineHeight=function(){return Ie*Fn};y.__private__.getLineHeight=y.getLineHeight=function(){return Ie*Fn};var Zi=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Fn=w),this},Qi=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Fn};Zi(r.lineHeight);var pi=y.__private__.getHorizontalCoordinate=function(w){return Q(w)},Pn=y.__private__.getVerticalCoordinate=function(w){return z===I?w:jt[U].mediaBox.topRightY-jt[U].mediaBox.bottomLeftY-Q(w)},Jn=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(w){return oe(pi(w))},ki=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(w){return oe(Pn(w))},zi=r.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Gr(zi)},y.__private__.setStrokeColor=y.setDrawColor=function(w,C,J,le){return zi=mr({ch1:w,ch2:C,ch3:J,ch4:le,pdfColorType:"draw",precision:2}),Y(zi),this};var Vo=r.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Gr(Vo)},y.__private__.setFillColor=y.setFillColor=function(w,C,J,le){return Vo=mr({ch1:w,ch2:C,ch3:J,ch4:le,pdfColorType:"fill",precision:2}),Y(Vo),this};var Ca=r.textColor||"0 g",Yo=y.__private__.getTextColor=y.getTextColor=function(){return Gr(Ca)};y.__private__.setTextColor=y.setTextColor=function(w,C,J,le){return Ca=mr({ch1:w,ch2:C,ch3:J,ch4:le,pdfColorType:"text",precision:3}),this};var Ra=r.charSpace,ii=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ra||0)};y.__private__.setCharSpace=y.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ra=w,this};var ma=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(w){var C=y.CapJoinStyles[w];if(C===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ma=C,Y(C+" J"),this};var Us=0;y.__private__.setLineJoin=y.setLineJoin=function(w){var C=y.CapJoinStyles[w];if(C===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Us=C,Y(C+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(oe(Q(w))+" M"),this},y.GState=yd,y.setGState=function(w){(w=typeof w=="string"?Lt[It[w]]:Is(null,w)).equals(pn)||(Y("/"+w.id+" gs"),pn=w)};var Is=function(w,C){if(!w||!It[w]){var J=!1;for(var le in Lt)if(Lt.hasOwnProperty(le)&&Lt[le].equals(C)){J=!0;break}if(J)C=Lt[le];else{var me="GS"+(Object.keys(Lt).length+1).toString(10);Lt[me]=C,C.id=me}return w&&(It[w]=C.id),Kt.publish("addGState",C),C}};y.addGState=function(w,C){return Is(w,C),this},y.saveGraphicsState=function(){return Y("q"),Dt.push({key:Xe,size:Ie,color:Ca}),this},y.restoreGraphicsState=function(){Y("Q");var w=Dt.pop();return Xe=w.key,Ie=w.size,Ca=w.color,pn=null,this},y.setCurrentTransformationMatrix=function(w){return Y(w.toString()+" cm"),this},y.comment=function(w){return Y("#"+w),this};var ts=function(w,C){var J=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return J},set:function(qe){isNaN(qe)||(J=parseFloat(qe))}});var le=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(qe){isNaN(qe)||(le=parseFloat(qe))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(qe){me=qe.toString()}}),this},fo=function(w,C,J,le){ts.call(this,w,C),this.type="rect";var me=J||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(We){isNaN(We)||(me=parseFloat(We))}});var qe=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(We){isNaN(We)||(qe=parseFloat(We))}}),this},qs=function(){this.page=qt,this.currentPage=U,this.pages=Ye.slice(0),this.pagesContext=jt.slice(0),this.x=ct,this.y=Nn,this.matrix=Zt,this.width=Wo(U),this.height=bu(U),this.outputDestination=Je,this.id="",this.objectNumber=-1};qs.prototype.restore=function(){qt=this.page,U=this.currentPage,jt=this.pagesContext,Ye=this.pages,ct=this.x,Nn=this.y,Zt=this.matrix,yu(U,this.width),rs(U,this.height),Je=this.outputDestination};var ns=function(w,C,J,le,me){$r.push(new qs),qt=U=0,Ye=[],ct=w,Nn=C,Zt=me,Yr([J,le])};for(var Da in y.beginFormObject=function(w,C,J,le,me){return ns(w,C,J,le,me),this},y.endFormObject=function(w){return(function(C){if(Ti[C])$r.pop().restore();else{var J=new qs,le="Xo"+(Object.keys(qn).length+1).toString(10);J.id=le,Ti[C]=le,qn[le]=J,Kt.publish("addFormObject",J),$r.pop().restore()}})(w),this},y.doFormObject=function(w,C){var J=qn[Ti[w]];return Y("q"),Y(C.toString()+" cm"),Y("/"+J.id+" Do"),Y("Q"),this},y.getFormObject=function(w){var C=qn[Ti[w]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},y.save=function(w,C){return w=w||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(lu(Dn(br()),w),typeof lu.unload=="function"&&Vt.setTimeout&&setTimeout(lu.unload,911),this):new Promise(function(J,le){try{var me=lu(Dn(br()),w);typeof lu.unload=="function"&&Vt.setTimeout&&setTimeout(lu.unload,911),J(me)}catch(qe){le(qe.message)}})},kt.API)kt.API.hasOwnProperty(Da)&&(Da==="events"&&kt.API.events.length?(function(w,C){var J,le,me;for(me=C.length-1;me!==-1;me--)J=C[me][0],le=C[me][1],w.subscribe.apply(w,[J].concat(typeof le=="function"?[le]:le))})(Kt,kt.API.events):y[Da]=kt.API[Da]);function Wo(w){return jt[w].mediaBox.topRightX-jt[w].mediaBox.bottomLeftX}function yu(w,C){jt[w].mediaBox.topRightX=C+jt[w].mediaBox.bottomLeftX}function bu(w){return jt[w].mediaBox.topRightY-jt[w].mediaBox.bottomLeftY}function rs(w,C){jt[w].mediaBox.topRightY=C+jt[w].mediaBox.bottomLeftY}var ya=y.getPageWidth=function(w){return Wo(w=w||U)/At},wu=y.setPageWidth=function(w,C){yu(w,C*At)},po=y.getPageHeight=function(w){return bu(w=w||U)/At},_u=y.setPageHeight=function(w,C){rs(w,C*At)};return y.internal={pdfEscape:Vr,getStyle:co,getFont:xn,getFontSize:st,getCharSpace:ii,getTextColor:Yo,getLineHeight:ho,getLineHeightFactor:Qi,getLineWidth:Bs,write:Ze,getHorizontalCoordinate:pi,getVerticalCoordinate:Pn,getCoordinateString:Jn,getVerticalCoordinateString:ki,collections:{},newObject:Sn,newAdditionalObject:ha,newObjectDeferred:dn,newObjectDeferredBegin:Vn,getFilters:Br,putStream:yr,events:Kt,scaleFactor:At,pageSize:{getWidth:function(){return ya(U)},setWidth:function(w){wu(U,w)},getHeight:function(){return po(U)},setHeight:function(w){_u(U,w)}},encryptionOptions:v,encryption:vn,getEncryptor:function(w){return v!==null?vn.encryptor(w,0):function(C){return C}},output:es,getNumberOfPages:Ds,get pages(){return Ye},out:Y,f2:D,f3:F,getPageInfo:qi,getPageInfoByObjId:uo,getCurrentPageInfo:pa,getPDFVersion:L,Point:ts,Rectangle:fo,Matrix:Rt,hasHotfix:ji},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return ya(U)},set:function(w){wu(U,w)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return po(U)},set:function(w){_u(U,w)},enumerable:!0,configurable:!0}),(function(w){for(var C=0,J=ft.length;C<J;C++){var le=fa.call(this,w[C][0],w[C][1],w[C][2],ft[C][3],!0);_===!1&&(x[le]=!0);var me=w[C][0].split("-");Go({id:le,fontName:me[0],fontStyle:me[1]||""})}Kt.publish("addFonts",{fonts:_t,dictionary:vt})}).call(y,ft),Xe="F1",Rs(o,n),Kt.publish("initialized"),y}uc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},uc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uc.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},uc.prototype.processOwnerPassword=function(r,e){return Z0(J0(e).substr(0,5),r)},uc.prototype.encryptor=function(r,e){var n=J0(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return Z0(n,a)}},yd.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||Rn(r)!==Rn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;a++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},kt.API={events:[]},kt.version="3.0.4";var Ar=kt.API,b1=1,mu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ic=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(r){return r.toFixed(2)},Ol=function(r){return r.toFixed(5)};Ar.__acroform__={};var ca=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},nm=function(r){return r*b1},io=function(r){var e=new Ry,n=xt.internal.getHeight(r)||0,a=xt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Jt(a)),Number(Jt(n))],e},dx=Ar.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},px=Ar.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},gx=Ar.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Dr=Ar.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gx(r,e-1)},Pr=Ar.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dx(r,e-1)},Mr=Ar.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return px(r,e-1)},vx=Ar.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,o=r[0],s=r[1],c=r[2],h=r[3],f={};return f.lowerLeft_X=n(o)||0,f.lowerLeft_Y=a(s+h)||0,f.upperRight_X=n(o+c)||0,f.upperRight_Y=a(s)||0,[Number(Jt(f.lowerLeft_X)),Number(Jt(f.lowerLeft_Y)),Number(Jt(f.upperRight_X)),Number(Jt(f.upperRight_Y))]},mx=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,a=Q0(r,n),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+Jt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=io(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Q0=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(D){return D.split(`
`)}):o.map(function(D){return[D]});var s=n,c=xt.internal.getHeight(r)||0;c=c<0?-c:c;var h=xt.internal.getWidth(r)||0;h=h<0?-h:h;var f=function(D,F,Q){if(D+1<o.length){var ee=F+" "+o[D+1][0];return Wf(ee,r,Q).width<=h-4}return!1};s++;e:for(;s>0;){e="",s--;var d,v,_=Wf("3",r,s).height,x=r.multiline?c-s:(c-_)/2,y=x+=2,E=0,L=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wf(e,r,s=12).width+", FieldWidth:"+h+`
`;break}for(var N="",$=0,I=0;I<o.length;I++)if(o.hasOwnProperty(I)){var z=!1;if(o[I].length!==1&&k!==o[I].length-1){if((_+2)*($+2)+2>c)continue e;N+=o[I][k],z=!0,L=I,I--}else{N=(N+=o[I][k]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var ae=parseInt(I),Ee=f(ae,N,s),ye=I>=o.length-1;if(Ee&&!ye){N+=" ",k=0;continue}if(Ee||ye){if(ye)L=ae;else if(r.multiline&&(_+2)*($+2)+2>c)continue e}else{if(!r.multiline||(_+2)*($+2)+2>c)continue e;L=ae}}for(var oe="",W=E;W<=L;W++){var ve=o[W];if(r.multiline){if(W===L){oe+=ve[k]+" ",k=(k+1)%ve.length;continue}if(W===E){oe+=ve[ve.length-1]+" ";continue}}oe+=ve[0]+" "}switch(oe=oe.substr(oe.length-1)==" "?oe.substr(0,oe.length-1):oe,v=Wf(oe,r,s).width,r.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=Jt(d)+" "+Jt(y)+` Td
`,e+="("+mu(oe)+`) Tj
`,e+=-Jt(d)+` 0 Td
`,y=-(s+2),v=0,E=z?L:L+1,$++,N=""}break}return a.text=e,a.fontSize=s,a},Wf=function(r,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},yx={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bx=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},wx=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(js.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(yx)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b1=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Dy,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];s.objId=void 0,s.hasAnnotation&&bx(s,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(a,o){var s=!a;for(var c in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var h=a[c],f=[],d=h.Rect;if(h.Rect&&(h.Rect=vx(h.Rect,o)),o.internal.newObjectDeferredBegin(h.objId,!0),h.DA=xt.createDefaultAppearanceStream(h),Rn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=mx(h);f.push({key:"AP",value:"<</N "+v+">>"}),o.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var _="";for(var x in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(x)){var y=h.appearanceStreamContent[x];if(_+="/"+x+" ",_+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var c in y)if(y.hasOwnProperty(c)){var E=y[c];typeof E=="function"&&(E=E.call(o,h)),_+="/"+c+" "+E+" ",o.internal.acroformPlugin.xForms.indexOf(E)>=0||o.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(o,h)),_+="/"+c+" "+E,o.internal.acroformPlugin.xForms.indexOf(E)>=0||o.internal.acroformPlugin.xForms.push(E);_+=">>"}f.push({key:"AP",value:`<<
`+_+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:h.objId}),o.internal.out("endobj")}s&&(function(L,k){for(var N in L)if(L.hasOwnProperty(N)){var $=N,I=L[N];k.internal.newObjectDeferredBegin(I.objId,!0),Rn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete L[$]}})(o.internal.acroformPlugin.xForms,o)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},Cy=Ar.__acroform__.arrayToPdfArray=function(r,e,n){var a=function(c){return c};if(Array.isArray(r)){for(var o="[",s=0;s<r.length;s++)switch(s!==0&&(o+=" "),Rn(r[s])){case"boolean":case"number":case"object":o+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),o+="("+mu(a(r[s].toString()))+")"):o+=r[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g0=function(r,e,n){var a=function(o){return o};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+mu(a(r))+")"},so=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};so.prototype.toString=function(){return this.objId+" 0 R"},so.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},so.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],o=this[a];o&&(Array.isArray(o)?r.push({key:a,value:Cy(o,this.objId,this.scope)}):o instanceof so?(o.scope=this.scope,r.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:a,value:o}))}return r};var Ry=function(){so.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};ca(Ry,so);var Dy=function(){so.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+mu(n(r))+")"}},set:function(n){r=n}})};ca(Dy,so);var js=function r(){so.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(e,3)},set:function(N){N?this.F=Pr(e,3):this.F=Mr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof bd)return;s="FieldObject"+r.FieldNum++}var N=function($){return $};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+mu(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/b1:d},set:function(N){d=N}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(N){v=N}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof bd||this instanceof du))return g0(_,this.objId,this.scope)},set:function(N){N=N.toString(),_=N}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof fi==0?g0(x,this.objId,this.scope):x},set:function(N){N=N.toString(),x=this instanceof fi==0?N.substr(0,1)==="("?ic(N.substr(1,N.length-2)):ic(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?ic(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof fi==1?"/"+N:N}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof fi==0?g0(y,this.objId,this.scope):y},set:function(N){N=N.toString(),y=this instanceof fi==0?N.substr(0,1)==="("?ic(N.substr(1,N.length-2)):ic(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi==1?ic(y.substr(1,y.length-1)):y},set:function(N){N=N.toString(),y=this instanceof fi==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(N){N=!!N,L=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(N){E=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(N){N?this.Ff=Pr(this.Ff,1):this.Ff=Mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(N){N?this.Ff=Pr(this.Ff,2):this.Ff=Mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(N){N?this.Ff=Pr(this.Ff,3):this.Ff=Mr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');k=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(k){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};ca(js,so);var pc=function(){js.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cy(e,this.objId,this.scope)},set:function(n){var a,o;o=[],typeof(a=n)=="string"&&(o=(function(s,c,h){h||(h=1);for(var f,d=[];f=c.exec(s);)d.push(f[h]);return d})(a,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(n){n?this.Ff=Pr(this.Ff,18):this.Ff=Mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Pr(this.Ff,19):this.Ff=Mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(n){n?(this.Ff=Pr(this.Ff,20),e.sort()):this.Ff=Mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(n){n?this.Ff=Pr(this.Ff,22):this.Ff=Mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(n){n?this.Ff=Pr(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(n){n?this.Ff=Pr(this.Ff,27):this.Ff=Mr(this.Ff,27)}}),this.hasAppearanceStream=!1};ca(pc,js);var gc=function(){pc.call(this),this.fontName="helvetica",this.combo=!1};ca(gc,pc);var vc=function(){gc.call(this),this.combo=!0};ca(vc,gc);var rd=function(){vc.call(this),this.edit=!0};ca(rd,vc);var fi=function(){js.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(n){n?this.Ff=Pr(this.Ff,15):this.Ff=Mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(n){n?this.Ff=Pr(this.Ff,16):this.Ff=Mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(n){n?this.Ff=Pr(this.Ff,17):this.Ff=Mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(n){n?this.Ff=Pr(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,o=[];for(a in o.push("<<"),e)o.push("/"+a+" ("+mu(n(e[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};ca(fi,js);var id=function(){fi.call(this),this.pushButton=!0};ca(id,fi);var mc=function(){fi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ca(mc,fi);var bd=function(){var r,e;js.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),a)c.push("/"+s+" ("+mu(o(a[s]))+")");return c.push(">>"),c.join(`
`)},set:function(o){Rn(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ca(bd,js),mc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},mc.prototype.createOption=function(r){var e=new bd;return e.Parent=this,e.optionName=r,this.Kids.push(e),_x.call(this.scope,e),e};var ad=function(){fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};ca(ad,fi);var du=function(){js.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(e){e?this.Ff=Pr(this.Ff,13):this.Ff=Mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(e){e?this.Ff=Pr(this.Ff,21):this.Ff=Mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(e){e?this.Ff=Pr(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(e){e?this.Ff=Pr(this.Ff,24):this.Ff=Mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(e){e?this.Ff=Pr(this.Ff,25):this.Ff=Mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(e){e?this.Ff=Pr(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ca(du,js);var sd=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(r){r?this.Ff=Pr(this.Ff,14):this.Ff=Mr(this.Ff,14)}}),this.password=!0};ca(sd,du);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=io(r);e.scope=r.scope;var n=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),s=Q0(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Jt(s.fontSize)+" Tf "+o),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=io(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=[],s=xt.internal.getHeight(r),c=xt.internal.getWidth(r),h=Q0(r,r.caption);return o.push("1 g"),o.push("0 0 "+Jt(c)+" "+Jt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Jt(c-1)+" "+Jt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Jt(h.fontSize)+" Tf "+a),o.push(h.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=io(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Circle.YesNormal,e.D[r]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=io(r);e.scope=r.scope;var n=[],a=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=xt.internal.Bezier_C,s=Number((a*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ol(xt.internal.getWidth(r)/2)+" "+Ol(xt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=io(r);e.scope=r.scope;var n=[],a=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),s=Number((o*xt.internal.Bezier_C).toFixed(5)),c=Number((a*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ol(xt.internal.getWidth(r)/2)+" "+Ol(xt.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ol(xt.internal.getWidth(r)/2)+" "+Ol(xt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=io(r);e.scope=r.scope;var n=[],a=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),s=Number((o*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ol(xt.internal.getWidth(r)/2)+" "+Ol(xt.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Cross.YesNormal,e.D[r]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=io(r);e.scope=r.scope;var n=[],a=xt.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+Jt(xt.internal.getWidth(r)-2)+" "+Jt(xt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(a.x1.x)+" "+Jt(a.x1.y)+" m"),n.push(Jt(a.x2.x)+" "+Jt(a.x2.y)+" l"),n.push(Jt(a.x4.x)+" "+Jt(a.x4.y)+" m"),n.push(Jt(a.x3.x)+" "+Jt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=io(r);e.scope=r.scope;var n=xt.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Jt(xt.internal.getWidth(r)-2)+" "+Jt(xt.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),a.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),a.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),a.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=io(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};xt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=xt.internal.getWidth(r),n=xt.internal.getHeight(r),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},xt.internal.getWidth=function(r){var e=0;return Rn(r)==="object"&&(e=nm(r.Rect[2])),e},xt.internal.getHeight=function(r){var e=0;return Rn(r)==="object"&&(e=nm(r.Rect[3])),e};var _x=Ar.addField=function(r){if(wx(this,r),!(r instanceof js))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ar.AcroFormChoiceField=pc,Ar.AcroFormListBox=gc,Ar.AcroFormComboBox=vc,Ar.AcroFormEditBox=rd,Ar.AcroFormButton=fi,Ar.AcroFormPushButton=id,Ar.AcroFormRadioButton=mc,Ar.AcroFormCheckBox=ad,Ar.AcroFormTextField=du,Ar.AcroFormPasswordField=sd,Ar.AcroFormAppearance=xt,Ar.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:vc,EditBox:rd,Button:fi,PushButton:id,RadioButton:mc,CheckBox:ad,TextField:du,PasswordField:sd,Appearance:xt},kt.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:vc,EditBox:rd,Button:fi,PushButton:id,RadioButton:mc,CheckBox:ad,TextField:du,PasswordField:sd,Appearance:xt};kt.AcroForm;function Py(r){return r.reduce(function(e,n,a){return e[n]=a,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=r.__addimage__.getImageFileTypeByImageData=function(D,F){var Q,ee,be,Z,ue,ce=n;if((F=F||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(Ee(D))for(ue in a)for(be=a[ue],Q=0;Q<be.length;Q+=1){for(Z=!0,ee=0;ee<be[Q].length;ee+=1)if(be[Q][ee]!==void 0&&be[Q][ee]!==D[ee]){Z=!1;break}if(Z===!0){ce=ue;break}}else for(ue in a)for(be=a[ue],Q=0;Q<be.length;Q+=1){for(Z=!0,ee=0;ee<be[Q].length;ee+=1)if(be[Q][ee]!==void 0&&be[Q][ee]!==D.charCodeAt(ee)){Z=!1;break}if(Z===!0){ce=ue;break}}return ce===n&&F!==n&&(ce=F),ce},s=function D(F){for(var Q=this.internal.write,ee=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:F.width}),Z.push({key:"Height",value:F.height}),F.colorSpace===N.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===N.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ue="",ce=0,Ne=F.transparency.length;ce<Ne;ce++)ue+=F.transparency[ce]+" "+F.transparency[ce]+" ";Z.push({key:"Mask",value:"["+ue+"]"})}F.sMask!==void 0&&Z.push({key:"SMask",value:F.objectId+1+" 0 R"});var G=F.filter!==void 0?["/"+F.filter]:void 0;if(ee({data:F.data,additionalKeyValues:Z,alreadyAppliedFilters:G,objectId:F.objectId}),Q("endobj"),"sMask"in F&&F.sMask!==void 0){var se,j=(se=F.sMaskBitsPerComponent)!==null&&se!==void 0?se:F.bitsPerComponent,U={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:F.sMask};"filter"in F&&(U.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(F.width),U.filter=F.filter),D.call(this,U)}if(F.colorSpace===N.INDEXED){var V=this.internal.newObject();ee({data:oe(new Uint8Array(F.palette)),objectId:V}),Q("endobj")}},c=function(){var D=this.internal.collections[e+"images"];for(var F in D)s.call(this,D[F])},h=function(){var D,F=this.internal.collections[e+"images"],Q=this.internal.write;for(var ee in F)Q("/I"+(D=F[ee]).index,D.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var D=this.internal.collections[e+"images"];return f.call(this),D},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(D){return typeof r["process"+D.toUpperCase()]=="function"},x=function(D){return Rn(D)==="object"&&D.nodeType===1},y=function(D,F){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var Q=""+D.getAttribute("src");if(Q.indexOf("data:image/")===0)return nd(unescape(Q).split("base64,").pop());var ee=r.loadFile(Q,!0);if(ee!==void 0)return ee}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var be;switch(F){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return nd(D.toDataURL(be,1).split("base64,").pop())}},E=function(D){var F=this.internal.collections[e+"images"];if(F){for(var Q in F)if(D===F[Q].alias)return F[Q]}},L=function(D,F,Q){return D||F||(D=-96,F=-96),D<0&&(D=-1*Q.width*72/D/this.internal.scaleFactor),F<0&&(F=-1*Q.height*72/F/this.internal.scaleFactor),D===0&&(D=F*Q.width/Q.height),F===0&&(F=D*Q.height/Q.width),[D,F]},k=function(D,F,Q,ee,be,Z){var ue=L.call(this,Q,ee,be),ce=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,G=d.call(this);if(Q=ue[0],ee=ue[1],G[be.index]=be,Z){Z*=Math.PI/180;var se=Math.cos(Z),j=Math.sin(Z),U=function(te){return te.toFixed(4)},V=[U(se),U(j),U(-1*j),U(se),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,ce(D),Ne(F+ee),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ce(Q),"0","0",ce(ee),"0","0","cm"].join(" "))):this.internal.write([ce(Q),"0","0",ce(ee),ce(D),Ne(F+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},N=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=r.__addimage__.sHashCode=function(D){var F,Q,ee=0;if(typeof D=="string")for(Q=D.length,F=0;F<Q;F++)ee=(ee<<5)-ee+D.charCodeAt(F),ee|=0;else if(Ee(D))for(Q=D.byteLength/2,F=0;F<Q;F++)ee=(ee<<5)-ee+D[F],ee|=0;return ee},z=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var F=!0;return D.length===0&&(F=!1),D.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(F=!1),F},ae=r.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var F=D.indexOf(",");return F<0?null:D.substring(0,F).trim().endsWith("base64")?D.substring(F+1):null};r.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var Ee=r.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},ye=r.__addimage__.binaryStringToUint8Array=function(D){for(var F=D.length,Q=new Uint8Array(F),ee=0;ee<F;ee++)Q[ee]=D.charCodeAt(ee);return Q},oe=r.__addimage__.arrayBufferToBinaryString=function(D){for(var F="",Q=Ee(D)?D:new Uint8Array(D),ee=0;ee<Q.length;ee+=8192)F+=String.fromCharCode.apply(null,Q.subarray(ee,ee+8192));return F};r.addImage=function(){var D,F,Q,ee,be,Z,ue,ce,Ne;if(typeof arguments[1]=="number"?(F=n,Q=arguments[1],ee=arguments[2],be=arguments[3],Z=arguments[4],ue=arguments[5],ce=arguments[6],Ne=arguments[7]):(F=arguments[1],Q=arguments[2],ee=arguments[3],be=arguments[4],Z=arguments[5],ue=arguments[6],ce=arguments[7],Ne=arguments[8]),Rn(D=arguments[0])==="object"&&!x(D)&&"imageData"in D){var G=D;D=G.imageData,F=G.format||F||n,Q=G.x||Q||0,ee=G.y||ee||0,be=G.w||G.width||be,Z=G.h||G.height||Z,ue=G.alias||ue,ce=G.compression||ce,Ne=G.rotation||G.angle||Ne}var se=this.internal.getFilters();if(ce===void 0&&se.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(Q)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=W.call(this,D,F,ue,ce);return k.call(this,Q,ee,be,Z,j,Ne),this};var W=function(D,F,Q,ee){var be,Z,ue;if(typeof D=="string"&&o(D)===n){D=unescape(D);var ce=ve(D,!1);(ce!==""||(ce=r.loadFile(D,!0))!==void 0)&&(D=ce)}if(x(D)&&(D=y(D,F)),F=o(D,F),!_(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ue=Q)==null||ue.length===0)&&(Q=(function(Ne){return typeof Ne=="string"||Ee(Ne)?I(Ne):Ee(Ne.data)?I(Ne.data):null})(D)),(be=E.call(this,Q))||(D instanceof Uint8Array||F==="RGBA"||(Z=D,D=ye(D)),be=this["process"+F.toUpperCase()](D,v.call(this),Q,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in r.image_compression?Ne:$.NONE})(ee),Z)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},ve=r.__addimage__.convertBase64ToBinaryString=function(D,F){F=typeof F!="boolean"||F;var Q,ee="";if(typeof D=="string"){var be;Q=(be=ae(D))!==null&&be!==void 0?be:D;try{ee=nd(Q)}catch(Z){if(F)throw z(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};r.getImageProperties=function(D){var F,Q,ee="";if(x(D)&&(D=y(D)),typeof D=="string"&&o(D)===n&&((ee=ve(D,!1))===""&&(ee=r.loadFile(D)||""),D=ee),Q=o(D),!_(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(D instanceof Uint8Array||(D=ye(D)),!(F=this["process"+Q.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Q,F}})(kt.API),(function(r){var e=function(n){if(n!==void 0&&n!="")return!0};kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var a,o,s,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,v=!1,_=0;_<d.length&&!v;_++)switch((a=d[_]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){a=d[x];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(L.objId),$=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+c(a.bounds.x)+" "+h(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y)+"] ")+"/Contents ("+y(N(a.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+y(N($))+") >>",L.content=s;var I=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+c(a.bounds.x+30)+" "+h(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+h(a.bounds.y)+"] ")+" /Parent "+I,a.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(L.objId,"0 R",k.objId,"0 R");break;case"freetext":o="/Rect ["+c(a.bounds.x)+" "+h(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y+a.bounds.h)+"] ";var z=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+y(E(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var ae=this.annotations._nameMap[a.options.name];a.options.pageNumber=ae.page,a.options.top=ae.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;default:var Ee=h(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+Ee+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},r.link=function(n,a,o,s,c){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(n),y:d(a),w:f(n+o),h:d(a+s)},options:c,type:"link"})},r.textWithLink=function(n,a,o,s){var c,h,f=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){h=s.maxWidth;var v=this.splitTextToSize(n,h).length;c=Math.ceil(d*v)}else h=f,c=d;return this.text(n,a,o,s),o+=.2*d,s.align==="center"&&(a-=f/2),s.align==="right"&&(a-=f),this.link(a,o-d,h,c,s),f},r.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(kt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},c=r.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},h=r.__arabicParser__.isArabicEndLetter=function(L){return c(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(L){return c(L)&&o.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return c(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return c(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return c(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return c(L)&&s(L)&&e[L.charCodeAt(0)].length==4},_=r.__arabicParser__.resolveLigatures=function(L){var k=0,N=n,$="",I=0;for(k=0;k<L.length;k+=1)N[L.charCodeAt(k)]!==void 0?(I++,typeof(N=N[L.charCodeAt(k)])=="number"&&($+=String.fromCharCode(N),N=n,I=0),k===L.length-1&&(N=n,$+=L.charAt(k-(I-1)),k-=I-1,I=0)):(N=n,$+=L.charAt(k-I),k-=I,I=0);return $};r.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&a[L.charCodeAt(0)]!==void 0};var x=r.__arabicParser__.getCorrectForm=function(L,k,N){return c(L)?s(L)===!1?-1:!d(L)||!c(k)&&!c(N)||!c(N)&&h(k)||h(L)&&!c(k)||h(L)&&f(k)||h(L)&&h(k)?0:v(L)&&c(k)&&!h(k)&&c(N)&&d(N)?3:h(L)||!c(N)?1:2:-1},y=function(L){var k=0,N=0,$=0,I="",z="",ae="",Ee=(L=L||"").split("\\s+"),ye=[];for(k=0;k<Ee.length;k+=1){for(ye.push(""),N=0;N<Ee[k].length;N+=1)I=Ee[k][N],z=Ee[k][N-1],ae=Ee[k][N+1],c(I)?($=x(I,z,ae),ye[k]+=$!==-1?String.fromCharCode(e[I.charCodeAt(0)][$]):I):ye[k]+=I;ye[k]=_(ye[k])}return ye.join(" ")},E=r.__arabicParser__.processArabic=r.processArabic=function(){var L,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(k)){var $=0;for(N=[],$=0;$<k.length;$+=1)Array.isArray(k[$])?N.push([y(k[$][0]),k[$][1],k[$][2]]):N.push([y(k[$])]);L=N}else L=y(k);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",E])})(kt.API),kt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(h){s=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var o;if((n=n||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(L){f=L}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(L){d=L}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(L){v=L}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(L){_=L}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(L){y=L}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(L){E=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){a.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),_=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,y=0,E=0,L=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var N=d.maxWidth;N>0?typeof f=="string"?f=this.splitTextToSize(f,N):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(I,z){return I.concat(k.splitTextToSize(z,N))},[])):f=Array.isArray(f)?f:[f];for(var $=0;$<f.length;$++)y<(L=this.getStringUnitWidth(f[$],{font:_})*v)&&(y=L);return y!==0&&(E=f.length),{w:y/=x,h:Math.max((E*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/x,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=r.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=_.top,y&&x&&(this.printHeaderRow(f.lineNumber,!0),f.y+=x[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,v,_,x){if(a.call(this),!v)throw new Error("No data for PDF table.");var y,E,L,k,N=[],$=[],I=[],z={},ae={},Ee=[],ye=[],oe=(x=x||{}).autoSize||!1,W=x.printHeaders!==!1,ve=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,D=x.margins||Object.assign({width:this.getPageWidth()},e),F=typeof x.padding=="number"?x.padding:3,Q=x.headerBackgroundColor||"#c8c8c8",ee=x.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=ve,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=ee,this.setFontSize(ve),_==null)$=N=Object.keys(v[0]),I=N.map(function(){return"left"});else if(Array.isArray(_)&&Rn(_[0])==="object")for(N=_.map(function(G){return G.name}),$=_.map(function(G){return G.prompt||G.name||""}),I=_.map(function(G){return G.align||"left"}),y=0;y<_.length;y+=1)ae[_[y].name]=.7499990551181103*_[y].width;else Array.isArray(_)&&typeof _[0]=="string"&&($=N=_,I=N.map(function(){return"left"}));if(oe||Array.isArray(_)&&typeof _[0]=="string")for(y=0;y<N.length;y+=1){for(z[k=N[y]]=v.map(function(G){return G[k]}),this.setFont(void 0,"bold"),Ee.push(this.getTextDimensions($[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=z[k],this.setFont(void 0,"normal"),L=0;L<E.length;L+=1)Ee.push(this.getTextDimensions(E[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[k]=Math.max.apply(null,Ee)+F+F,Ee=[]}if(W){var be={};for(y=0;y<N.length;y+=1)be[N[y]]={},be[N[y]].text=$[y],be[N[y]].align=I[y];var Z=h.call(this,be,ae);ye=N.map(function(G){return new s(f,d,ae[G],Z,be[G].text,void 0,be[G].align)}),this.setTableHeaderRow(ye),this.printHeaderRow(1,!1)}var ue=_.reduce(function(G,se){return G[se.name]=se.align,G},{});for(y=0;y<v.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:v[y]},this);var ce=h.call(this,v[y],ae);for(L=0;L<N.length;L+=1){var Ne=v[y][N[L]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:L,data:Ne},this),c.call(this,new s(f,d,ae[N[L]],ce,Ne,y+2,ue[N[L]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(f).map(function(y){var E=f[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[y]-v-v)},this).map(function(y){return this.getLineHeightFactor()*y.length*_/x+v+v},this).reduce(function(y,E){return Math.max(y,E)},0)};r.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){v=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,x.push(v)),v.lineNumber=f;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,v),this.setTextColor(E)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}})(kt.API);var My={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},By=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e1=Py(By),Uy=[100,200,300,400,500,600,700,800,900],Sx=Py(Uy);function v0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return My[s=s||"normal"]?s:"normal"})(r.style),a=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),o=(function(s){return typeof e1[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:e,style:n,weight:a,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,n,a].join(" ")}}}function rm(r,e,n,a){var o;for(o=n;o>=0&&o<e.length;o+=a)if(r[e[o]])return r[e[o]];for(o=n;o>=0&&o<e.length;o-=a)if(r[e[o]])return r[e[o]]}var xx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},im={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function am(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function sm(r){return r.trimLeft()}function Ax(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function Ex(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Kf,om,lm,ac,Xf,um,cm,hm,m0=["times"];function fm(r,e,n,a,o){var s=4,c=pm;switch(o){case kt.API.image_compression.FAST:s=1,c=dm;break;case kt.API.image_compression.MEDIUM:s=6,c=gm;break;case kt.API.image_compression.SLOW:s=9,c=vm}r=(function(f,d,v,_){for(var x,y=f.length/d,E=new Uint8Array(f.length+y),L=[Nx,dm,pm,gm,vm],k=0;k<y;k+=1){var N=k*d,$=f.subarray(N,N+d);if(_)E.set(_($,v,x),N+k);else{for(var I=L.length,z=[],ae=0;ae<I;ae+=1)z[ae]=L[ae]($,v,x);var Ee=Ox(z.concat());E.set(z[Ee],N+k)}x=$}return E})(r,e,Math.ceil(n*a/8),c);var h=Y0(r,{level:s});return kt.API.__addimage__.arrayBufferToBinaryString(h)}function Nx(r){var e=Array.apply([],r);return e.unshift(0),e}function dm(r,e){var n=r.length,a=[];a[0]=1;for(var o=0;o<n;o+=1){var s=r[o-e]||0;a[o+1]=r[o]-s+256&255}return a}function pm(r,e,n){var a=r.length,o=[];o[0]=2;for(var s=0;s<a;s+=1){var c=n&&n[s]||0;o[s+1]=r[s]-c+256&255}return o}function gm(r,e,n){var a=r.length,o=[];o[0]=3;for(var s=0;s<a;s+=1){var c=r[s-e]||0,h=n&&n[s]||0;o[s+1]=r[s]+256-(c+h>>>1)&255}return o}function vm(r,e,n){var a=r.length,o=[];o[0]=4;for(var s=0;s<a;s+=1){var c=Tx(r[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);o[s+1]=r[s]-c+256&255}return o}function Tx(r,e,n){if(r===e&&e===n)return r;var a=Math.abs(e-n),o=Math.abs(r-n),s=Math.abs(r+e-n-n);return a<=o&&a<=s?r:o<=s?e:n}function Ox(r){var e=r.map(function(n){return n.reduce(function(a,o){return a+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function y0(r,e,n){var a=e*n,o=Math.floor(a/8),s=16-(a-8*o+n),c=(1<<n)-1;return Iy(r,o)>>s&c}function mm(r,e,n,a){var o=n*a,s=Math.floor(o/8),c=16-(o-8*s+a),h=(1<<a)-1,f=(e&h)<<c;(function(d,v,_){if(v+1<d.byteLength)d.setUint16(v,_,!1);else{var x=_>>8&255;d.setUint8(v,x)}})(r,s,Iy(r,s)&~(h<<c)&65535|f)}function Iy(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Lx(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,a=r[e++]|r[e++]<<8,o=r[e++],s=o>>7,c=1<<1+(7&o);r[e++],r[e++];var h=null,f=null;s&&(h=e,f=c,e+=3*c);var d=!0,v=[],_=0,x=null,y=0,E=null;for(this.width=n,this.height=a;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,E=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=r[e++];_=r[e++]|r[e++]<<8,x=r[e++],1&L||(x=null),y=L>>2&7,e++;break;case 254:for(;;){if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var k=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,$=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,z=r[e++],ae=z>>6&1,Ee=1<<1+(7&z),ye=h,oe=f,W=!1;z>>7&&(W=!0,ye=e,oe=Ee,e+=3*Ee);var ve=e;for(e++;;){var D;if(!((D=r[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}v.push({x:k,y:N,width:$,height:I,has_local_palette:W,palette_offset:ye,palette_size:oe,data_offset:ve,data_length:e-ve,transparent_index:x,interlaced:!!ae,delay:_,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return E},this.frameInfo=function(F){if(F<0||F>=v.length)throw new Error("Frame index out of range.");return v[F]},this.decodeAndBlitFrameBGRA=function(F,Q){var ee=this.frameInfo(F),be=ee.width*ee.height,Z=new Uint8Array(be);ym(r,ee.data_offset,Z,be);var ue=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var Ne=ee.width,G=n-Ne,se=Ne,j=4*(ee.y*n+ee.x),U=4*((ee.y+ee.height)*n+ee.x),V=j,te=4*G;ee.interlaced===!0&&(te+=4*n*7);for(var ne=8,pe=0,_e=Z.length;pe<_e;++pe){var ke=Z[pe];if(se===0&&(se=Ne,(V+=te)>=U&&(te=4*G+4*n*(ne-1),V=j+(Ne+G)*(ne<<1),ne>>=1)),ke===ce)V+=4;else{var Me=r[ue+3*ke],Ye=r[ue+3*ke+1],Qe=r[ue+3*ke+2];Q[V++]=Qe,Q[V++]=Ye,Q[V++]=Me,Q[V++]=255}--se}},this.decodeAndBlitFrameRGBA=function(F,Q){var ee=this.frameInfo(F),be=ee.width*ee.height,Z=new Uint8Array(be);ym(r,ee.data_offset,Z,be);var ue=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var Ne=ee.width,G=n-Ne,se=Ne,j=4*(ee.y*n+ee.x),U=4*((ee.y+ee.height)*n+ee.x),V=j,te=4*G;ee.interlaced===!0&&(te+=4*n*7);for(var ne=8,pe=0,_e=Z.length;pe<_e;++pe){var ke=Z[pe];if(se===0&&(se=Ne,(V+=te)>=U&&(te=4*G+4*n*(ne-1),V=j+(Ne+G)*(ne<<1),ne>>=1)),ke===ce)V+=4;else{var Me=r[ue+3*ke],Ye=r[ue+3*ke+1],Qe=r[ue+3*ke+2];Q[V++]=Me,Q[V++]=Ye,Q[V++]=Qe,Q[V++]=255}--se}}}function ym(r,e,n,a){for(var o=r[e++],s=1<<o,c=s+1,h=c+1,f=o+1,d=(1<<f)-1,v=0,_=0,x=0,y=r[e++],E=new Int32Array(4096),L=null;;){for(;v<16&&y!==0;)_|=r[e++]<<v,v+=8,y===1?y=r[e++]:--y;if(v<f)break;var k=_&d;if(_>>=f,v-=f,k!==s){if(k===c)break;for(var N=k<h?k:L,$=0,I=N;I>s;)I=E[I]>>8,++$;var z=I;if(x+$+(N!==k?1:0)>a)return void Gn.log("Warning, gif stream longer than expected.");n[x++]=z;var ae=x+=$;for(N!==k&&(n[x++]=z),I=N;$--;)I=E[I],n[--ae]=255&I,I>>=8;L!==null&&h<4096&&(E[h++]=L<<8|z,h>=d+1&&f<12&&(++f,d=d<<1|1)),L=k}else h=c+1,d=(1<<(f=o+1))-1,L=null}return x!==a&&Gn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function b0(r){var e,n,a,o,s,c=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),_=new Array(65535),x=new Array(65535),y=new Array(64),E=new Array(64),L=[],k=0,N=7,$=new Array(64),I=new Array(64),z=new Array(64),ae=new Array(256),Ee=new Array(2048),ye=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],oe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(j,U){for(var V=0,te=0,ne=new Array,pe=1;pe<=16;pe++){for(var _e=1;_e<=j[pe];_e++)ne[U[te]]=[],ne[U[te]][0]=V,ne[U[te]][1]=pe,te++,V++;V*=2}return ne}function ue(j){for(var U=j[0],V=j[1]-1;V>=0;)U&1<<V&&(k|=1<<N),V--,--N<0&&(k==255?(ce(255),ce(0)):ce(k),N=7,k=0)}function ce(j){L.push(j)}function Ne(j){ce(j>>8&255),ce(255&j)}function G(j,U,V,te,ne){for(var pe,_e=ne[0],ke=ne[240],Me=(function(Ie,ot){var st,ze,xe,Re,lt,et,gt,at,Xe,At,ct=0;for(Xe=0;Xe<8;++Xe){st=Ie[ct],ze=Ie[ct+1],xe=Ie[ct+2],Re=Ie[ct+3],lt=Ie[ct+4],et=Ie[ct+5],gt=Ie[ct+6];var Nn=st+(at=Ie[ct+7]),Zt=st-at,_t=ze+gt,vt=ze-gt,Dt=xe+et,Et=xe-et,Wt=Re+lt,Lt=Re-lt,It=Nn+Wt,pn=Nn-Wt,qt=_t+Dt,jt=_t-Dt;Ie[ct]=It+qt,Ie[ct+4]=It-qt;var Kt=.707106781*(jt+pn);Ie[ct+2]=pn+Kt,Ie[ct+6]=pn-Kt;var gn=.382683433*((It=Lt+Et)-(jt=vt+Zt)),qn=.5411961*It+gn,Ti=1.306562965*jt+gn,$r=.707106781*(qt=Et+vt),Rt=Zt+$r,Kn=Zt-$r;Ie[ct+5]=Kn+qn,Ie[ct+3]=Kn-qn,Ie[ct+1]=Rt+Ti,Ie[ct+7]=Rt-Ti,ct+=8}for(ct=0,Xe=0;Xe<8;++Xe){st=Ie[ct],ze=Ie[ct+8],xe=Ie[ct+16],Re=Ie[ct+24],lt=Ie[ct+32],et=Ie[ct+40],gt=Ie[ct+48];var Tn=st+(at=Ie[ct+56]),_n=st-at,On=ze+gt,Sn=ze-gt,dn=xe+et,Vn=xe-et,ha=Re+lt,ei=Re-lt,ti=Tn+ha,Gr=Tn-ha,mr=On+dn,Br=On-dn;Ie[ct]=ti+mr,Ie[ct+32]=ti-mr;var yr=.707106781*(Br+Gr);Ie[ct+16]=Gr+yr,Ie[ct+48]=Gr-yr;var Ln=.382683433*((ti=ei+Vn)-(Br=Sn+_n)),Oi=.5411961*ti+Ln,ni=1.306562965*Br+Ln,di=.707106781*(mr=Vn+Sn),Li=_n+di,Ja=_n-di;Ie[ct+40]=Ja+Oi,Ie[ct+24]=Ja-Oi,Ie[ct+8]=Li+ni,Ie[ct+56]=Li-ni,ct++}for(Xe=0;Xe<64;++Xe)At=Ie[Xe]*ot[Xe],y[Xe]=At>0?At+.5|0:At-.5|0;return y})(j,U),Ye=0;Ye<64;++Ye)E[ye[Ye]]=Me[Ye];var Qe=E[0]-V;V=E[0],Qe==0?ue(te[0]):(ue(te[x[pe=32767+Qe]]),ue(_[pe]));for(var Je=63;Je>0&&E[Je]==0;)Je--;if(Je==0)return ue(_e),V;for(var ut,Y=1;Y<=Je;){for(var Ze=Y;E[Y]==0&&Y<=Je;)++Y;var it=Y-Ze;if(it>=16){ut=it>>4;for(var ft=1;ft<=ut;++ft)ue(ke);it&=15}pe=32767+E[Y],ue(ne[(it<<4)+x[pe]]),ue(_[pe]),Y++}return Je!=63&&ue(_e),V}function se(j){j=Math.min(Math.max(j,1),100),s!=j&&((function(U){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=c((V[te]*U+50)/100);ne=Math.min(Math.max(ne,1),255),h[ye[te]]=ne}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ke=c((pe[_e]*U+50)/100);ke=Math.min(Math.max(ke,1),255),f[ye[_e]]=ke}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,Qe=0;Qe<8;Qe++)for(var Je=0;Je<8;Je++)d[Ye]=1/(h[ye[Ye]]*Me[Qe]*Me[Je]*8),v[Ye]=1/(f[ye[Ye]]*Me[Qe]*Me[Je]*8),Ye++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,U){U&&se(U),L=new Array,k=0,N=7,Ne(65496),Ne(65504),Ne(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Ne(1),Ne(1),ce(0),ce(0),(function(){Ne(65499),Ne(132),ce(0);for(var ze=0;ze<64;ze++)ce(h[ze]);ce(1);for(var xe=0;xe<64;xe++)ce(f[xe])})(),(function(ze,xe){Ne(65472),Ne(17),ce(8),Ne(xe),Ne(ze),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(j.width,j.height),(function(){Ne(65476),Ne(418),ce(0);for(var ze=0;ze<16;ze++)ce(oe[ze+1]);for(var xe=0;xe<=11;xe++)ce(W[xe]);ce(16);for(var Re=0;Re<16;Re++)ce(ve[Re+1]);for(var lt=0;lt<=161;lt++)ce(D[lt]);ce(1);for(var et=0;et<16;et++)ce(F[et+1]);for(var gt=0;gt<=11;gt++)ce(Q[gt]);ce(17);for(var at=0;at<16;at++)ce(ee[at+1]);for(var Xe=0;Xe<=161;Xe++)ce(be[Xe])})(),Ne(65498),Ne(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var V=0,te=0,ne=0;k=0,N=7,this.encode.displayName="_encode_";for(var pe,_e,ke,Me,Ye,Qe,Je,ut,Y,Ze=j.data,it=j.width,ft=j.height,Ie=4*it,ot=0;ot<ft;){for(pe=0;pe<Ie;){for(Ye=Ie*ot+pe,Je=-1,ut=0,Y=0;Y<64;Y++)Qe=Ye+(ut=Y>>3)*Ie+(Je=4*(7&Y)),ot+ut>=ft&&(Qe-=Ie*(ot+1+ut-ft)),pe+Je>=Ie&&(Qe-=pe+Je-Ie+4),_e=Ze[Qe++],ke=Ze[Qe++],Me=Ze[Qe++],$[Y]=(Ee[_e]+Ee[ke+256|0]+Ee[Me+512|0]>>16)-128,I[Y]=(Ee[_e+768|0]+Ee[ke+1024|0]+Ee[Me+1280|0]>>16)-128,z[Y]=(Ee[_e+1280|0]+Ee[ke+1536|0]+Ee[Me+1792|0]>>16)-128;V=G($,d,V,e,a),te=G(I,v,te,n,o),ne=G(z,v,ne,n,o),pe+=32}ot+=8}if(N>=0){var st=[];st[1]=N+1,st[0]=(1<<N+1)-1,ue(st)}return Ne(65497),new Uint8Array(L)},r=r||50,(function(){for(var j=String.fromCharCode,U=0;U<256;U++)ae[U]=j(U)})(),e=Z(oe,W),n=Z(F,Q),a=Z(ve,D),o=Z(ee,be),(function(){for(var j=1,U=2,V=1;V<=15;V++){for(var te=j;te<U;te++)x[32767+te]=V,_[32767+te]=[],_[32767+te][1]=V,_[32767+te][0]=te;for(var ne=-(U-1);ne<=-j;ne++)x[32767+ne]=V,_[32767+ne]=[],_[32767+ne][1]=V,_[32767+ne][0]=U-1+ne;j<<=1,U<<=1}})(),(function(){for(var j=0;j<256;j++)Ee[j]=19595*j,Ee[j+256|0]=38470*j,Ee[j+512|0]=7471*j+32768,Ee[j+768|0]=-11059*j,Ee[j+1024|0]=-21709*j,Ee[j+1280|0]=32768*j+8421375,Ee[j+1536|0]=-27439*j,Ee[j+1792|0]=-5329*j})(),se(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Es(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bm(r){function e(W){if(!W)throw Error("assert :P")}function n(W,ve,D){for(var F=0;4>F;F++)if(W[ve+F]!=D.charCodeAt(F))return!0;return!1}function a(W,ve,D,F,Q){for(var ee=0;ee<Q;ee++)W[ve+ee]=D[F+ee]}function o(W,ve,D,F){for(var Q=0;Q<F;Q++)W[ve+Q]=D}function s(W){return new Int32Array(W)}function c(W,ve){for(var D=[],F=0;F<W;F++)D.push(new ve);return D}function h(W,ve){var D=[];return(function F(Q,ee,be){for(var Z=be[ee],ue=0;ue<Z&&(Q.push(be.length>ee+1?[]:new ve),!(be.length<ee+1));ue++)F(Q[ue],ee+1,be)})(D,0,W),D}var f=function(){var W=this;function ve(p,m){for(var S=1<<m-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function D(p,m,S,A,R){e(!(A%S));do p[m+(A-=S)]=R;while(0<A)}function F(p,m,S,A,R){if(e(2328>=R),512>=R)var P=s(512);else if((P=s(R))==null)return 0;return(function(M,q,H,X,he,Te){var K,de,we=q,De=1<<H,Ae=s(16),Ue=s(16);for(e(he!=0),e(X!=null),e(M!=null),e(0<H),de=0;de<he;++de){if(15<X[de])return 0;++Ae[X[de]]}if(Ae[0]==he)return 0;for(Ue[1]=0,K=1;15>K;++K){if(Ae[K]>1<<K)return 0;Ue[K+1]=Ue[K]+Ae[K]}for(de=0;de<he;++de)K=X[de],0<X[de]&&(Te[Ue[K]++]=de);if(Ue[15]==1)return(X=new Q).g=0,X.value=Te[0],D(M,we,1,De,X),De;var Be,Ke=-1,Ge=De-1,Nt=0,ht=1,$t=1,pt=1<<H;for(de=0,K=1,he=2;K<=H;++K,he<<=1){if(ht+=$t<<=1,0>($t-=Ae[K]))return 0;for(;0<Ae[K];--Ae[K])(X=new Q).g=K,X.value=Te[de++],D(M,we+Nt,he,pt,X),Nt=ve(Nt,K)}for(K=H+1,he=2;15>=K;++K,he<<=1){if(ht+=$t<<=1,0>($t-=Ae[K]))return 0;for(;0<Ae[K];--Ae[K]){if(X=new Q,(Nt&Ge)!=Ke){for(we+=pt,Be=1<<(Ke=K)-H;15>Ke&&!(0>=(Be-=Ae[Ke]));)++Ke,Be<<=1;De+=pt=1<<(Be=Ke-H),M[q+(Ke=Nt&Ge)].g=Be+H,M[q+Ke].value=we-q-Ke}X.g=K-H,X.value=Te[de++],D(M,we+(Nt>>H),he,pt,X),Nt=ve(Nt,K)}}return ht!=2*Ue[15]-1?0:De})(p,m,S,A,R,P)}function Q(){this.value=this.g=0}function ee(){this.value=this.g=0}function be(){this.G=c(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(ls,ee)}function Z(p,m,S,A){e(p!=null),e(m!=null),e(2147483648>A),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=m,p.pa=S,p.Jd=m,p.Yc=S+A,p.Zc=4<=A?S+A-4+1:S,_e(p)}function ue(p,m){for(var S=0;0<m--;)S|=Me(p,128)<<m;return S}function ce(p,m){var S=ue(p,m);return ke(p)?-S:S}function Ne(p,m,S,A){var R,P=0;for(e(p!=null),e(m!=null),e(4294967288>A),p.Sb=A,p.Ra=0,p.u=0,p.h=0,4<A&&(A=4),R=0;R<A;++R)P+=m[S+R]<<8*R;p.Ra=P,p.bb=A,p.oa=m,p.pa=S}function G(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<us-8>>>0,++p.bb,p.u-=8;te(p)&&(p.h=1,p.u=0)}function se(p,m){if(e(0<=m),!p.h&&m<=Ci){var S=V(p)&vi[m];return p.u+=m,G(p),S}return p.h=1,p.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(p){return p.Ra>>>(p.u&us-1)>>>0}function te(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>us}function ne(p,m){p.u=m,p.h=te(p)}function pe(p){p.u>=Ba&&(e(p.u>=Ba),G(p))}function _e(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ke(p){return ue(p,1)}function Me(p,m){var S=p.Ca;0>p.b&&_e(p);var A=p.b,R=S*m>>>8,P=(p.I>>>A>R)+0;for(P?(S-=R,p.I-=R+1<<A>>>0):S=R+1,A=S,R=0;256<=A;)R+=8,A>>=8;return A=7^R+Ys[A],p.b-=A,p.Ca=(S<<A)-1,P}function Ye(p,m,S){p[m+0]=S>>24&255,p[m+1]=S>>16&255,p[m+2]=S>>8&255,p[m+3]=255&S}function Qe(p,m){return p[m+0]|p[m+1]<<8}function Je(p,m){return Qe(p,m)|p[m+2]<<16}function ut(p,m){return Qe(p,m)|Qe(p,m+2)<<16}function Y(p,m){var S=1<<m;return e(p!=null),e(0<m),p.X=s(S),p.X==null?0:(p.Mb=32-m,p.Xa=m,1)}function Ze(p,m){e(p!=null),e(m!=null),e(p.Xa==m.Xa),a(m.X,0,p.X,0,1<<m.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function ft(p,m,S,A){e(S!=null),e(A!=null);var R=S[0],P=A[0];return R==0&&(R=(p*P+m/2)/m),P==0&&(P=(m*R+p/2)/p),0>=R||0>=P?0:(S[0]=R,A[0]=P,1)}function Ie(p,m){return p+(1<<m)-1>>>m}function ot(p,m){return((4278255360&p)+(4278255360&m)>>>0&4278255360)+((16711935&p)+(16711935&m)>>>0&16711935)>>>0}function st(p,m){W[m]=function(S,A,R,P,M,q,H){var X;for(X=0;X<M;++X){var he=W[p](q[H+X-1],R,P+X);q[H+X]=ot(S[A+X],he)}}}function ze(){this.ud=this.hd=this.jd=0}function xe(p,m){return((4278124286&(p^m))>>>1)+(p&m)>>>0}function Re(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function lt(p,m){return Re(p+(p-m+.5>>1))}function et(p,m,S){return Math.abs(m-S)-Math.abs(p-S)}function gt(p,m,S,A,R,P,M){for(A=P[M-1],S=0;S<R;++S)P[M+S]=A=ot(p[m+S],A)}function at(p,m,S,A,R){var P;for(P=0;P<S;++P){var M=p[m+P],q=M>>8&255,H=16711935&(H=(H=16711935&M)+((q<<16)+q));A[R+P]=(4278255360&M)+H>>>0}}function Xe(p,m){m.jd=255&p,m.hd=p>>8&255,m.ud=p>>16&255}function At(p,m,S,A,R,P){var M;for(M=0;M<A;++M){var q=m[S+M],H=q>>>8,X=q,he=255&(he=(he=q>>>16)+((p.jd<<24>>24)*(H<<24>>24)>>>5));X=255&(X=(X+=(p.hd<<24>>24)*(H<<24>>24)>>>5)+((p.ud<<24>>24)*(he<<24>>24)>>>5)),R[P+M]=(4278255360&q)+(he<<16)+X}}function ct(p,m,S,A,R){W[m]=function(P,M,q,H,X,he,Te,K,de){for(H=Te;H<K;++H)for(Te=0;Te<de;++Te)X[he++]=R(q[A(P[M++])])},W[p]=function(P,M,q,H,X,he,Te){var K=8>>P.b,de=P.Ea,we=P.K[0],De=P.w;if(8>K)for(P=(1<<P.b)-1,De=(1<<K)-1;M<q;++M){var Ae,Ue=0;for(Ae=0;Ae<de;++Ae)Ae&P||(Ue=A(H[X++])),he[Te++]=R(we[Ue&De]),Ue>>=K}else W["VP8LMapColor"+S](H,X,we,De,he,Te,M,q,de)}}function Nn(p,m,S,A,R){for(S=m+S;m<S;){var P=p[m++];A[R++]=P>>16&255,A[R++]=P>>8&255,A[R++]=255&P}}function Zt(p,m,S,A,R){for(S=m+S;m<S;){var P=p[m++];A[R++]=P>>16&255,A[R++]=P>>8&255,A[R++]=255&P,A[R++]=P>>24&255}}function _t(p,m,S,A,R){for(S=m+S;m<S;){var P=(M=p[m++])>>16&240|M>>12&15,M=240&M|M>>28&15;A[R++]=P,A[R++]=M}}function vt(p,m,S,A,R){for(S=m+S;m<S;){var P=(M=p[m++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;A[R++]=P,A[R++]=M}}function Dt(p,m,S,A,R){for(S=m+S;m<S;){var P=p[m++];A[R++]=255&P,A[R++]=P>>8&255,A[R++]=P>>16&255}}function Et(p,m,S,A,R,P){if(P==0)for(S=m+S;m<S;)Ye(A,((P=p[m++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),R+=32;else a(A,R,p,m,S)}function Wt(p,m){W[m][0]=W[p+"0"],W[m][1]=W[p+"1"],W[m][2]=W[p+"2"],W[m][3]=W[p+"3"],W[m][4]=W[p+"4"],W[m][5]=W[p+"5"],W[m][6]=W[p+"6"],W[m][7]=W[p+"7"],W[m][8]=W[p+"8"],W[m][9]=W[p+"9"],W[m][10]=W[p+"10"],W[m][11]=W[p+"11"],W[m][12]=W[p+"12"],W[m][13]=W[p+"13"],W[m][14]=W[p+"0"],W[m][15]=W[p+"0"]}function Lt(p){return p==Il||p==Ks||p==ds||p==il}function It(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new pn,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function qn(p,m){var S=p.T,A=m.ba.f.RGBA,R=A.eb,P=A.fb+p.ka*A.A,M=qr[m.ba.S],q=p.y,H=p.O,X=p.f,he=p.N,Te=p.ea,K=p.W,de=m.cc,we=m.dc,De=m.Mc,Ae=m.Nc,Ue=p.ka,Be=p.ka+p.T,Ke=p.U,Ge=Ke+1>>1;for(Ue==0?M(q,H,null,null,X,he,Te,K,X,he,Te,K,R,P,null,null,Ke):(M(m.ec,m.fc,q,H,de,we,De,Ae,X,he,Te,K,R,P-A.A,R,P,Ke),++S);Ue+2<Be;Ue+=2)de=X,we=he,De=Te,Ae=K,he+=p.Rc,K+=p.Rc,P+=2*A.A,M(q,(H+=2*p.fa)-p.fa,q,H,de,we,De,Ae,X,he,Te,K,R,P-A.A,R,P,Ke);return H+=p.fa,p.j+Be<p.o?(a(m.ec,m.fc,q,H,Ke),a(m.cc,m.dc,X,he,Ge),a(m.Mc,m.Nc,Te,K,Ge),S--):1&Be||M(q,H,null,null,X,he,Te,K,X,he,Te,K,R,P+A.A,null,null,Ke),S}function Ti(p,m,S){var A=p.F,R=[p.J];if(A!=null){var P=p.U,M=m.ba.S,q=M==So||M==ds;m=m.ba.f.RGBA;var H=[0],X=p.ka;H[0]=p.T,p.Kb&&(X==0?--H[0]:(--X,R[0]-=p.width),p.j+p.ka+p.T==p.o&&(H[0]=p.o-p.j-X));var he=m.eb;X=m.fb+X*m.A,p=Vi(A,R[0],p.width,P,H,he,X+(q?0:3),m.A),e(S==H),p&&Lt(M)&&nl(he,X,q,P,H,m.A)}return 0}function $r(p){var m=p.ma,S=m.ba.S,A=11>S,R=S==rl||S==Ul||S==So||S==fs||S==12||Lt(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Vs(m.Oa,p,R?11:12))return 0;if(R&&Lt(S)&&go(),p.da)alert("todo:use_scaling");else{if(A){if(m.Ib=gn,p.Kb){if(S=p.U+1>>1,m.memory=s(p.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+p.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=qn,go()}}else alert("todo:EmitYUV");R&&(m.Jb=Ti,A&&ba())}if(A&&!Bh){for(p=0;256>p;++p)jd[p]=89858*(p-128)+Tr>>$a,zl[p]=-22014*(p-128)+Tr,Oc[p]=-45773*(p-128),Or[p]=113618*(p-128)+Tr>>$a;for(p=Zs;p<Ru;++p)m=76283*(p-16)+Tr>>$a,Hl[p-Zs]=Ji(m,255),Lc[p-Zs]=Ji(m+8>>4,15);Bh=1}return 1}function Rt(p){var m=p.ma,S=p.U,A=p.T;return e(!(1&p.ka)),0>=S||0>=A?0:(S=m.Ib(p,m),m.Jb!=null&&m.Jb(p,m,S),m.Dc+=S,1)}function Kn(p){p.ma.memory=null}function Tn(p,m,S,A){return se(p,8)!=47?0:(m[0]=se(p,14)+1,S[0]=se(p,14)+1,A[0]=se(p,1),se(p,3)!=0?0:!p.h)}function _n(p,m){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+se(m,S)+1}function On(p,m){return 120<m?m-120:1<=(S=((S=gs[m-1])>>4)*p+(8-(15&S)))?S:1;var S}function Sn(p,m,S){var A=V(S),R=p[m+=255&A].g-8;return 0<R&&(ne(S,S.u+8),A=V(S),m+=p[m].value,m+=A&(1<<R)-1),ne(S,S.u+p[m].g),p[m].value}function dn(p,m,S){return S.g+=p.g,S.value+=p.value<<m>>>0,e(8>=S.g),p.g}function Vn(p,m,S){var A=p.xc;return e((m=A==0?0:p.vc[p.md*(S>>A)+(m>>A)])<p.Wb),p.Ya[m]}function ha(p,m,S,A){var R=p.ab,P=p.c*m,M=p.C;m=M+m;var q=S,H=A;for(A=p.Ta,S=p.Ua;0<R--;){var X=p.gc[R],he=M,Te=m,K=q,de=H,we=(H=A,q=S,X.Ea);switch(e(he<Te),e(Te<=X.nc),X.hc){case 2:hr(K,de,(Te-he)*we,H,q);break;case 0:var De=he,Ae=Te,Ue=H,Be=q,Ke=(pt=X).Ea;De==0&&(Pl(K,de,null,null,1,Ue,Be),gt(K,de+1,0,0,Ke-1,Ue,Be+1),de+=Ke,Be+=Ke,++De);for(var Ge=1<<pt.b,Nt=Ge-1,ht=Ie(Ke,pt.b),$t=pt.K,pt=pt.w+(De>>pt.b)*ht;De<Ae;){var an=$t,Sr=pt,zt=1;for(Xo(K,de,Ue,Be-Ke,1,Ue,Be);zt<Ke;){var mt=(zt&~Nt)+Ge;mt>Ke&&(mt=Ke),(0,Zo[an[Sr++]>>8&15])(K,de+ +zt,Ue,Be+zt-Ke,mt-zt,Ue,Be+zt),zt=mt}de+=Ke,Be+=Ke,++De&Nt||(pt+=ht)}Te!=X.nc&&a(H,q-we,H,q+(Te-he-1)*we,we);break;case 1:for(we=K,Ae=de,Ke=(K=X.Ea)-(Be=K&~(Ue=(de=1<<X.b)-1)),De=Ie(K,X.b),Ge=X.K,X=X.w+(he>>X.b)*De;he<Te;){for(Nt=Ge,ht=X,$t=new ze,pt=Ae+Be,an=Ae+K;Ae<pt;)Xe(Nt[ht++],$t),Qo($t,we,Ae,de,H,q),Ae+=de,q+=de;Ae<an&&(Xe(Nt[ht++],$t),Qo($t,we,Ae,Ke,H,q),Ae+=Ke,q+=Ke),++he&Ue||(X+=De)}break;case 3:if(K==H&&de==q&&0<X.b){for(Ae=H,K=we=q+(Te-he)*we-(Be=(Te-he)*Ie(X.Ea,X.b)),de=H,Ue=q,De=[],Be=(Ke=Be)-1;0<=Be;--Be)De[Be]=de[Ue+Be];for(Be=Ke-1;0<=Be;--Be)Ae[K+Be]=De[Be];Su(X,he,Te,H,we,H,q)}else Su(X,he,Te,K,de,H,q)}q=A,H=S}H!=S&&a(A,S,q,H,P)}function ei(p,m){var S=p.V,A=p.Ba+p.c*p.C,R=m-p.C;if(e(m<=p.l.o),e(16>=R),0<R){var P=p.l,M=p.Ta,q=p.Ua,H=P.width;if(ha(p,R,S,A),R=q=[q],e((S=p.C)<(A=m)),e(P.v<P.va),A>P.o&&(A=P.o),S<P.j){var X=P.j-S;S=P.j,R[0]+=X*H}if(S>=A?S=0:(R[0]+=4*P.v,P.ka=S-P.j,P.U=P.va-P.v,P.T=A-S,S=1),S){if(q=q[0],11>(S=p.ca).S){var he=S.f.RGBA,Te=(A=S.S,R=P.U,P=P.T,X=he.eb,he.A),K=P;for(he=he.fb+p.Ma*he.A;0<K--;){var de=M,we=q,De=R,Ae=X,Ue=he;switch(A){case oi:el(de,we,De,Ae,Ue);break;case rl:Ua(de,we,De,Ae,Ue);break;case Il:Ua(de,we,De,Ae,Ue),nl(Ae,Ue,0,De,1,0);break;case qa:cs(de,we,De,Ae,Ue);break;case Ul:Et(de,we,De,Ae,Ue,1);break;case Ks:Et(de,we,De,Ae,Ue,1),nl(Ae,Ue,0,De,1,0);break;case So:Et(de,we,De,Ae,Ue,0);break;case ds:Et(de,we,De,Ae,Ue,0),nl(Ae,Ue,1,De,1,0);break;case fs:Ws(de,we,De,Ae,Ue);break;case il:Ws(de,we,De,Ae,Ue),Gi(Ae,Ue,De,1,0);break;case Ou:Hi(de,we,De,Ae,Ue);break;default:e(0)}q+=H,he+=Te}p.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=m,e(p.C<=p.i)}function ti(p){var m;if(0<p.ua)return 0;for(m=0;m<p.Wb;++m){var S=p.Ya[m].G,A=p.Ya[m].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function Gr(p,m,S,A,R,P){if(p.Z!=0){var M=p.qd,q=p.rd;for(e(za[p.Z]!=null);m<S;++m)za[p.Z](M,q,A,R,A,R,P),M=A,q=R,R+=P;p.qd=M,p.rd=q}}function mr(p,m){var S=p.l.ma,A=S.Z==0||S.Z==1?p.l.j:p.C;if(A=p.C<A?A:p.C,e(m<=p.l.o),m>A){var R=p.l.width,P=S.ca,M=S.tb+R*A,q=p.V,H=p.Ba+p.c*A,X=p.gc;e(p.ab==1),e(X[0].hc==3),Ri(X[0],A,m,q,H,P,M),Gr(S,A,m,P,M,R)}p.C=p.Ma=m}function Br(p,m,S,A,R,P,M){var q=p.$/A,H=p.$%A,X=p.m,he=p.s,Te=S+p.$,K=Te;R=S+A*R;var de=S+A*P,we=280+he.ua,De=p.Pb?q:16777216,Ae=0<he.ua?he.Wa:null,Ue=he.wc,Be=Te<de?Vn(he,H,q):null;e(p.C<P),e(de<=R);var Ke=!1;e:for(;;){for(;Ke||Te<de;){var Ge=0;if(q>=De){var Nt=Te-S;e((De=p).Pb),De.wd=De.m,De.xd=Nt,0<De.s.ua&&Ze(De.s.Wa,De.s.vb),De=q+Dh}if(H&Ue||(Be=Vn(he,H,q)),e(Be!=null),Be.Qb&&(m[Te]=Be.qb,Ke=!0),!Ke)if(pe(X),Be.jc){Ge=X,Nt=m;var ht=Te,$t=Be.pd[V(Ge)&ls-1];e(Be.jc),256>$t.g?(ne(Ge,Ge.u+$t.g),Nt[ht]=$t.value,Ge=0):(ne(Ge,Ge.u+$t.g-256),e(256<=$t.value),Ge=$t.value),Ge==0&&(Ke=!0)}else Ge=Sn(Be.G[0],Be.H[0],X);if(X.h)break;if(Ke||256>Ge){if(!Ke)if(Be.nd)m[Te]=(Be.qb|Ge<<8)>>>0;else{if(pe(X),Ke=Sn(Be.G[1],Be.H[1],X),pe(X),Nt=Sn(Be.G[2],Be.H[2],X),ht=Sn(Be.G[3],Be.H[3],X),X.h)break;m[Te]=(ht<<24|Ke<<16|Ge<<8|Nt)>>>0}if(Ke=!1,++Te,++H>=A&&(H=0,++q,M!=null&&q<=P&&!(q%16)&&M(p,q),Ae!=null))for(;K<Te;)Ge=m[K++],Ae.X[(506832829*Ge&4294967295)>>>Ae.Mb]=Ge}else if(280>Ge){if(Ge=_n(Ge-256,X),Nt=Sn(Be.G[4],Be.H[4],X),pe(X),Nt=On(A,Nt=_n(Nt,X)),X.h)break;if(Te-S<Nt||R-Te<Ge)break e;for(ht=0;ht<Ge;++ht)m[Te+ht]=m[Te+ht-Nt];for(Te+=Ge,H+=Ge;H>=A;)H-=A,++q,M!=null&&q<=P&&!(q%16)&&M(p,q);if(e(Te<=R),H&Ue&&(Be=Vn(he,H,q)),Ae!=null)for(;K<Te;)Ge=m[K++],Ae.X[(506832829*Ge&4294967295)>>>Ae.Mb]=Ge}else{if(!(Ge<we))break e;for(Ke=Ge-280,e(Ae!=null);K<Te;)Ge=m[K++],Ae.X[(506832829*Ge&4294967295)>>>Ae.Mb]=Ge;Ge=Te,e(!(Ke>>>(Nt=Ae).Xa)),m[Ge]=Nt.X[Ke],Ke=!0}Ke||e(X.h==te(X))}if(p.Pb&&X.h&&Te<R)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ze(p.s.vb,p.s.Wa);else{if(X.h)break e;M?.(p,q>P?P:q),p.a=0,p.$=Te-S}return 1}return p.a=3,0}function yr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var m=p.Wa;m!=null&&(m.X=null),p.vb=null,e(p!=null)}function Ln(){var p=new Ft;return p==null?null:(p.a=0,p.xb=al,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),hr=at,Qo=At,el=Nn,Ua=Zt,Ws=_t,Hi=vt,cs=Dt,W.VP8LMapColor32b=tr,W.VP8LMapColor8b=Jo,p)}function Oi(p,m,S,A,R){var P=1,M=[p],q=[m],H=A.m,X=A.s,he=null,Te=0;e:for(;;){if(S)for(;P&&se(H,1);){var K=M,de=q,we=A,De=1,Ae=we.m,Ue=we.gc[we.ab],Be=se(Ae,2);if(we.Oc&1<<Be)P=0;else{switch(we.Oc|=1<<Be,Ue.hc=Be,Ue.Ea=K[0],Ue.nc=de[0],Ue.K=[null],++we.ab,e(4>=we.ab),Be){case 0:case 1:Ue.b=se(Ae,3)+2,De=Oi(Ie(Ue.Ea,Ue.b),Ie(Ue.nc,Ue.b),0,we,Ue.K),Ue.K=Ue.K[0];break;case 3:var Ke,Ge=se(Ae,8)+1,Nt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(K[0]=Ie(Ue.Ea,Nt),Ue.b=Nt,Ke=De=Oi(Ge,1,0,we,Ue.K)){var ht,$t=Ge,pt=Ue,an=1<<(8>>pt.b),Sr=s(an);if(Sr==null)Ke=0;else{var zt=pt.K[0],mt=pt.w;for(Sr[0]=pt.K[0][0],ht=1;ht<1*$t;++ht)Sr[ht]=ot(zt[mt+ht],Sr[ht-1]);for(;ht<4*an;++ht)Sr[ht]=0;pt.K[0]=null,pt.K[0]=Sr,Ke=1}}De=Ke;break;case 2:break;default:e(0)}P=De}}if(M=M[0],q=q[0],P&&se(H,1)&&!(P=1<=(Te=se(H,4))&&11>=Te)){A.a=3;break e}var nt;if(nt=P)t:{var Qn,Gt,Qt,bt=A,Yt=M,hn=q,Hn=Te,fr=S,dr=bt.m,ir=bt.s,nn=[null],fn=1,ar=0,Pt=Ao[Hn];n:for(;;){if(fr&&se(dr,1)){var Lr=se(dr,3)+2,Ki=Ie(Yt,Lr),sr=Ie(hn,Lr),yi=Ki*sr;if(!Oi(Ki,sr,0,bt,nn))break n;for(nn=nn[0],ir.xc=Lr,Qn=0;Qn<yi;++Qn){var jn=nn[Qn]>>8&65535;nn[Qn]=jn,jn>=fn&&(fn=jn+1)}}if(dr.h)break n;for(Gt=0;5>Gt;++Gt){var pr=Yi[Gt];!Gt&&0<Hn&&(pr+=1<<Hn),ar<pr&&(ar=pr)}var bi=c(fn*Pt,Q),Xr=fn,Bn=c(Xr,be);if(Bn==null)var mn=null;else e(65536>=Xr),mn=Bn;var li=s(ar);if(mn==null||li==null||bi==null){bt.a=1;break n}var Jr=bi;for(Qn=Qt=0;Qn<fn;++Qn){var En=mn[Qn],wi=En.G,jr=En.H,Ga=0,wa=1,kr=0;for(Gt=0;5>Gt;++Gt){pr=Yi[Gt],wi[Gt]=Jr,jr[Gt]=Qt,!Gt&&0<Hn&&(pr+=1<<Hn);i:{var $l,Du=pr,Gl=bt,ol=li,qh=Jr,Fh=Qt,Vl=0,bs=Gl.m,Cd=se(bs,1);if(o(ol,0,0,Du),Cd){var zh=se(bs,1)+1,Hh=se(bs,1),jc=se(bs,Hh==0?1:8);ol[jc]=1,zh==2&&(ol[jc=se(bs,8)]=1);var ll=1}else{var kc=s(19),Cc=se(bs,4)+4;if(19<Cc){Gl.a=3;var Yl=0;break i}for($l=0;$l<Cc;++$l)kc[ps[$l]]=se(bs,3);var Pu=void 0,ul=void 0,$h=Gl,Gh=kc,ws=Du,Wl=ol,Mu=0,_a=$h.m,cl=8,Rc=c(128,Q);r:for(;F(Rc,0,7,Gh,19);){if(se(_a,1)){var Vh=2+2*se(_a,3);if((Pu=2+se(_a,Vh))>ws)break r}else Pu=ws;for(ul=0;ul<ws&&Pu--;){pe(_a);var Dc=Rc[0+(127&V(_a))];ne(_a,_a.u+Dc.g);var To=Dc.value;if(16>To)Wl[ul++]=To,To!=0&&(cl=To);else{var Yh=To==16,Pc=To-16,Mc=ia[Pc],Bc=se(_a,Lu[Pc])+Mc;if(ul+Bc>ws)break r;for(var Wh=Yh?cl:0;0<Bc--;)Wl[ul++]=Wh}}Mu=1;break r}Mu||($h.a=3),ll=Mu}(ll=ll&&!bs.h)&&(Vl=F(qh,Fh,8,ol,Du)),ll&&Vl!=0?Yl=Vl:(Gl.a=3,Yl=0)}if(Yl==0)break n;if(wa&&xo[Gt]==1&&(wa=Jr[Qt].g==0),Ga+=Jr[Qt].g,Qt+=Yl,3>=Gt){var Oo,Bu=li[0];for(Oo=1;Oo<pr;++Oo)li[Oo]>Bu&&(Bu=li[Oo]);kr+=Bu}}if(En.nd=wa,En.Qb=0,wa&&(En.qb=(wi[3][jr[3]+0].value<<24|wi[1][jr[1]+0].value<<16|wi[2][jr[2]+0].value)>>>0,Ga==0&&256>wi[0][jr[0]+0].value&&(En.Qb=1,En.qb+=wi[0][jr[0]+0].value<<8)),En.jc=!En.Qb&&6>kr,En.jc){var Kl,_s=En;for(Kl=0;Kl<ls;++Kl){var Va=Kl,Ss=_s.pd[Va],Xl=_s.G[0][_s.H[0]+Va];256<=Xl.value?(Ss.g=Xl.g+256,Ss.value=Xl.value):(Ss.g=0,Ss.value=0,Va>>=dn(Xl,8,Ss),Va>>=dn(_s.G[1][_s.H[1]+Va],16,Ss),Va>>=dn(_s.G[2][_s.H[2]+Va],0,Ss),dn(_s.G[3][_s.H[3]+Va],24,Ss))}}}ir.vc=nn,ir.Wb=fn,ir.Ya=mn,ir.yc=bi,nt=1;break t}nt=0}if(!(P=nt)){A.a=3;break e}if(0<Te){if(X.ua=1<<Te,!Y(X.Wa,Te)){A.a=1,P=0;break e}}else X.ua=0;var Jl=A,Uc=M,Kh=q,Ic=Jl.s,qc=Ic.xc;if(Jl.c=Uc,Jl.i=Kh,Ic.md=Ie(Uc,qc),Ic.wc=qc==0?-1:(1<<qc)-1,S){A.xb=Mh;break e}if((he=s(M*q))==null){A.a=1,P=0;break e}P=(P=Br(A,he,0,M,q,q,null))&&!H.h;break e}return P?(R!=null?R[0]=he:(e(he==null),e(S)),A.$=0,S||yr(X)):yr(X),P}function ni(p,m){var S=p.c*p.i,A=S+m+16*m;return e(p.c<=m),p.V=s(A),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+m,1)}function di(p,m){var S=p.C,A=m-S,R=p.V,P=p.Ba+p.c*S;for(e(m<=p.l.o);0<A;){var M=16<A?16:A,q=p.l.ma,H=p.l.width,X=H*M,he=q.ca,Te=q.tb+H*S,K=p.Ta,de=p.Ua;ha(p,M,R,P),bo(K,de,he,Te,X),Gr(q,S,S+M,he,Te,H),A-=M,R+=M*p.c,S+=M}e(S==m),p.C=p.Ma=m}function Li(){this.ub=this.yd=this.td=this.Rb=0}function Ja(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cs(){this.Yb=(function(){var p=[];return(function m(S,A,R){for(var P=R[A],M=0;M<P&&(S.push(R.length>A+1?[]:0),!(R.length<A+1));M++)m(S[M],A+1,R)})(p,0,[3,11]),p})()}function Go(){this.jb=s(3),this.Wc=h([4,8],Cs),this.Xc=h([4,17],Cs)}function fa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Yr(){this.Na=this.la=0}function Rs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Za(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function da(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new Za),this.aa=0,this.l=new Qa}function Ds(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ps(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Li,this.Kc=new Ja,this.ed=new fa,this.Qa=new lo,this.Ic=this.$c=this.Aa=0,this.D=new da,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,j),this.ia=0,this.pb=c(4,Rs),this.Pa=new Go,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ds),this.Hd=0,this.rb=Array(new Yr),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Za),this.L=this.aa=0,this.gd=h([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ji(p,m){return 0>p?0:p>m?m:p}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var p=new Ps;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Nr||(Nr=Dn)),p}function Xn(p,m,S){return p.a==0&&(p.a=m,p.sc=S,p.cb=0),0}function Wr(p,m,S){return 3<=S&&p[m+0]==157&&p[m+1]==1&&p[m+2]==42}function br(p,m){if(p==null)return 0;if(p.a=0,p.sc="OK",m==null)return Xn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,A=m.w,R=m.ha;if(4>R)return Xn(p,7,"Truncated header.");var P=S[A+0]|S[A+1]<<8|S[A+2]<<16,M=p.Od;if(M.Rb=!(1&P),M.td=P>>1&7,M.yd=P>>4&1,M.ub=P>>5,3<M.td)return Xn(p,3,"Incorrect keyframe parameters.");if(!M.yd)return Xn(p,4,"Frame not displayable.");A+=3,R-=3;var q=p.Kc;if(M.Rb){if(7>R)return Xn(p,7,"cannot parse picture header");if(!Wr(S,A,R))return Xn(p,3,"Bad code word");q.c=16383&(S[A+4]<<8|S[A+3]),q.Td=S[A+4]>>6,q.i=16383&(S[A+6]<<8|S[A+5]),q.Ud=S[A+6]>>6,A+=7,R-=7,p.za=q.c+15>>4,p.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,o((P=p.Pa).jb,0,255,P.jb.length),e((P=p.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,o(P.Zb,0,0,P.Zb.length),o(P.Lb,0,0,P.Lb)}if(M.ub>R)return Xn(p,7,"bad partition length");Z(P=p.m,S,A,M.ub),A+=M.ub,R-=M.ub,M.Rb&&(q.Ld=ke(P),q.Kd=ke(P)),q=p.Qa;var H,X=p.Pa;if(e(P!=null),e(q!=null),q.Cb=ke(P),q.Cb){if(q.Bb=ke(P),ke(P)){for(q.Fb=ke(P),H=0;4>H;++H)q.Zb[H]=ke(P)?ce(P,7):0;for(H=0;4>H;++H)q.Lb[H]=ke(P)?ce(P,6):0}if(q.Bb)for(H=0;3>H;++H)X.jb[H]=ke(P)?ue(P,8):255}else q.Bb=0;if(P.Ka)return Xn(p,3,"cannot parse segment header");if((q=p.ed).zd=ke(P),q.Tb=ue(P,6),q.wb=ue(P,3),q.Pc=ke(P),q.Pc&&ke(P)){for(X=0;4>X;++X)ke(P)&&(q.vd[X]=ce(P,6));for(X=0;4>X;++X)ke(P)&&(q.od[X]=ce(P,6))}if(p.L=q.Tb==0?0:q.zd?1:2,P.Ka)return Xn(p,3,"cannot parse filter header");var he=R;if(R=H=A,A=H+he,q=he,p.Xb=(1<<ue(p.m,2))-1,he<3*(X=p.Xb))S=7;else{for(H+=3*X,q-=3*X,he=0;he<X;++he){var Te=S[R+0]|S[R+1]<<8|S[R+2]<<16;Te>q&&(Te=q),Z(p.Jc[+he],S,H,Te),H+=Te,q-=Te,R+=3}Z(p.Jc[+X],S,H,q),S=H<A?0:5}if(S!=0)return Xn(p,S,"cannot parse partitions");for(S=ue(H=p.m,7),R=ke(H)?ce(H,4):0,A=ke(H)?ce(H,4):0,q=ke(H)?ce(H,4):0,X=ke(H)?ce(H,4):0,H=ke(H)?ce(H,4):0,he=p.Qa,Te=0;4>Te;++Te){if(he.Cb){var K=he.Zb[Te];he.Fb||(K+=S)}else{if(0<Te){p.pb[Te]=p.pb[0];continue}K=S}var de=p.pb[Te];de.Sc[0]=ql[Ji(K+R,127)],de.Sc[1]=Fl[Ji(K+0,127)],de.Eb[0]=2*ql[Ji(K+A,127)],de.Eb[1]=101581*Fl[Ji(K+q,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=ql[Ji(K+X,117)],de.Qc[1]=Fl[Ji(K+H,127)],de.lc=K+H}if(!M.Rb)return Xn(p,4,"Not a key frame.");for(ke(P),M=p.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(A=0;3>A;++A)for(q=0;11>q;++q)X=Me(P,Eo[S][R][A][q])?ue(P,8):Fa[S][R][A][q],M.Wc[S][R].Yb[A][q]=X;for(R=0;17>R;++R)M.Xc[S][R]=M.Wc[S][Ph[R]]}return p.kc=ke(P),p.kc&&(p.Bd=ue(P,8)),p.cb=1}function Dn(p,m,S,A,R,P,M){var q=m[R].Yb[S];for(S=0;16>R;++R){if(!Me(p,q[S+0]))return R;for(;!Me(p,q[S+1]);)if(q=m[++R].Yb[0],S=0,R==16)return 16;var H=m[R+1].Yb;if(Me(p,q[S+2])){var X=p,he=0;if(Me(X,(K=q)[(Te=S)+3]))if(Me(X,K[Te+6])){for(q=0,Te=2*(he=Me(X,K[Te+8]))+(K=Me(X,K[Te+9+he])),he=0,K=rr[Te];K[q];++q)he+=he+Me(X,K[q]);he+=3+(8<<Te)}else Me(X,K[Te+7])?(he=7+2*Me(X,165),he+=Me(X,145)):he=5+Me(X,159);else he=Me(X,K[Te+4])?3+Me(X,K[Te+5]):2;q=H[2]}else he=1,q=H[1];H=M+bn[R],0>(X=p).b&&_e(X);var Te,K=X.b,de=(Te=X.Ca>>1)-(X.I>>K)>>31;--X.b,X.Ca+=de,X.Ca|=1,X.I-=(Te+1&de)<<K,P[H]=((he^de)-de)*A[(0<R)+0]}return 16}function es(p){var m=p.rb[p.sb-1];m.la=0,m.Na=0,o(p.zc,0,0,p.zc.length),p.ja=0}function ji(p,m,S,A,R){R=p[m+S+32*A]+(R>>3),p[m+S+32*A]=-256&R?0>R?0:255:R}function vn(p,m,S,A,R,P){ji(p,m,0,S,A+R),ji(p,m,1,S,A+P),ji(p,m,2,S,A-P),ji(p,m,3,S,A-R)}function qi(p){return(20091*p>>16)+p}function uo(p,m,S,A){var R,P=0,M=s(16);for(R=0;4>R;++R){var q=p[m+0]+p[m+8],H=p[m+0]-p[m+8],X=(35468*p[m+4]>>16)-qi(p[m+12]),he=qi(p[m+4])+(35468*p[m+12]>>16);M[P+0]=q+he,M[P+1]=H+X,M[P+2]=H-X,M[P+3]=q-he,P+=4,m++}for(R=P=0;4>R;++R)q=(p=M[P+0]+4)+M[P+8],H=p-M[P+8],X=(35468*M[P+4]>>16)-qi(M[P+12]),ji(S,A,0,0,q+(he=qi(M[P+4])+(35468*M[P+12]>>16))),ji(S,A,1,0,H+X),ji(S,A,2,0,H-X),ji(S,A,3,0,q-he),P++,A+=32}function pa(p,m,S,A){var R=p[m+0]+4,P=35468*p[m+4]>>16,M=qi(p[m+4]),q=35468*p[m+1]>>16;vn(S,A,0,R+M,p=qi(p[m+1]),q),vn(S,A,1,R+P,p,q),vn(S,A,2,R-P,p,q),vn(S,A,3,R-M,p,q)}function ka(p,m,S,A,R){uo(p,m,S,A),R&&uo(p,m+16,S,A+4)}function Fi(p,m,S,A){hs(p,m+0,S,A,1),hs(p,m+32,S,A+128,1)}function co(p,m,S,A){var R;for(p=p[m+0]+4,R=0;4>R;++R)for(m=0;4>m;++m)ji(S,A,m,R,p)}function ga(p,m,S,A){p[m+0]&&on(p,m+0,S,A),p[m+16]&&on(p,m+16,S,A+4),p[m+32]&&on(p,m+32,S,A+128),p[m+48]&&on(p,m+48,S,A+128+4)}function Ms(p,m,S,A){var R,P=s(16);for(R=0;4>R;++R){var M=p[m+0+R]+p[m+12+R],q=p[m+4+R]+p[m+8+R],H=p[m+4+R]-p[m+8+R],X=p[m+0+R]-p[m+12+R];P[0+R]=M+q,P[8+R]=M-q,P[4+R]=X+H,P[12+R]=X-H}for(R=0;4>R;++R)M=(p=P[0+4*R]+3)+P[3+4*R],q=P[1+4*R]+P[2+4*R],H=P[1+4*R]-P[2+4*R],X=p-P[3+4*R],S[A+0]=M+q>>3,S[A+16]=X+H>>3,S[A+32]=M-q>>3,S[A+48]=X-H>>3,A+=64}function va(p,m,S){var A,R=m-32,P=Ir,M=255-p[R-1];for(A=0;A<S;++A){var q,H=P,X=M+p[m-1];for(q=0;q<S;++q)p[m+q]=H[X+p[R+q]];m+=32}}function re(p,m){va(p,m,4)}function Le(p,m){va(p,m,8)}function $e(p,m){va(p,m,16)}function rt(p,m){var S;for(S=0;16>S;++S)a(p,m+32*S,p,m-32,16)}function tt(p,m){var S;for(S=16;0<S;--S)o(p,m,p[m-1],16),m+=32}function tn(p,m,S){var A;for(A=0;16>A;++A)o(m,S+32*A,p,16)}function xn(p,m){var S,A=16;for(S=0;16>S;++S)A+=p[m-1+32*S]+p[m+S-32];tn(A>>5,p,m)}function Fn(p,m){var S,A=8;for(S=0;16>S;++S)A+=p[m-1+32*S];tn(A>>4,p,m)}function cr(p,m){var S,A=8;for(S=0;16>S;++S)A+=p[m+S-32];tn(A>>4,p,m)}function Bs(p,m){tn(128,p,m)}function yt(p,m,S){return p+2*m+S+2>>2}function ho(p,m){var S,A=m-32;for(A=new Uint8Array([yt(p[A-1],p[A+0],p[A+1]),yt(p[A+0],p[A+1],p[A+2]),yt(p[A+1],p[A+2],p[A+3]),yt(p[A+2],p[A+3],p[A+4])]),S=0;4>S;++S)a(p,m+32*S,A,0,A.length)}function Zi(p,m){var S=p[m-1],A=p[m-1+32],R=p[m-1+64],P=p[m-1+96];Ye(p,m+0,16843009*yt(p[m-1-32],S,A)),Ye(p,m+32,16843009*yt(S,A,R)),Ye(p,m+64,16843009*yt(A,R,P)),Ye(p,m+96,16843009*yt(R,P,P))}function Qi(p,m){var S,A=4;for(S=0;4>S;++S)A+=p[m+S-32]+p[m-1+32*S];for(A>>=3,S=0;4>S;++S)o(p,m+32*S,A,4)}function pi(p,m){var S=p[m-1+0],A=p[m-1+32],R=p[m-1+64],P=p[m-1-32],M=p[m+0-32],q=p[m+1-32],H=p[m+2-32],X=p[m+3-32];p[m+0+96]=yt(A,R,p[m-1+96]),p[m+1+96]=p[m+0+64]=yt(S,A,R),p[m+2+96]=p[m+1+64]=p[m+0+32]=yt(P,S,A),p[m+3+96]=p[m+2+64]=p[m+1+32]=p[m+0+0]=yt(M,P,S),p[m+3+64]=p[m+2+32]=p[m+1+0]=yt(q,M,P),p[m+3+32]=p[m+2+0]=yt(H,q,M),p[m+3+0]=yt(X,H,q)}function Pn(p,m){var S=p[m+1-32],A=p[m+2-32],R=p[m+3-32],P=p[m+4-32],M=p[m+5-32],q=p[m+6-32],H=p[m+7-32];p[m+0+0]=yt(p[m+0-32],S,A),p[m+1+0]=p[m+0+32]=yt(S,A,R),p[m+2+0]=p[m+1+32]=p[m+0+64]=yt(A,R,P),p[m+3+0]=p[m+2+32]=p[m+1+64]=p[m+0+96]=yt(R,P,M),p[m+3+32]=p[m+2+64]=p[m+1+96]=yt(P,M,q),p[m+3+64]=p[m+2+96]=yt(M,q,H),p[m+3+96]=yt(q,H,H)}function Jn(p,m){var S=p[m-1+0],A=p[m-1+32],R=p[m-1+64],P=p[m-1-32],M=p[m+0-32],q=p[m+1-32],H=p[m+2-32],X=p[m+3-32];p[m+0+0]=p[m+1+64]=P+M+1>>1,p[m+1+0]=p[m+2+64]=M+q+1>>1,p[m+2+0]=p[m+3+64]=q+H+1>>1,p[m+3+0]=H+X+1>>1,p[m+0+96]=yt(R,A,S),p[m+0+64]=yt(A,S,P),p[m+0+32]=p[m+1+96]=yt(S,P,M),p[m+1+32]=p[m+2+96]=yt(P,M,q),p[m+2+32]=p[m+3+96]=yt(M,q,H),p[m+3+32]=yt(q,H,X)}function ki(p,m){var S=p[m+0-32],A=p[m+1-32],R=p[m+2-32],P=p[m+3-32],M=p[m+4-32],q=p[m+5-32],H=p[m+6-32],X=p[m+7-32];p[m+0+0]=S+A+1>>1,p[m+1+0]=p[m+0+64]=A+R+1>>1,p[m+2+0]=p[m+1+64]=R+P+1>>1,p[m+3+0]=p[m+2+64]=P+M+1>>1,p[m+0+32]=yt(S,A,R),p[m+1+32]=p[m+0+96]=yt(A,R,P),p[m+2+32]=p[m+1+96]=yt(R,P,M),p[m+3+32]=p[m+2+96]=yt(P,M,q),p[m+3+64]=yt(M,q,H),p[m+3+96]=yt(q,H,X)}function zi(p,m){var S=p[m-1+0],A=p[m-1+32],R=p[m-1+64],P=p[m-1+96];p[m+0+0]=S+A+1>>1,p[m+2+0]=p[m+0+32]=A+R+1>>1,p[m+2+32]=p[m+0+64]=R+P+1>>1,p[m+1+0]=yt(S,A,R),p[m+3+0]=p[m+1+32]=yt(A,R,P),p[m+3+32]=p[m+1+64]=yt(R,P,P),p[m+3+64]=p[m+2+64]=p[m+0+96]=p[m+1+96]=p[m+2+96]=p[m+3+96]=P}function Vo(p,m){var S=p[m-1+0],A=p[m-1+32],R=p[m-1+64],P=p[m-1+96],M=p[m-1-32],q=p[m+0-32],H=p[m+1-32],X=p[m+2-32];p[m+0+0]=p[m+2+32]=S+M+1>>1,p[m+0+32]=p[m+2+64]=A+S+1>>1,p[m+0+64]=p[m+2+96]=R+A+1>>1,p[m+0+96]=P+R+1>>1,p[m+3+0]=yt(q,H,X),p[m+2+0]=yt(M,q,H),p[m+1+0]=p[m+3+32]=yt(S,M,q),p[m+1+32]=p[m+3+64]=yt(A,S,M),p[m+1+64]=p[m+3+96]=yt(R,A,S),p[m+1+96]=yt(P,R,A)}function Ca(p,m){var S;for(S=0;8>S;++S)a(p,m+32*S,p,m-32,8)}function Yo(p,m){var S;for(S=0;8>S;++S)o(p,m,p[m-1],8),m+=32}function Ra(p,m,S){var A;for(A=0;8>A;++A)o(m,S+32*A,p,8)}function ii(p,m){var S,A=8;for(S=0;8>S;++S)A+=p[m+S-32]+p[m-1+32*S];Ra(A>>4,p,m)}function ma(p,m){var S,A=4;for(S=0;8>S;++S)A+=p[m+S-32];Ra(A>>3,p,m)}function Us(p,m){var S,A=4;for(S=0;8>S;++S)A+=p[m-1+32*S];Ra(A>>3,p,m)}function Is(p,m){Ra(128,p,m)}function ts(p,m,S){var A=p[m-S],R=p[m+0],P=3*(R-A)+Tu[1020+p[m-2*S]-p[m+S]],M=_o[112+(P+4>>3)];p[m-S]=Ir[255+A+_o[112+(P+3>>3)]],p[m+0]=Ir[255+R-M]}function fo(p,m,S,A){var R=p[m+0],P=p[m+S];return ra[255+p[m-2*S]-p[m-S]]>A||ra[255+P-R]>A}function qs(p,m,S,A){return 4*ra[255+p[m-S]-p[m+0]]+ra[255+p[m-2*S]-p[m+S]]<=A}function ns(p,m,S,A,R){var P=p[m-3*S],M=p[m-2*S],q=p[m-S],H=p[m+0],X=p[m+S],he=p[m+2*S],Te=p[m+3*S];return 4*ra[255+q-H]+ra[255+M-X]>A?0:ra[255+p[m-4*S]-P]<=R&&ra[255+P-M]<=R&&ra[255+M-q]<=R&&ra[255+Te-he]<=R&&ra[255+he-X]<=R&&ra[255+X-H]<=R}function Da(p,m,S,A){var R=2*A+1;for(A=0;16>A;++A)qs(p,m+A,S,R)&&ts(p,m+A,S)}function Wo(p,m,S,A){var R=2*A+1;for(A=0;16>A;++A)qs(p,m+A*S,1,R)&&ts(p,m+A*S,1)}function yu(p,m,S,A){var R;for(R=3;0<R;--R)Da(p,m+=4*S,S,A)}function bu(p,m,S,A){var R;for(R=3;0<R;--R)Wo(p,m+=4,S,A)}function rs(p,m,S,A,R,P,M,q){for(P=2*P+1;0<R--;){if(ns(p,m,S,P,M))if(fo(p,m,S,q))ts(p,m,S);else{var H=p,X=m,he=S,Te=H[X-2*he],K=H[X-he],de=H[X+0],we=H[X+he],De=H[X+2*he],Ae=27*(Be=Tu[1020+3*(de-K)+Tu[1020+Te-we]])+63>>7,Ue=18*Be+63>>7,Be=9*Be+63>>7;H[X-3*he]=Ir[255+H[X-3*he]+Be],H[X-2*he]=Ir[255+Te+Ue],H[X-he]=Ir[255+K+Ae],H[X+0]=Ir[255+de-Ae],H[X+he]=Ir[255+we-Ue],H[X+2*he]=Ir[255+De-Be]}m+=A}}function ya(p,m,S,A,R,P,M,q){for(P=2*P+1;0<R--;){if(ns(p,m,S,P,M))if(fo(p,m,S,q))ts(p,m,S);else{var H=p,X=m,he=S,Te=H[X-he],K=H[X+0],de=H[X+he],we=_o[112+(4+(De=3*(K-Te))>>3)],De=_o[112+(De+3>>3)],Ae=we+1>>1;H[X-2*he]=Ir[255+H[X-2*he]+Ae],H[X-he]=Ir[255+Te+De],H[X+0]=Ir[255+K-we],H[X+he]=Ir[255+de-Ae]}m+=A}}function wu(p,m,S,A,R,P){rs(p,m,S,1,16,A,R,P)}function po(p,m,S,A,R,P){rs(p,m,1,S,16,A,R,P)}function _u(p,m,S,A,R,P){var M;for(M=3;0<M;--M)ya(p,m+=4*S,S,1,16,A,R,P)}function w(p,m,S,A,R,P){var M;for(M=3;0<M;--M)ya(p,m+=4,1,S,16,A,R,P)}function C(p,m,S,A,R,P,M,q){rs(p,m,R,1,8,P,M,q),rs(S,A,R,1,8,P,M,q)}function J(p,m,S,A,R,P,M,q){rs(p,m,1,R,8,P,M,q),rs(S,A,1,R,8,P,M,q)}function le(p,m,S,A,R,P,M,q){ya(p,m+4*R,R,1,8,P,M,q),ya(S,A+4*R,R,1,8,P,M,q)}function me(p,m,S,A,R,P,M,q){ya(p,m+4,1,R,8,P,M,q),ya(S,A+4,1,R,8,P,M,q)}function qe(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function We(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new Q}function Ft(){this.xb=this.a=0,this.l=new Qa,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=c(4,dt),this.Oc=0}function Xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(p,m,S,A,R,P,M){for(p=p==null?0:p[m+0],m=0;m<M;++m)R[P+m]=p+S[A+m]&255,p=R[P+m]}function Zn(p,m,S,A,R,P,M){var q;if(p==null)cn(null,null,S,A,R,P,M);else for(q=0;q<M;++q)R[P+q]=p[m+q]+S[A+q]&255}function wr(p,m,S,A,R,P,M){if(p==null)cn(null,null,S,A,R,P,M);else{var q,H=p[m+0],X=H,he=H;for(q=0;q<M;++q)X=he+(H=p[m+q])-X,he=S[A+q]+(-256&X?0>X?0:255:X)&255,X=H,R[P+q]=he}}function Mn(p,m,S,A){var R=m.width,P=m.o;if(e(p!=null&&m!=null),0>S||0>=A||S+A>P)return null;if(!p.Cc){if(p.ga==null){var M;if(p.ga=new Xt,(M=p.ga==null)||(M=m.width*m.o,e(p.Gb.length==0),p.Gb=s(M),p.Uc=0,p.Gb==null?M=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,M=1),M=!M),!M){M=p.ga;var q=p.Fa,H=p.P,X=p.qc,he=p.mb,Te=p.nb,K=H+1,de=X-1,we=M.l;if(e(q!=null&&he!=null&&m!=null),za[0]=null,za[1]=cn,za[2]=Zn,za[3]=wr,M.ca=he,M.tb=Te,M.c=m.width,M.i=m.height,e(0<M.c&&0<M.i),1>=X)m=0;else if(M.$a=3&q[H+0],M.Z=q[H+0]>>2&3,M.Lc=q[H+0]>>4&3,H=q[H+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||H)m=0;else if(we.put=Rt,we.ac=$r,we.bc=Kn,we.ma=M,we.width=m.width,we.height=m.height,we.Da=m.Da,we.v=m.v,we.va=m.va,we.j=m.j,we.o=m.o,M.$a)e:{e(M.$a==1),m=Ln();t:for(;;){if(m==null){m=0;break e}if(e(M!=null),M.mc=m,m.c=M.c,m.i=M.i,m.l=M.l,m.l.ma=M,m.l.width=M.c,m.l.height=M.i,m.a=0,Ne(m.m,q,K,de),!Oi(M.c,M.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&ti(m.s)?(M.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(M.ic=0,m=ni(m,M.c)),!m))break t;m=1;break e}M.mc=null,m=0}else m=de>=M.c*M.i;M=!m}if(M)return null;p.ga.Lc!=1?p.Ga=0:A=P-S}e(p.ga!=null),e(S+A<=P);e:{if(m=(q=p.ga).c,P=q.l.o,q.$a==0){if(K=p.rc,de=p.Vc,we=p.Fa,H=p.P+1+S*m,X=p.mb,he=p.nb+S*m,e(H<=p.P+p.qc),q.Z!=0)for(e(za[q.Z]!=null),M=0;M<A;++M)za[q.Z](K,de,we,H,X,he,m),K=X,de=he,he+=m,H+=m;else for(M=0;M<A;++M)a(X,he,we,H,m),K=X,de=he,he+=m,H+=m;p.rc=K,p.Vc=de}else{if(e(q.mc!=null),m=S+A,e((M=q.mc)!=null),e(m<=M.i),M.C>=m)m=1;else if(q.ic||ba(),q.ic){q=M.V,K=M.Ba,de=M.c;var De=M.i,Ae=(we=1,H=M.$/de,X=M.$%de,he=M.m,Te=M.s,M.$),Ue=de*De,Be=de*m,Ke=Te.wc,Ge=Ae<Be?Vn(Te,X,H):null;e(Ae<=Ue),e(m<=De),e(ti(Te));t:for(;;){for(;!he.h&&Ae<Be;){if(X&Ke||(Ge=Vn(Te,X,H)),e(Ge!=null),pe(he),256>(De=Sn(Ge.G[0],Ge.H[0],he)))q[K+Ae]=De,++Ae,++X>=de&&(X=0,++H<=m&&!(H%16)&&mr(M,H));else{if(!(280>De)){we=0;break t}De=_n(De-256,he);var Nt,ht=Sn(Ge.G[4],Ge.H[4],he);if(pe(he),!(Ae>=(ht=On(de,ht=_n(ht,he)))&&Ue-Ae>=De)){we=0;break t}for(Nt=0;Nt<De;++Nt)q[K+Ae+Nt]=q[K+Ae+Nt-ht];for(Ae+=De,X+=De;X>=de;)X-=de,++H<=m&&!(H%16)&&mr(M,H);Ae<Be&&X&Ke&&(Ge=Vn(Te,X,H))}e(he.h==te(he))}mr(M,H>m?m:H);break t}!we||he.h&&Ae<Ue?(we=0,M.a=he.h?5:3):M.$=Ae,m=we}else m=Br(M,M.V,M.Ba,M.c,M.i,m,di);if(!m){A=0;break e}}S+A>=P&&(p.Cc=1),A=1}if(!A)return null;if(p.Cc&&((A=p.ga)!=null&&(A.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*R}function Er(p,m,S,A,R,P){for(;0<R--;){var M,q=p,H=m+(S?1:0),X=p,he=m+(S?0:3);for(M=0;M<A;++M){var Te=X[he+4*M];Te!=255&&(Te*=32897,q[H+4*M+0]=q[H+4*M+0]*Te>>23,q[H+4*M+1]=q[H+4*M+1]*Te>>23,q[H+4*M+2]=q[H+4*M+2]*Te>>23)}m+=P}}function _r(p,m,S,A,R){for(;0<A--;){var P;for(P=0;P<S;++P){var M=p[m+2*P+0],q=15&(X=p[m+2*P+1]),H=4369*q,X=(240&X|X>>4)*H>>16;p[m+2*P+0]=(240&M|M>>4)*H>>16&240|(15&M|M<<4)*H>>16>>4&15,p[m+2*P+1]=240&X|q}m+=R}}function Kr(p,m,S,A,R,P,M,q){var H,X,he=255;for(X=0;X<R;++X){for(H=0;H<A;++H){var Te=p[m+H];P[M+4*H]=Te,he&=Te}m+=S,M+=q}return he!=255}function is(p,m,S,A,R){var P;for(P=0;P<R;++P)S[A+P]=p[m+P]>>8}function ba(){nl=Er,Gi=_r,Vi=Kr,bo=is}function as(p,m,S){W[p]=function(A,R,P,M,q,H,X,he,Te,K,de,we,De,Ae,Ue,Be,Ke){var Ge,Nt=Ke-1>>1,ht=q[H+0]|X[he+0]<<16,$t=Te[K+0]|de[we+0]<<16;e(A!=null);var pt=3*ht+$t+131074>>2;for(m(A[R+0],255&pt,pt>>16,De,Ae),P!=null&&(pt=3*$t+ht+131074>>2,m(P[M+0],255&pt,pt>>16,Ue,Be)),Ge=1;Ge<=Nt;++Ge){var an=q[H+Ge]|X[he+Ge]<<16,Sr=Te[K+Ge]|de[we+Ge]<<16,zt=ht+an+$t+Sr+524296,mt=zt+2*(an+$t)>>3;pt=mt+ht>>1,ht=(zt=zt+2*(ht+Sr)>>3)+an>>1,m(A[R+2*Ge-1],255&pt,pt>>16,De,Ae+(2*Ge-1)*S),m(A[R+2*Ge-0],255&ht,ht>>16,De,Ae+(2*Ge-0)*S),P!=null&&(pt=zt+$t>>1,ht=mt+Sr>>1,m(P[M+2*Ge-1],255&pt,pt>>16,Ue,Be+(2*Ge-1)*S),m(P[M+2*Ge+0],255&ht,ht>>16,Ue,Be+(2*Ge+0)*S)),ht=an,$t=Sr}1&Ke||(pt=3*ht+$t+131074>>2,m(A[R+Ke-1],255&pt,pt>>16,De,Ae+(Ke-1)*S),P!=null&&(pt=3*$t+ht+131074>>2,m(P[M+Ke-1],255&pt,pt>>16,Ue,Be+(Ke-1)*S)))}}function go(){qr[oi]=ms,qr[rl]=Ha,qr[qa]=Js,qr[Ul]=ju,qr[So]=ku,qr[fs]=sl,qr[Ou]=Cu,qr[Il]=Ha,qr[Ks]=ju,qr[ds]=ku,qr[il]=sl}function Pa(p){return p&-16384?0>p?0:255:p>>Ld}function Fs(p,m){return Pa((19077*p>>8)+(26149*m>>8)-14234)}function zs(p,m,S){return Pa((19077*p>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function Hs(p,m){return Pa((19077*p>>8)+(33050*m>>8)-17685)}function ss(p,m,S,A,R){A[R+0]=Fs(p,S),A[R+1]=zs(p,m,S),A[R+2]=Hs(p,m)}function Ur(p,m,S,A,R){A[R+0]=Hs(p,m),A[R+1]=zs(p,m,S),A[R+2]=Fs(p,S)}function $s(p,m,S,A,R){var P=zs(p,m,S);m=P<<3&224|Hs(p,m)>>3,A[R+0]=248&Fs(p,S)|P>>5,A[R+1]=m}function ea(p,m,S,A,R){var P=240&Hs(p,m)|15;A[R+0]=240&Fs(p,S)|zs(p,m,S)>>4,A[R+1]=P}function Rl(p,m,S,A,R){A[R+0]=255,ss(p,m,S,A,R+1)}function Dl(p,m,S,A,R){Ur(p,m,S,A,R),A[R+3]=255}function gi(p,m,S,A,R){ss(p,m,S,A,R),A[R+3]=255}function Ma(p,m,S){W[p]=function(A,R,P,M,q,H,X,he,Te){for(var K=he+(-2&Te)*S;he!=K;)m(A[R+0],P[M+0],q[H+0],X,he),m(A[R+1],P[M+0],q[H+0],X,he+S),R+=2,++M,++H,he+=2*S;1&Te&&m(A[R+0],P[M+0],q[H+0],X,he)}}function vo(p,m,S){return S==0?p==0?m==0?6:5:m==0?4:0:S}function Gs(p,m,S,A,R){switch(p>>>30){case 3:hs(m,S,A,R,0);break;case 2:$i(m,S,A,R);break;case 1:on(m,S,A,R)}}function ai(p,m){var S,A,R=m.M,P=m.Nb,M=p.oc,q=p.pc+40,H=p.oc,X=p.pc+584,he=p.oc,Te=p.pc+600;for(S=0;16>S;++S)M[q+32*S-1]=129;for(S=0;8>S;++S)H[X+32*S-1]=129,he[Te+32*S-1]=129;for(0<R?M[q-1-32]=H[X-1-32]=he[Te-1-32]=129:(o(M,q-32-1,127,21),o(H,X-32-1,127,9),o(he,Te-32-1,127,9)),A=0;A<p.za;++A){var K=m.ya[m.aa+A];if(0<A){for(S=-1;16>S;++S)a(M,q+32*S-4,M,q+32*S+12,4);for(S=-1;8>S;++S)a(H,X+32*S-4,H,X+32*S+4,4),a(he,Te+32*S-4,he,Te+32*S+4,4)}var de=p.Gd,we=p.Hd+A,De=K.ad,Ae=K.Hc;if(0<R&&(a(M,q-32,de[we].y,0,16),a(H,X-32,de[we].f,0,8),a(he,Te-32,de[we].ea,0,8)),K.Za){var Ue=M,Be=q-32+16;for(0<R&&(A>=p.za-1?o(Ue,Be,de[we].y[15],4):a(Ue,Be,de[we+1].y,0,4)),S=0;4>S;S++)Ue[Be+128+S]=Ue[Be+256+S]=Ue[Be+384+S]=Ue[Be+0+S];for(S=0;16>S;++S,Ae<<=2)Ue=M,Be=q+No[S],mi[K.Ob[S]](Ue,Be),Gs(Ae,De,16*+S,Ue,Be)}else if(Ue=vo(A,R,K.Ob[0]),vs[Ue](M,q),Ae!=0)for(S=0;16>S;++S,Ae<<=2)Gs(Ae,De,16*+S,M,q+No[S]);for(S=K.Gc,Ue=vo(A,R,K.Dd),Wi[Ue](H,X),Wi[Ue](he,Te),Ae=De,Ue=H,Be=X,255&(K=0|S)&&(170&K?si(Ae,256,Ue,Be):An(Ae,256,Ue,Be)),K=he,Ae=Te,255&(S>>=8)&&(170&S?si(De,320,K,Ae):An(De,320,K,Ae)),R<p.Ub-1&&(a(de[we].y,0,M,q+480,16),a(de[we].f,0,H,X+224,8),a(de[we].ea,0,he,Te+224,8)),S=8*P*p.B,de=p.sa,we=p.ta+16*A+16*P*p.R,De=p.qa,K=p.ra+8*A+S,Ae=p.Ha,Ue=p.Ia+8*A+S,S=0;16>S;++S)a(de,we+S*p.R,M,q+32*S,16);for(S=0;8>S;++S)a(De,K+S*p.B,H,X+32*S,8),a(Ae,Ue+S*p.B,he,Te+32*S,8)}}function mo(p,m,S,A,R,P,M,q,H){var X=[0],he=[0],Te=0,K=H!=null?H.kd:0,de=H??new We;if(p==null||12>S)return 7;de.data=p,de.w=m,de.ha=S,m=[m],S=[S],de.gb=[de.gb];e:{var we=m,De=S,Ae=de.gb;if(e(p!=null),e(De!=null),e(Ae!=null),Ae[0]=0,12<=De[0]&&!n(p,we[0],"RIFF")){if(n(p,we[0]+8,"WEBP")){Ae=3;break e}var Ue=ut(p,we[0]+4);if(12>Ue||4294967286<Ue){Ae=3;break e}if(K&&Ue>De[0]-8){Ae=7;break e}Ae[0]=Ue,we[0]+=12,De[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ue=0<de.gb[0],S=S[0];;){e:{var Be=p;De=m,Ae=S;var Ke=X,Ge=he,Nt=we=[0];if((pt=Te=[Te])[0]=0,8>Ae[0])Ae=7;else{if(!n(Be,De[0],"VP8X")){if(ut(Be,De[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ht=ut(Be,De[0]+8),$t=1+Je(Be,De[0]+12);if(2147483648<=$t*(Be=1+Je(Be,De[0]+15))){Ae=3;break e}Nt!=null&&(Nt[0]=ht),Ke!=null&&(Ke[0]=$t),Ge!=null&&(Ge[0]=Be),De[0]+=18,Ae[0]-=18,pt[0]=1}Ae=0}}if(Te=Te[0],we=we[0],Ae!=0)return Ae;if(De=!!(2&we),!Ue&&Te)return 3;if(P!=null&&(P[0]=!!(16&we)),M!=null&&(M[0]=De),q!=null&&(q[0]=0),M=X[0],we=he[0],Te&&De&&H==null){Ae=0;break}if(4>S){Ae=7;break}if(Ue&&Te||!Ue&&!Te&&!n(p,m[0],"ALPH")){S=[S],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{ht=p,Ae=m,Ue=S;var pt=de.gb;Ke=de.na,Ge=de.P,Nt=de.Sa,$t=22,e(ht!=null),e(Ue!=null),Be=Ae[0];var an=Ue[0];for(e(Ke!=null),e(Nt!=null),Ke[0]=null,Ge[0]=null,Nt[0]=0;;){if(Ae[0]=Be,Ue[0]=an,8>an){Ae=7;break e}var Sr=ut(ht,Be+4);if(4294967286<Sr){Ae=3;break e}var zt=8+Sr+1&-2;if($t+=zt,0<pt&&$t>pt){Ae=3;break e}if(!n(ht,Be,"VP8 ")||!n(ht,Be,"VP8L")){Ae=0;break e}if(an[0]<zt){Ae=7;break e}n(ht,Be,"ALPH")||(Ke[0]=ht,Ge[0]=Be+8,Nt[0]=Sr),Be+=zt,an-=zt}}if(S=S[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],Ae!=0)break}S=[S],de.Ja=[de.Ja],de.xa=[de.xa];e:if(pt=p,Ae=m,Ue=S,Ke=de.gb[0],Ge=de.Ja,Nt=de.xa,ht=Ae[0],Be=!n(pt,ht,"VP8 "),$t=!n(pt,ht,"VP8L"),e(pt!=null),e(Ue!=null),e(Ge!=null),e(Nt!=null),8>Ue[0])Ae=7;else{if(Be||$t){if(pt=ut(pt,ht+4),12<=Ke&&pt>Ke-12){Ae=3;break e}if(K&&pt>Ue[0]-8){Ae=7;break e}Ge[0]=pt,Ae[0]+=8,Ue[0]-=8,Nt[0]=$t}else Nt[0]=5<=Ue[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),Ge[0]=Ue[0];Ae=0}if(S=S[0],de.Ja=de.Ja[0],de.xa=de.xa[0],m=m[0],Ae!=0)break;if(4294967286<de.Ja)return 3;if(q==null||De||(q[0]=de.xa?2:1),M=[M],we=[we],de.xa){if(5>S){Ae=7;break}q=M,K=we,De=P,p==null||5>S?p=0:5<=S&&p[m+0]==47&&!(p[m+4]>>5)?(Ue=[0],pt=[0],Ke=[0],Ne(Ge=new U,p,m,S),Tn(Ge,Ue,pt,Ke)?(q!=null&&(q[0]=Ue[0]),K!=null&&(K[0]=pt[0]),De!=null&&(De[0]=Ke[0]),p=1):p=0):p=0}else{if(10>S){Ae=7;break}q=we,p==null||10>S||!Wr(p,m+3,S-3)?p=0:(K=p[m+0]|p[m+1]<<8|p[m+2]<<16,De=16383&(p[m+7]<<8|p[m+6]),p=16383&(p[m+9]<<8|p[m+8]),1&K||3<(K>>1&7)||!(K>>4&1)||K>>5>=de.Ja||!De||!p?p=0:(M&&(M[0]=De),q&&(q[0]=p),p=1))}if(!p||(M=M[0],we=we[0],Te&&(X[0]!=M||he[0]!=we)))return 3;H!=null&&(H[0]=de,H.offset=m-H.w,e(4294967286>m-H.w),e(H.offset==H.ha-S));break}return Ae==0||Ae==7&&Te&&H==null?(P!=null&&(P[0]|=de.na!=null&&0<de.na.length),A!=null&&(A[0]=M),R!=null&&(R[0]=we),0):Ae}function Vs(p,m,S){var A=m.width,R=m.height,P=0,M=0,q=A,H=R;if(m.Da=p!=null&&0<p.Da,m.Da&&(q=p.cd,H=p.bd,P=p.v,M=p.j,11>S||(P&=-2,M&=-2),0>P||0>M||0>=q||0>=H||P+q>A||M+H>R))return 0;if(m.v=P,m.j=M,m.va=P+q,m.o=M+H,m.U=q,m.T=H,m.da=p!=null&&0<p.da,m.da){if(!ft(q,H,S=[p.ib],P=[p.hb]))return 0;m.ib=S[0],m.hb=P[0]}return m.ob=p!=null&&p.ob,m.Kb=p==null||!p.Sd,m.da&&(m.ob=m.ib<3*A/4&&m.hb<3*R/4,m.Kb=0),1}function Ko(p){if(p==null)return 2;if(11>p.S){var m=p.f.RGBA;m.fb+=(p.height-1)*m.A,m.A=-m.A}else m=p.f.kb,p=p.height,m.O+=(p-1)*m.fa,m.fa=-m.fa,m.N+=(p-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(p-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(p-1)*m.lb,m.lb=-m.lb);return 0}function os(p,m,S,A){if(A==null||0>=p||0>=m)return 2;if(S!=null){if(S.Da){var R=S.cd,P=S.bd,M=-2&S.v,q=-2&S.j;if(0>M||0>q||0>=R||0>=P||M+R>p||q+P>m)return 2;p=R,m=P}if(S.da){if(!ft(p,m,R=[S.ib],P=[S.hb]))return 2;p=R[0],m=P[0]}}A.width=p,A.height=m;e:{var H=A.width,X=A.height;if(p=A.S,0>=H||0>=X||!(p>=oi&&13>p))p=2;else{if(0>=A.Rd&&A.sd==null){M=P=R=m=0;var he=(q=H*Ih[p])*X;if(11>p||(P=(X+1)/2*(m=(H+1)/2),p==12&&(M=(R=H)*X)),(X=s(he+2*P+M))==null){p=1;break e}A.sd=X,11>p?((H=A.f.RGBA).eb=X,H.fb=0,H.A=q,H.size=he):((H=A.f.kb).y=X,H.O=0,H.fa=q,H.Fd=he,H.f=X,H.N=0+he,H.Ab=m,H.Cd=P,H.ea=X,H.W=0+he+P,H.Db=m,H.Ed=P,p==12&&(H.F=X,H.J=0+he+2*P),H.Tc=M,H.lb=R)}if(m=1,R=A.S,P=A.width,M=A.height,R>=oi&&13>R)if(11>R)p=A.f.RGBA,m&=(q=Math.abs(p.A))*(M-1)+P<=p.size,m&=q>=P*Ih[R],m&=p.eb!=null;else{p=A.f.kb,q=(P+1)/2,he=(M+1)/2,H=Math.abs(p.fa),X=Math.abs(p.Ab);var Te=Math.abs(p.Db),K=Math.abs(p.lb),de=K*(M-1)+P;m&=H*(M-1)+P<=p.Fd,m&=X*(he-1)+q<=p.Cd,m=(m&=Te*(he-1)+q<=p.Ed)&H>=P&X>=q&Te>=q,m&=p.y!=null,m&=p.f!=null,m&=p.ea!=null,R==12&&(m&=K>=P,m&=de<=p.Tc,m&=p.F!=null)}else m=0;p=m?0:2}}return p!=0||S!=null&&S.fd&&(p=Ko(A)),p}var ls=64,vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,us=32,Ba=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(p){return p},W.Predictor2=function(p,m,S){return m[S+0]},W.Predictor3=function(p,m,S){return m[S+1]},W.Predictor4=function(p,m,S){return m[S-1]},W.Predictor5=function(p,m,S){return xe(xe(p,m[S+1]),m[S+0])},W.Predictor6=function(p,m,S){return xe(p,m[S-1])},W.Predictor7=function(p,m,S){return xe(p,m[S+0])},W.Predictor8=function(p,m,S){return xe(m[S-1],m[S+0])},W.Predictor9=function(p,m,S){return xe(m[S+0],m[S+1])},W.Predictor10=function(p,m,S){return xe(xe(p,m[S-1]),xe(m[S+0],m[S+1]))},W.Predictor11=function(p,m,S){var A=m[S+0];return 0>=et(A>>24&255,p>>24&255,(m=m[S-1])>>24&255)+et(A>>16&255,p>>16&255,m>>16&255)+et(A>>8&255,p>>8&255,m>>8&255)+et(255&A,255&p,255&m)?A:p},W.Predictor12=function(p,m,S){var A=m[S+0];return(Re((p>>24&255)+(A>>24&255)-((m=m[S-1])>>24&255))<<24|Re((p>>16&255)+(A>>16&255)-(m>>16&255))<<16|Re((p>>8&255)+(A>>8&255)-(m>>8&255))<<8|Re((255&p)+(255&A)-(255&m)))>>>0},W.Predictor13=function(p,m,S){var A=m[S-1];return(lt((p=xe(p,m[S+0]))>>24&255,A>>24&255)<<24|lt(p>>16&255,A>>16&255)<<16|lt(p>>8&255,A>>8&255)<<8|lt(255&p,255&A))>>>0};var Pl=W.PredictorAdd0;W.PredictorAdd1=gt,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var Xo=W.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var hr,Su=W.ColorIndexInverseTransform,tr=W.MapARGB,Ri=W.VP8LColorIndexInverseTransformAlpha,Jo=W.MapAlpha,Zo=W.VP8LPredictorsAdd=[];Zo.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var Qo,el,Ua,Ws,Hi,cs,ta,hs,$i,si,on,An,nr,zn,Ia,tl,yo,xu,Ch,Rh,Ec,Nc,Au,na,nl,Gi,Vi,bo,Eu=s(511),Ml=s(2041),Bl=s(225),Nu=s(767),wo=0,Tu=Ml,_o=Bl,Ir=Nu,ra=Eu,oi=0,rl=1,qa=2,Ul=3,So=4,fs=5,Ou=6,Il=7,Ks=8,ds=9,il=10,Lu=[2,3,7],ia=[3,3,11],Yi=[280,256,256,256,40],xo=[0,1,1,1,0],ps=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ao=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dh=8,ql=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nr=null,rr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xs=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Eo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ph=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],vs=[],mi=[],Wi=[],Mh=1,al=2,za=[],qr=[];as("UpsampleRgbLinePair",ss,3),as("UpsampleBgrLinePair",Ur,3),as("UpsampleRgbaLinePair",gi,4),as("UpsampleBgraLinePair",Dl,4),as("UpsampleArgbLinePair",Rl,4),as("UpsampleRgba4444LinePair",ea,2),as("UpsampleRgb565LinePair",$s,2);var ms=W.UpsampleRgbLinePair,Js=W.UpsampleBgrLinePair,Ha=W.UpsampleRgbaLinePair,ju=W.UpsampleBgraLinePair,ku=W.UpsampleArgbLinePair,sl=W.UpsampleRgba4444LinePair,Cu=W.UpsampleRgb565LinePair,$a=16,Tr=1<<$a-1,Zs=-227,Ru=482,Ld=6,Bh=0,jd=s(256),Or=s(256),Oc=s(256),zl=s(256),Hl=s(Ru-Zs),Lc=s(Ru-Zs);Ma("YuvToRgbRow",ss,3),Ma("YuvToBgrRow",Ur,3),Ma("YuvToRgbaRow",gi,4),Ma("YuvToBgraRow",Dl,4),Ma("YuvToArgbRow",Rl,4),Ma("YuvToRgba4444Row",ea,2),Ma("YuvToRgb565Row",$s,2);var No=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ys=[0,2,8],kd=[8,7,6,4,4,2,2,2,1,1,1,1],Uh=1;this.WebPDecodeRGBA=function(p,m,S,A,R){var P=rl,M=new qe,q=new qt;M.ba=q,q.S=P,q.width=[q.width],q.height=[q.height];var H=q.width,X=q.height,he=new jt;if(he==null||p==null)var Te=2;else e(he!=null),Te=mo(p,m,S,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Te!=0?H=0:(H!=null&&(H[0]=he.width[0]),X!=null&&(X[0]=he.height[0]),H=1),H){q.width=q.width[0],q.height=q.height[0],A!=null&&(A[0]=q.width),R!=null&&(R[0]=q.height);e:{if(A=new Qa,(R=new We).data=p,R.w=m,R.ha=S,R.kd=1,m=[0],e(R!=null),((p=mo(R.data,R.w,R.ha,null,null,null,m,null,R))==0||p==7)&&m[0]&&(p=4),(m=p)==0){if(e(M!=null),A.data=R.data,A.w=R.w+R.offset,A.ha=R.ha-R.offset,A.put=Rt,A.ac=$r,A.bc=Kn,A.ma=M,R.xa){if((p=Ln())==null){M=1;break e}if((function(K,de){var we=[0],De=[0],Ae=[0];t:for(;;){if(K==null)return 0;if(de==null)return K.a=2,0;if(K.l=de,K.a=0,Ne(K.m,de.data,de.w,de.ha),!Tn(K.m,we,De,Ae)){K.a=3;break t}if(K.xb=al,de.width=we[0],de.height=De[0],!Oi(we[0],De[0],1,K,null))break t;return 1}return e(K.a!=0),0})(p,A)){if(A=(m=os(A.width,A.height,M.Oa,M.ba))==0){t:{A=p;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((S=A.l)!=null),e((R=S.ma)!=null),A.xb!=0){if(A.ca=R.ba,A.tb=R.tb,e(A.ca!=null),!Vs(R.Oa,S,Ul)){A.a=2;break n}if(!ni(A,S.width)||S.da)break n;if((S.da||Lt(A.ca.S))&&ba(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&ba()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Y(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Br(A,A.V,A.Ba,A.c,A.i,S.o,ei))break n;R.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(m=p.a)}else m=p.a}else{if((p=new ri)==null){M=1;break e}if(p.Fa=R.na,p.P=R.P,p.qc=R.Sa,br(p,A)){if((m=os(A.width,A.height,M.Oa,M.ba))==0){if(p.Aa=0,S=M.Oa,e((R=p)!=null),S!=null){if(0<(H=0>(H=S.Md)?0:100<H?255:255*H/100)){for(X=he=0;4>X;++X)12>(Te=R.pb[X]).lc&&(Te.ia=H*kd[0>Te.lc?0:Te.lc]>>3),he|=Te.ia;he&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(K,de){if(K==null)return 0;if(de==null)return Xn(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!br(K,de))return 0;if(e(K.cb),de.ac==null||de.ac(de)){de.ob&&(K.L=0);var we=ys[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=de.v-we>>4,K.zb=de.j-we>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=de.o+15+we>>4,K.Hb=de.va+15+we>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var De=K.ed;for(we=0;4>we;++we){var Ae;if(K.Qa.Cb){var Ue=K.Qa.Lb[we];K.Qa.Fb||(Ue+=De.Tb)}else Ue=De.Tb;for(Ae=0;1>=Ae;++Ae){var Be=K.gd[we][Ae],Ke=Ue;if(De.Pc&&(Ke+=De.vd[0],Ae&&(Ke+=De.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var Ge=Ke;0<De.wb&&(Ge=4<De.wb?Ge>>2:Ge>>1)>9-De.wb&&(Ge=9-De.wb),1>Ge&&(Ge=1),Be.dd=Ge,Be.tc=2*Ke+Ge,Be.ld=40<=Ke?2:15<=Ke?1:0}else Be.tc=0;Be.La=Ae}}}we=0}else Xn(K,6,"Frame setup failed"),we=K.a;if(we=we==0){if(we){K.$c=0,0<K.Aa||(K.Ic=Uh);t:{we=K.Ic,De=4*(Ge=K.za);var Nt=32*Ge,ht=Ge+1,$t=0<K.L?Ge*(0<K.Aa?2:1):0,pt=(K.Aa==2?2:1)*Ge;if((Be=De+832+(Ae=3*(16*we+ys[K.L])/2*Nt)+(Ue=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=Be)we=0;else{if(Be>K.Vb){if(K.Vb=0,K.Ec=s(Be),K.Fc=0,K.Ec==null){we=Xn(K,1,"no memory during frame initialization.");break t}K.Vb=Be}Be=K.Ec,Ke=K.Fc,K.Ac=Be,K.Bc=Ke,Ke+=De,K.Gd=c(Nt,Ds),K.Hd=0,K.rb=c(ht+1,Yr),K.sb=1,K.wa=$t?c($t,Vr):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=Ge),e(!0),K.oc=Be,K.pc=Ke,Ke+=832,K.ya=c(pt,Za),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=Ge),K.R=16*Ge,K.B=8*Ge,Ge=(Nt=ys[K.L])*K.R,Nt=Nt/2*K.B,K.sa=Be,K.ta=Ke+Ge,K.qa=K.sa,K.ra=K.ta+16*we*K.R+Nt,K.Ha=K.qa,K.Ia=K.ra+8*we*K.B+Nt,K.$c=0,Ke+=Ae,K.mb=Ue?Be:null,K.nb=Ue?Ke:null,e(Ke+Ue<=K.Fc+K.Vb),es(K),o(K.Ac,K.Bc,0,De),we=1}}if(we){if(de.ka=0,de.y=K.sa,de.O=K.ta,de.f=K.qa,de.N=K.ra,de.ea=K.Ha,de.Vd=K.Ia,de.fa=K.R,de.Rc=K.B,de.F=null,de.J=0,!wo){for(we=-255;255>=we;++we)Eu[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)Ml[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)Bl[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)Nu[255+we]=0>we?0:255<we?255:we;wo=1}ta=Ms,hs=ka,si=Fi,on=co,An=ga,$i=pa,nr=wu,zn=po,Ia=C,tl=J,yo=_u,xu=w,Ch=le,Rh=me,Ec=Da,Nc=Wo,Au=yu,na=bu,mi[0]=Qi,mi[1]=re,mi[2]=ho,mi[3]=Zi,mi[4]=pi,mi[5]=Jn,mi[6]=Pn,mi[7]=ki,mi[8]=Vo,mi[9]=zi,vs[0]=xn,vs[1]=$e,vs[2]=rt,vs[3]=tt,vs[4]=Fn,vs[5]=cr,vs[6]=Bs,Wi[0]=ii,Wi[1]=Le,Wi[2]=Ca,Wi[3]=Yo,Wi[4]=Us,Wi[5]=ma,Wi[6]=Is,we=1}else we=0}we&&(we=(function(an,Sr){for(an.M=0;an.M<an.Va;++an.M){var zt,mt=an.Jc[an.M&an.Xb],nt=an.m,Qn=an;for(zt=0;zt<Qn.za;++zt){var Gt=nt,Qt=Qn,bt=Qt.Ac,Yt=Qt.Bc+4*zt,hn=Qt.zc,Hn=Qt.ya[Qt.aa+zt];if(Qt.Qa.Bb?Hn.$b=Me(Gt,Qt.Pa.jb[0])?2+Me(Gt,Qt.Pa.jb[2]):Me(Gt,Qt.Pa.jb[1]):Hn.$b=0,Qt.kc&&(Hn.Ad=Me(Gt,Qt.Bd)),Hn.Za=!Me(Gt,145)+0,Hn.Za){var fr=Hn.Ob,dr=0;for(Qt=0;4>Qt;++Qt){var ir,nn=hn[0+Qt];for(ir=0;4>ir;++ir){nn=Tc[bt[Yt+ir]][nn];for(var fn=Xs[Me(Gt,nn[0])];0<fn;)fn=Xs[2*fn+Me(Gt,nn[fn])];nn=-fn,bt[Yt+ir]=nn}a(fr,dr,bt,Yt,4),dr+=4,hn[0+Qt]=nn}}else nn=Me(Gt,156)?Me(Gt,128)?1:3:Me(Gt,163)?2:0,Hn.Ob[0]=nn,o(bt,Yt,nn,4),o(hn,0,nn,4);Hn.Dd=Me(Gt,142)?Me(Gt,114)?Me(Gt,183)?1:3:2:0}if(Qn.m.Ka)return Xn(an,7,"Premature end-of-partition0 encountered.");for(;an.ja<an.za;++an.ja){if(Qn=mt,Gt=(nt=an).rb[nt.sb-1],bt=nt.rb[nt.sb+nt.ja],zt=nt.ya[nt.aa+nt.ja],Yt=nt.kc?zt.Ad:0)Gt.la=bt.la=0,zt.Za||(Gt.Na=bt.Na=0),zt.Hc=0,zt.Gc=0,zt.ia=0;else{var ar,Pt;if(Gt=bt,bt=Qn,Yt=nt.Pa.Xc,hn=nt.ya[nt.aa+nt.ja],Hn=nt.pb[hn.$b],Qt=hn.ad,fr=0,dr=nt.rb[nt.sb-1],nn=ir=0,o(Qt,fr,0,384),hn.Za)var Lr=0,Ki=Yt[3];else{fn=s(16);var sr=Gt.Na+dr.Na;if(sr=Nr(bt,Yt[1],sr,Hn.Eb,0,fn,0),Gt.Na=dr.Na=(0<sr)+0,1<sr)ta(fn,0,Qt,fr);else{var yi=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Qt[fr+fn]=yi}Lr=1,Ki=Yt[0]}var jn=15&Gt.la,pr=15&dr.la;for(fn=0;4>fn;++fn){var bi=1&pr;for(yi=Pt=0;4>yi;++yi)jn=jn>>1|(bi=(sr=Nr(bt,Ki,sr=bi+(1&jn),Hn.Sc,Lr,Qt,fr))>Lr)<<7,Pt=Pt<<2|(3<sr?3:1<sr?2:Qt[fr+0]!=0),fr+=16;jn>>=4,pr=pr>>1|bi<<7,ir=(ir<<8|Pt)>>>0}for(Ki=jn,Lr=pr>>4,ar=0;4>ar;ar+=2){for(Pt=0,jn=Gt.la>>4+ar,pr=dr.la>>4+ar,fn=0;2>fn;++fn){for(bi=1&pr,yi=0;2>yi;++yi)sr=bi+(1&jn),jn=jn>>1|(bi=0<(sr=Nr(bt,Yt[2],sr,Hn.Qc,0,Qt,fr)))<<3,Pt=Pt<<2|(3<sr?3:1<sr?2:Qt[fr+0]!=0),fr+=16;jn>>=2,pr=pr>>1|bi<<5}nn|=Pt<<4*ar,Ki|=jn<<4<<ar,Lr|=(240&pr)<<ar}Gt.la=Ki,dr.la=Lr,hn.Hc=ir,hn.Gc=nn,hn.ia=43690&nn?0:Hn.ia,Yt=!(ir|nn)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[zt.$b][zt.Za],nt.wa[nt.Y+nt.ja].La|=!Yt),Qn.Ka)return Xn(an,7,"Premature end-of-file encountered.")}if(es(an),nt=Sr,Qn=1,zt=(mt=an).D,Gt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(zt.M=mt.M,zt.uc=Gt,ai(mt,zt),Qn=1,zt=(Pt=mt.D).Nb,Gt=(nn=ys[mt.L])*mt.R,bt=nn/2*mt.B,fn=16*zt*mt.R,yi=8*zt*mt.B,Yt=mt.sa,hn=mt.ta-Gt+fn,Hn=mt.qa,Qt=mt.ra-bt+yi,fr=mt.Ha,dr=mt.Ia-bt+yi,pr=(jn=Pt.M)==0,ir=jn>=mt.Va-1,mt.Aa==2&&ai(mt,Pt),Pt.uc)for(bi=(sr=mt).D.M,e(sr.D.uc),Pt=sr.yb;Pt<sr.Hb;++Pt){Lr=Pt,Ki=bi;var Xr=(Bn=(kr=sr).D).Nb;ar=kr.R;var Bn=Bn.wa[Bn.Y+Lr],mn=kr.sa,li=kr.ta+16*Xr*ar+16*Lr,Jr=Bn.dd,En=Bn.tc;if(En!=0)if(e(3<=En),kr.L==1)0<Lr&&Nc(mn,li,ar,En+4),Bn.La&&na(mn,li,ar,En),0<Ki&&Ec(mn,li,ar,En+4),Bn.La&&Au(mn,li,ar,En);else{var wi=kr.B,jr=kr.qa,Ga=kr.ra+8*Xr*wi+8*Lr,wa=kr.Ha,kr=kr.Ia+8*Xr*wi+8*Lr;Xr=Bn.ld,0<Lr&&(zn(mn,li,ar,En+4,Jr,Xr),tl(jr,Ga,wa,kr,wi,En+4,Jr,Xr)),Bn.La&&(xu(mn,li,ar,En,Jr,Xr),Rh(jr,Ga,wa,kr,wi,En,Jr,Xr)),0<Ki&&(nr(mn,li,ar,En+4,Jr,Xr),Ia(jr,Ga,wa,kr,wi,En+4,Jr,Xr)),Bn.La&&(yo(mn,li,ar,En,Jr,Xr),Ch(jr,Ga,wa,kr,wi,En,Jr,Xr))}}if(mt.ia&&alert("todo:DitherRow"),nt.put!=null){if(Pt=16*jn,jn=16*(jn+1),pr?(nt.y=mt.sa,nt.O=mt.ta+fn,nt.f=mt.qa,nt.N=mt.ra+yi,nt.ea=mt.Ha,nt.W=mt.Ia+yi):(Pt-=nn,nt.y=Yt,nt.O=hn,nt.f=Hn,nt.N=Qt,nt.ea=fr,nt.W=dr),ir||(jn-=nn),jn>nt.o&&(jn=nt.o),nt.F=null,nt.J=null,mt.Fa!=null&&0<mt.Fa.length&&Pt<jn&&(nt.J=Mn(mt,nt,Pt,jn-Pt),nt.F=mt.mb,nt.F==null&&nt.F.length==0)){Qn=Xn(mt,3,"Could not decode alpha data.");break t}Pt<nt.j&&(nn=nt.j-Pt,Pt=nt.j,e(!(1&nn)),nt.O+=mt.R*nn,nt.N+=mt.B*(nn>>1),nt.W+=mt.B*(nn>>1),nt.F!=null&&(nt.J+=nt.width*nn)),Pt<jn&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=Pt-nt.j,nt.U=nt.va-nt.v,nt.T=jn-Pt,Qn=nt.put(nt))}zt+1!=mt.Ic||ir||(a(mt.sa,mt.ta-Gt,Yt,hn+16*mt.R,Gt),a(mt.qa,mt.ra-bt,Hn,Qt+8*mt.B,bt),a(mt.Ha,mt.Ia-bt,fr,dr+8*mt.B,bt))}if(!Qn)return Xn(an,6,"Output aborted.")}return 1})(K,de)),de.bc!=null&&de.bc(de),we&=1}return we?(K.cb=0,we):0})(p,A)||(m=p.a)}}else m=p.a}m==0&&M.Oa!=null&&M.Oa.fd&&(m=Ko(M.ba))}M=m}P=M!=0?null:11>P?q.f.RGBA.eb:q.f.kb.y}else P=null;return P};var Ih=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(W,ve){for(var D="",F=0;F<4;F++)D+=String.fromCharCode(W[ve++]);return D}function v(W,ve){return W[ve+0]|W[ve+1]<<8}function _(W,ve){return(W[ve+0]|W[ve+1]<<8|W[ve+2]<<16)>>>0}function x(W,ve){return(W[ve+0]|W[ve+1]<<8|W[ve+2]<<16|W[ve+3]<<24)>>>0}new f;var y=[0],E=[0],L=[],k=new f,N=r,$=(function(W,ve){var D={},F=0,Q=!1,ee=0,be=0;if(D.frames=[],!(function(j,U){for(var V=0;V<4;V++)if(j[U+V]!="RIFF".charCodeAt(V))return!0;return!1})(W,ve)){for(x(W,ve+=4),ve+=8;ve<W.length;){var Z=d(W,ve),ue=x(W,ve+=4);ve+=4;var ce=ue+(1&ue);switch(Z){case"VP8 ":case"VP8L":D.frames[F]===void 0&&(D.frames[F]={}),(se=D.frames[F]).src_off=Q?be:ve-8,se.src_size=ee+ue+8,F++,Q&&(Q=!1,ee=0,be=0);break;case"VP8X":(se=D.header={}).feature_flags=W[ve];var Ne=ve+4;se.canvas_width=1+_(W,Ne),Ne+=3,se.canvas_height=1+_(W,Ne),Ne+=3;break;case"ALPH":Q=!0,ee=ce+8,be=ve-8;break;case"ANIM":(se=D.header).bgcolor=x(W,ve),Ne=ve+4,se.loop_count=v(W,Ne),Ne+=2;break;case"ANMF":var G,se;(se=D.frames[F]={}).offset_x=2*_(W,ve),ve+=3,se.offset_y=2*_(W,ve),ve+=3,se.width=1+_(W,ve),ve+=3,se.height=1+_(W,ve),ve+=3,se.duration=_(W,ve),ve+=3,G=W[ve++],se.dispose=1&G,se.blend=G>>1&1}Z!="ANMF"&&(ve+=ce)}return D}})(N,0);$.response=N,$.rgbaoutput=!0,$.dataurl=!1;var I=$.header?$.header:null,z=$.frames?$.frames:null;if(I){I.loop_counter=I.loop_count,y=[I.canvas_height],E=[I.canvas_width];for(var ae=0;ae<z.length&&z[ae].blend!=0;ae++);}var Ee=z[0],ye=k.WebPDecodeRGBA(N,Ee.src_off,Ee.src_size,E,y);Ee.rgba=ye,Ee.imgwidth=E[0],Ee.imgheight=y[0];for(var oe=0;oe<E[0]*y[0]*4;oe++)L[oe]=ye[oe];return this.width=E,this.height=y,this.data=L,this}(function(r){var e,n,a,o,s,c,h,f,d,v=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new c,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new c,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var _=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=j;Object.defineProperty(this,"pdf",{get:function(){return U}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(Y){V=!!Y}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Y){te=!!Y}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Y){isNaN(Y)||(ne=Y)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Y){isNaN(Y)||(pe=Y)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Y){var Ze;typeof Y=="number"?Ze=[Y,Y,Y,Y]:((Ze=new Array(4))[0]=Y[0],Ze[1]=Y.length>=2?Y[1]:Ze[0],Ze[2]=Y.length>=3?Y[2]:Ze[0],Ze[3]=Y.length>=4?Y[3]:Ze[1]),d.margin=Ze}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Y){_e=Y}});var ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return ke},set:function(Y){ke=Y}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(Y){Me=Y}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Y){Y instanceof v&&(d=Y)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Y){d.path=Y}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(Y){Ye=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ze;Ze=x(Y),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ze=x(Y);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var Qe=null,Je=null,ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(Y){Qe=null,Je=null,ut=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ze;if(this.ctx.font=Y,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var it=Ze[1];Ze[2];var ft=Ze[3],Ie=Ze[4];Ze[5];var ot=Ze[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(st==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var ze=(function(ct){var Nn,Zt,_t=[],vt=ct.trim();if(vt==="")return m0;if(vt in im)return[im[vt]];for(;vt!=="";){switch(Zt=null,Nn=(vt=sm(vt)).charAt(0)){case'"':case"'":Zt=Ax(vt.substring(1),Nn);break;default:Zt=Ex(vt)}if(Zt===null||(_t.push(Zt[0]),(vt=sm(Zt[1]))!==""&&vt.charAt(0)!==","))return m0;vt=vt.replace(/^,/,"")}return _t})(ot);if(this.fontFaces){var xe=(function(ct,Nn){var Zt=ct.getFontList(),_t=JSON.stringify(Zt);if(Qe===null||Je!==_t){var vt=(function(Dt){var Et=[];return Object.keys(Dt).forEach(function(Wt){Dt[Wt].forEach(function(Lt){var It=null;switch(Lt){case"bold":It={family:Wt,weight:"bold"};break;case"italic":It={family:Wt,style:"italic"};break;case"bolditalic":It={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Wt}}It!==null&&(It.ref={name:Wt,style:Lt},Et.push(It))})}),Et})(Zt);Qe=(function(Dt){for(var Et={},Wt=0;Wt<Dt.length;++Wt){var Lt=v0(Dt[Wt]),It=Lt.family,pn=Lt.stretch,qt=Lt.style,jt=Lt.weight;Et[It]=Et[It]||{},Et[It][pn]=Et[It][pn]||{},Et[It][pn][qt]=Et[It][pn][qt]||{},Et[It][pn][qt][jt]=Lt}return Et})(vt.concat(Nn)),Je=_t}return Qe})(this.pdf,this.fontFaces),Re=ze.map(function(ct){return{family:ct,stretch:"normal",weight:ft,style:it}}),lt=(function(ct,Nn,Zt){for(var _t=(Zt=Zt||{}).defaultFontFamily||"times",vt=Object.assign({},xx,Zt.genericFontFamilies||{}),Dt=null,Et=null,Wt=0;Wt<Nn.length;++Wt)if(vt[(Dt=v0(Nn[Wt])).family]&&(Dt.family=vt[Dt.family]),ct.hasOwnProperty(Dt.family)){Et=ct[Dt.family];break}if(!(Et=Et||ct[_t]))throw new Error("Could not find a font-family for the rule '"+am(Dt)+"' and default family '"+_t+"'.");if(Et=(function(Lt,It){if(It[Lt])return It[Lt];var pn=e1[Lt],qt=pn<=e1.normal?-1:1,jt=rm(It,By,pn,qt);if(!jt)throw new Error("Could not find a matching font-stretch value for "+Lt);return jt})(Dt.stretch,Et),Et=(function(Lt,It){if(It[Lt])return It[Lt];for(var pn=My[Lt],qt=0;qt<pn.length;++qt)if(It[pn[qt]])return It[pn[qt]];throw new Error("Could not find a matching font-style for "+Lt)})(Dt.style,Et),!(Et=(function(Lt,It){if(It[Lt])return It[Lt];if(Lt===400&&It[500])return It[500];if(Lt===500&&It[400])return It[400];var pn=Sx[Lt],qt=rm(It,Uy,pn,Lt<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+Lt);return qt})(Dt.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+am(Dt)+"'.");return Et})(xe,Re);this.pdf.setFont(lt.ref.name,lt.ref.style)}else{var et="";(ft==="bold"||parseInt(ft,10)>=700||it==="bold")&&(et="bold"),it==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var gt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xe=0;Xe<ze.length;Xe++){if(this.pdf.internal.getFont(ze[Xe],et,{noFallback:!0,disableWarning:!0})!==void 0){gt=ze[Xe];break}if(et==="bolditalic"&&this.pdf.internal.getFont(ze[Xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=ze[Xe],et="bold";else if(this.pdf.internal.getFont(ze[Xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=ze[Xe],et="normal";break}}if(gt===""){for(var At=0;At<ze.length;At++)if(at[ze[At]]){gt=at[ze[At]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};_.prototype.setLineDash=function(j){this.lineDash=j},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){z.call(this,"fill",!1)},_.prototype.stroke=function(){z.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(j,U){if(isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new c(j,U));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new c(j,U)},_.prototype.closePath=function(){var j=new c(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Rn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){j=new c(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(j.x,j.y)},_.prototype.lineTo=function(j,U){if(isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new c(j,U));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new c(V.x,V.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},_.prototype.quadraticCurveTo=function(j,U,V,te){if(isNaN(V)||isNaN(te)||isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new c(V,te)),pe=this.ctx.transform.applyToPoint(new c(j,U));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},_.prototype.bezierCurveTo=function(j,U,V,te,ne,pe){if(isNaN(ne)||isNaN(pe)||isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new c(ne,pe)),ke=this.ctx.transform.applyToPoint(new c(j,U)),Me=this.ctx.transform.applyToPoint(new c(V,te));this.path.push({type:"bct",x1:ke.x,y1:ke.y,x2:Me.x,y2:Me.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new c(_e.x,_e.y)},_.prototype.arc=function(j,U,V,te,ne,pe){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te)||isNaN(ne))throw Gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new c(j,U));j=_e.x,U=_e.y;var ke=this.ctx.transform.applyToPoint(new c(0,V)),Me=this.ctx.transform.applyToPoint(new c(0,0));V=Math.sqrt(Math.pow(ke.x-Me.x,2)+Math.pow(ke.y-Me.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:j,y:U,radius:V,startAngle:te,endAngle:ne,counterclockwise:pe})},_.prototype.arcTo=function(j,U,V,te,ne){throw new Error("arcTo not implemented.")},_.prototype.rect=function(j,U,V,te){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,U),this.lineTo(j+V,U),this.lineTo(j+V,U+te),this.lineTo(j,U+te),this.lineTo(j,U),this.lineTo(j+V,U),this.lineTo(j,U)},_.prototype.fillRect=function(j,U,V,te){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,U,V,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},_.prototype.strokeRect=function(j,U,V,te){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(j,U,V,te),this.stroke())},_.prototype.clearRect=function(j,U,V,te){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te))throw Gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,U,V,te))},_.prototype.save=function(j){j=typeof j!="boolean"||j;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},_.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(U),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(j){var U,V,te,ne;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))U=0,V=0,te=0,ne=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(pe!==null)U=parseInt(pe[1]),V=parseInt(pe[2]),te=parseInt(pe[3]),ne=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)U=parseInt(pe[1]),V=parseInt(pe[2]),te=parseInt(pe[3]),ne=parseFloat(pe[4]);else{if(ne=1,typeof j=="string"&&j.charAt(0)!=="#"){var _e=new Ly(j);j=_e.ok?_e.toHex():"#000000"}j.length===4?(U=j.substring(1,2),U+=U,V=j.substring(2,3),V+=V,te=j.substring(3,4),te+=te):(U=j.substring(1,3),V=j.substring(3,5),te=j.substring(5,7)),U=parseInt(U,16),V=parseInt(V,16),te=parseInt(te,16)}}return{r:U,g:V,b:te,a:ne,style:j}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(j,U,V,te){if(isNaN(U)||isNaN(V)||typeof j!="string")throw Gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!y.call(this)){var ne=ce(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;F.call(this,{text:j,x:U,y:V,scale:pe,angle:ne,align:this.textAlign,maxWidth:te})}},_.prototype.strokeText=function(j,U,V,te){if(isNaN(U)||isNaN(V)||typeof j!="string")throw Gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){te=isNaN(te)?void 0:te;var ne=ce(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;F.call(this,{text:j,x:U,y:V,scale:pe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},_.prototype.measureText=function(j){if(typeof j!="string")throw Gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,V=this.pdf.internal.scaleFactor,te=U.internal.getFontSize(),ne=U.getStringUnitWidth(j)*te/U.internal.scaleFactor;return new function(pe){var _e=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},_.prototype.scale=function(j,U){if(isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new f(j,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},_.prototype.rotate=function(j){if(isNaN(j))throw Gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},_.prototype.translate=function(j,U){if(isNaN(j)||isNaN(U))throw Gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new f(1,0,0,1,j,U);this.ctx.transform=this.ctx.transform.multiply(V)},_.prototype.transform=function(j,U,V,te,ne,pe){if(isNaN(j)||isNaN(U)||isNaN(V)||isNaN(te)||isNaN(ne)||isNaN(pe))throw Gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(j,U,V,te,ne,pe);this.ctx.transform=this.ctx.transform.multiply(_e)},_.prototype.setTransform=function(j,U,V,te,ne,pe){j=isNaN(j)?1:j,U=isNaN(U)?0:U,V=isNaN(V)?0:V,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,pe=isNaN(pe)?0:pe,this.ctx.transform=new f(j,U,V,te,ne,pe)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(j,U,V,te,ne,pe,_e,ke,Me){var Ye=this.pdf.getImageProperties(j),Qe=1,Je=1,ut=1,Y=1;te!==void 0&&ke!==void 0&&(ut=ke/te,Y=Me/ne,Qe=Ye.width/te*ke/te,Je=Ye.height/ne*Me/ne),pe===void 0&&(pe=U,_e=V,U=0,V=0),te!==void 0&&ke===void 0&&(ke=te,Me=ne),te===void 0&&ke===void 0&&(ke=Ye.width,Me=Ye.height);var Ze=this.ctx.transform.decompose(),it=ce(Ze.rotate.shx),ft=new f,Ie=(ft=(ft=(ft=ft.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new h(pe-U*ut,_e-V*Y,te*Qe,ne*Je));if(this.autoPaging){for(var ot,st=k.call(this,Ie),ze=[],xe=0;xe<st.length;xe+=1)ze.indexOf(st[xe])===-1&&ze.push(st[xe]);I(ze);for(var Re=ze[0],lt=ze[ze.length-1],et=Re;et<lt+1;et++){this.pdf.setPage(et);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=et===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=et===1?0:Xe+(et-2)*At;if(this.ctx.clip_path.length!==0){var Nn=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(ot,this.posX+this.margin[3],-ct+at+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=Nn}var Zt=JSON.parse(JSON.stringify(Ie));Zt=$([Zt],this.posX+this.margin[3],-ct+at+this.ctx.prevPageLastElemOffset)[0];var _t=(et>Re||et<lt)&&L.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,At,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,it),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,it)};var k=function(j,U,V){var te=[];U=U||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+ne)/V)+1);break;case"arc":te.push(Math.floor((j.y+ne-j.radius)/V)+1),te.push(Math.floor((j.y+ne+j.radius)/V)+1);break;case"qct":var pe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((pe.y+ne)/V)+1),te.push(Math.floor((pe.y+pe.h+ne)/V)+1);break;case"bct":var _e=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((_e.y+ne)/V)+1),te.push(Math.floor((_e.y+_e.h+ne)/V)+1);break;case"rect":te.push(Math.floor((j.y+ne)/V)+1),te.push(Math.floor((j.y+j.h+ne)/V)+1)}for(var ke=0;ke<te.length;ke+=1)for(;this.pdf.internal.getNumberOfPages()<te[ke];)N.call(this);return te},N=function(){var j=this.fillStyle,U=this.strokeStyle,V=this.font,te=this.lineCap,ne=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=U,this.font=V,this.lineCap=te,this.lineWidth=ne,this.lineJoin=pe},$=function(j,U,V){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=U,j[te].y2+=V;case"qct":j[te].x1+=U,j[te].y1+=V;default:j[te].x+=U,j[te].y+=V}return j},I=function(j){return j.sort(function(U,V){return U-V})},z=function(j,U){var V=this.fillStyle,te=this.strokeStyle,ne=this.lineCap,pe=this.lineWidth,_e=Math.abs(pe*this.ctx.transform.scaleX),ke=this.lineJoin;if(this.autoPaging){for(var Me,Ye,Qe=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),ut=[],Y=0;Y<Je.length;Y++)if(Je[Y].x!==void 0)for(var Ze=k.call(this,Je[Y]),it=0;it<Ze.length;it+=1)ut.indexOf(Ze[it])===-1&&ut.push(Ze[it]);for(var ft=0;ft<ut.length;ft++)for(;this.pdf.internal.getNumberOfPages()<ut[ft];)N.call(this);I(ut);for(var Ie=ut[0],ot=ut[ut.length-1],st=Ie;st<ot+1;st++){this.pdf.setPage(st),this.fillStyle=V,this.strokeStyle=te,this.lineCap=ne,this.lineWidth=_e,this.lineJoin=ke;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=st===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=st===1?0:Re+(st-2)*lt;if(this.ctx.clip_path.length!==0){var gt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(Me,this.posX+this.margin[3],-et+xe+this.ctx.prevPageLastElemOffset),ae.call(this,j,!0),this.path=gt}if(Ye=JSON.parse(JSON.stringify(Qe)),this.path=$(Ye,this.posX+this.margin[3],-et+xe+this.ctx.prevPageLastElemOffset),U===!1||st===0){var at=(st>Ie||st<ot)&&L.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,lt,null).clip().discardPath()),ae.call(this,j,U),at&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Qe}else this.lineWidth=_e,ae.call(this,j,U),this.lineWidth=pe},ae=function(j,U){if((j!=="stroke"||U||!E.call(this))&&(j==="stroke"||U||!y.call(this))){for(var V,te,ne=[],pe=this.path,_e=0;_e<pe.length;_e++){var ke=pe[_e];switch(ke.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ke,deltas:[],abs:[]});break;case"lt":var Me=ne.length;if(pe[_e-1]&&!isNaN(pe[_e-1].x)&&(V=[ke.x-pe[_e-1].x,ke.y-pe[_e-1].y],Me>0)){for(;Me>=0;Me--)if(ne[Me-1].close!==!0&&ne[Me-1].begin!==!0){ne[Me-1].deltas.push(V),ne[Me-1].abs.push(ke);break}}break;case"bct":V=[ke.x1-pe[_e-1].x,ke.y1-pe[_e-1].y,ke.x2-pe[_e-1].x,ke.y2-pe[_e-1].y,ke.x-pe[_e-1].x,ke.y-pe[_e-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Ye=pe[_e-1].x+2/3*(ke.x1-pe[_e-1].x),Qe=pe[_e-1].y+2/3*(ke.y1-pe[_e-1].y),Je=ke.x+2/3*(ke.x1-ke.x),ut=ke.y+2/3*(ke.y1-ke.y),Y=ke.x,Ze=ke.y;V=[Ye-pe[_e-1].x,Qe-pe[_e-1].y,Je-pe[_e-1].x,ut-pe[_e-1].y,Y-pe[_e-1].x,Ze-pe[_e-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ke)}}te=U?null:j==="stroke"?"stroke":"fill";for(var it=!1,ft=0;ft<ne.length;ft++)if(ne[ft].arc)for(var Ie=ne[ft].abs,ot=0;ot<Ie.length;ot++){var st=Ie[ot];st.type==="arc"?oe.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,U,!it):Q.call(this,st.x,st.y),it=!0}else if(ne[ft].close===!0)this.pdf.internal.out("h"),it=!1;else if(ne[ft].begin!==!0){var ze=ne[ft].start.x,xe=ne[ft].start.y;ee.call(this,ne[ft].deltas,ze,xe),it=!0}te&&W.call(this,te),U&&ve.call(this)}},Ee=function(j){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-V;case"top":return j+U-V;case"hanging":return j+U-2*V;case"middle":return j+U/2-V;default:return j}},ye=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(U,V){this.colorStops.push([U,V])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var oe=function(j,U,V,te,ne,pe,_e,ke,Me){for(var Ye=Z.call(this,V,te,ne,pe),Qe=0;Qe<Ye.length;Qe++){var Je=Ye[Qe];Qe===0&&(Me?D.call(this,Je.x1+j,Je.y1+U):Q.call(this,Je.x1+j,Je.y1+U)),be.call(this,j,U,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}ke?ve.call(this):W.call(this,_e)},W=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ve=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(j,U){this.pdf.internal.out(n(j)+" "+a(U)+" m")},F=function(j){var U;switch(j.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var V,te,ne,pe=this.pdf.getTextDimensions(j.text),_e=Ee.call(this,j.y),ke=ye.call(this,_e)-pe.h,Me=this.ctx.transform.applyToPoint(new c(j.x,_e));if(this.autoPaging){var Ye=this.ctx.transform.decompose(),Qe=new f;Qe=(Qe=(Qe=Qe.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale);for(var Je=this.ctx.transform.applyToRectangle(new h(j.x,_e,pe.w,pe.h)),ut=Qe.applyToRectangle(new h(j.x,ke,pe.w,pe.h)),Y=k.call(this,ut),Ze=[],it=0;it<Y.length;it+=1)Ze.indexOf(Y[it])===-1&&Ze.push(Y[it]);I(Ze);for(var ft=Ze[0],Ie=Ze[Ze.length-1],ot=ft;ot<Ie+1;ot++){this.pdf.setPage(ot);var st=ot===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[2],Re=xe-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],et=lt-this.margin[3],gt=ot===1?0:ze+(ot-2)*Re;if(this.ctx.clip_path.length!==0){var at=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(V,this.posX+this.margin[3],-1*gt+st),ae.call(this,"fill",!0),this.path=at}var Xe=$([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-gt+st+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),ne=this.lineWidth,this.lineWidth=ne*j.scale);var At=this.autoPaging!=="text";if(At||Xe.y+Xe.h<=xe){if(At||Xe.y>=st&&Xe.x<=lt){var ct=At?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||lt-Xe.x)[0],Nn=$([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-gt+st+this.ctx.prevPageLastElemOffset)[0],Zt=At&&(ot>ft||ot<Ie)&&L.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Re,null).clip().discardPath()),this.pdf.text(ct,Nn.x,Nn.y,{angle:j.angle,align:U,renderingMode:j.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Xe.y<xe&&(this.ctx.prevPageLastElemOffset+=xe-Xe.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ne)}}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),ne=this.lineWidth,this.lineWidth=ne*j.scale),this.pdf.text(j.text,Me.x+this.posX,Me.y+this.posY,{angle:j.angle,align:U,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=ne)},Q=function(j,U,V,te){V=V||0,te=te||0,this.pdf.internal.out(n(j+V)+" "+a(U+te)+" l")},ee=function(j,U,V){return this.pdf.lines(j,U,V,null,null)},be=function(j,U,V,te,ne,pe,_e,ke){this.pdf.internal.out([e(o(V+j)),e(s(te+U)),e(o(ne+j)),e(s(pe+U)),e(o(_e+j)),e(s(ke+U)),"c"].join(" "))},Z=function(j,U,V,te){for(var ne=2*Math.PI,pe=Math.PI/2;U>V;)U-=ne;var _e=Math.abs(V-U);_e<ne&&te&&(_e=ne-_e);for(var ke=[],Me=te?-1:1,Ye=U;_e>1e-5;){var Qe=Ye+Me*Math.min(_e,pe);ke.push(ue.call(this,j,Ye,Qe)),_e-=Math.abs(Qe-Ye),Ye=Qe}return ke},ue=function(j,U,V){var te=(V-U)/2,ne=j*Math.cos(te),pe=j*Math.sin(te),_e=ne,ke=-pe,Me=_e*_e+ke*ke,Ye=Me+_e*ne+ke*pe,Qe=4/3*(Math.sqrt(2*Me*Ye)-Ye)/(_e*pe-ke*ne),Je=_e-Qe*ke,ut=ke+Qe*_e,Y=Je,Ze=-ut,it=te+U,ft=Math.cos(it),Ie=Math.sin(it);return{x1:j*Math.cos(U),y1:j*Math.sin(U),x2:Je*ft-ut*Ie,y2:Je*Ie+ut*ft,x3:Y*ft-Ze*Ie,y3:Y*Ie+Ze*ft,x4:j*Math.cos(V),y4:j*Math.sin(V)}},ce=function(j){return 180*j/Math.PI},Ne=function(j,U,V,te,ne,pe){var _e=j+.5*(V-j),ke=U+.5*(te-U),Me=ne+.5*(V-ne),Ye=pe+.5*(te-pe),Qe=Math.min(j,ne,_e,Me),Je=Math.max(j,ne,_e,Me),ut=Math.min(U,pe,ke,Ye),Y=Math.max(U,pe,ke,Ye);return new h(Qe,ut,Je-Qe,Y-ut)},G=function(j,U,V,te,ne,pe,_e,ke){var Me,Ye,Qe,Je,ut,Y,Ze,it,ft,Ie,ot,st,ze,xe,Re=V-j,lt=te-U,et=ne-V,gt=pe-te,at=_e-ne,Xe=ke-pe;for(Ye=0;Ye<41;Ye++)ft=(Ze=(Qe=j+(Me=Ye/40)*Re)+Me*((ut=V+Me*et)-Qe))+Me*(ut+Me*(ne+Me*at-ut)-Ze),Ie=(it=(Je=U+Me*lt)+Me*((Y=te+Me*gt)-Je))+Me*(Y+Me*(pe+Me*Xe-Y)-it),Ye==0?(ot=ft,st=Ie,ze=ft,xe=Ie):(ot=Math.min(ot,ft),st=Math.min(st,Ie),ze=Math.max(ze,ft),xe=Math.max(xe,Ie));return new h(Math.round(ot),Math.round(st),Math.round(ze-ot),Math.round(xe-st))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,U,V=(j=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:U}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(kt.API),(function(r){var e=function(c){var h,f,d,v,_,x,y,E,L,k;for(f=[],d=0,v=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;v>d;d+=4)(_=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(x=(_=((_=((_=((_=(_-(k=_%85))/85)-(L=_%85))/85)-(E=_%85))/85)-(y=_%85))/85)%85,f.push(x+33,y+33,E+33,L+33,k+33)):f.push(122);return(function(N,$){for(var I=$;I>0;I--)N.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},n=function(c){var h,f,d,v,_,x=String,y="length",E=255,L="charCodeAt",k="slice",N="replace";for(c[k](-2),c=c[k](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],v=0,_=(c+=h="uuuuu"[k](c[y]%5||5))[y];_>v;v+=5)f=52200625*(c[L](v)-33)+614125*(c[L](v+1)-33)+7225*(c[L](v+2)-33)+85*(c[L](v+3)-33)+(c[L](v+4)-33),d.push(E&f>>24,E&f>>16,E&f>>8,E&f);return(function($,I){for(var z=I;z>0;z--)$.pop()})(d,h[y]),x.fromCharCode.apply(x,d)},a=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var f="",d=0;d<c.length;d+=2)f+=String.fromCharCode("0x"+(c[d]+c[d+1]));return f},s=function(c){for(var h=new Uint8Array(c.length),f=c.length;f--;)h[f]=c.charCodeAt(f);return(h=Y0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};r.processDataByFilters=function(c,h){var f=0,d=c||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=o(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(kt.API),(function(r){r.loadFile=function(e,n,a){return(function(o,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(f,d,v){var _=new XMLHttpRequest,x=0,y=function(E){var L=E.length,k=[],N=String.fromCharCode;for(x=0;x<L;x+=1)k.push(N(255&E.charCodeAt(x)));return k.join("")};if(_.open("GET",f,!d),_.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(_.onload=function(){_.status===200?v(y(this.responseText)):v(void 0)}),_.send(null),d&&_.status===200)return y(_.responseText)})(o,s,c)}catch{}return h})(e,n,a)},r.loadImageFile=r.loadFile})(kt.API),(function(r){function e(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):Zp(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):Zp(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var a=function(h){var f=Rn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},s=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(h(_,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},c=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,f){return h.__proto__=f||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(n).then(function(d){return this.set({src:o("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var y=0;y<v.length;++y){var E=v[y],L=E.src.find(function(k){return k.format==="truetype"});L&&d.addFont(L.url,E.ref.name,E.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},c.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(a(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},c.prototype.get=function(h,f){return this.then(function(){var d=h in c.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},c.prototype.setMargin=function(h){return this.then(function(){switch(a(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,_){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,v),x}).then(v,_).then(function(x){return d.updateProgress(1),x})})},c.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:c.convert(Object.assign({},v),Promise.prototype),x=d.call(_,h,f);return c.convert(x,v.__proto__)},c.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},c.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},c.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return c.convert(f,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,kt.getPageSize=function(h,f,d){if(Rn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var _,x=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+f}var E,L=0,k=0;if(y.hasOwnProperty(x))L=y[x][1]/_,k=y[x][0]/_;else try{L=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",k>L&&(E=k,k=L,L=E);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",L>k&&(E=k,k=L,L=E)}return{width:k,height:L,unit:f,k:_,orientation:h}},r.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(v0):null;var d=new c(f);return f.worker?d:d.from(h).doCallback()}})(kt.API),kt.API.addJS=function(r){return lm=r,this.internal.events.subscribe("postPutResources",function(){Kf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),om=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kf!==void 0&&om!==void 0&&this.internal.out("/Names <</JavaScript "+Kf+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),s=0;s<o.length;s++){var c=o[s],h=a.exec(c);if(h!=null){var f=h[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(s=0;s<d;s++){var _=n.internal.newObject();v.push(_);var x=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<v.length;s++)n.internal.write("(page_"+(s+1)+")"+v[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,o,s){var c={title:o,options:s,children:[]};return a==null&&(a=this.root),a.children.push(c),c},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var c=a.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var f=n.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,o){for(var s=0;s<o.children.length;s++)a.count++,this.count_r(a,o.children[s]);return a.count}}])})(kt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,a,o,s,c,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=c||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(_){for(var x,y=256*_.charCodeAt(4)+_.charCodeAt(5),E=_.length,L={width:0,height:0,numcomponents:1},k=4;k<E;k+=2){if(k+=y,e.indexOf(_.charCodeAt(k+1))!==-1){x=256*_.charCodeAt(k+5)+_.charCodeAt(k+6),L={width:256*_.charCodeAt(k+7)+_.charCodeAt(k+8),height:x,numcomponents:_.charCodeAt(k+9)};break}y=256*_.charCodeAt(k+2)+_.charCodeAt(k+3)}return L})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:n,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:a,alias:o}}return v}})(kt.API),kt.API.processPNG=function(r,e,n,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var o,s=lx(r,{checkCrc:!0}),c=s.width,h=s.height,f=s.channels,d=s.palette,v=s.depth;o=d&&f===1?(function(oe){for(var W=oe.width,ve=oe.height,D=oe.data,F=oe.palette,Q=oe.depth,ee=!1,be=[],Z=[],ue=void 0,ce=!1,Ne=0,G=0;G<F.length;G++){var se=fv(F[G],4),j=se[0],U=se[1],V=se[2],te=se[3];be.push(j,U,V),te!=null&&(te===0?(Ne++,Z.length<1&&Z.push(G)):te<255&&(ce=!0))}if(ce||Ne>1){ee=!0,Z=void 0;var ne=W*ve;ue=new Uint8Array(ne);for(var pe=new DataView(D.buffer),_e=0;_e<ne;_e++){var ke=y0(pe,_e,Q),Me=fv(F[ke],4)[3];ue[_e]=Me}}else Ne===0&&(Z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:D,alphaBytes:ue,needSMask:ee,palette:be,mask:Z}})(s):f===2||f===4?(function(oe){for(var W=oe.data,ve=oe.width,D=oe.height,F=oe.channels,Q=oe.depth,ee=F===2?"DeviceGray":"DeviceRGB",be=F-1,Z=ve*D,ue=be,ce=Z*ue,Ne=1*Z,G=Math.ceil(ce*Q/8),se=Math.ceil(Ne*Q/8),j=new Uint8Array(G),U=new Uint8Array(se),V=new DataView(W.buffer),te=new DataView(j.buffer),ne=new DataView(U.buffer),pe=!1,_e=0;_e<Z;_e++){for(var ke=_e*F,Me=0;Me<ue;Me++)mm(te,y0(V,ke+Me,Q),_e*ue+Me,Q);var Ye=y0(V,ke+ue,Q);Ye<(1<<Q)-1&&(pe=!0),mm(ne,Ye,1*_e,Q)}return{colorSpace:ee,colorsPerPixel:be,sMaskBitsPerComponent:pe?Q:void 0,colorBytes:j,alphaBytes:U,needSMask:pe}})(s):(function(oe){var W=oe.data,ve=oe.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ve,colorsPerPixel:ve==="DeviceGray"?1:3,colorBytes:W instanceof Uint16Array?(function(D){for(var F=D.length,Q=new Uint8Array(2*F),ee=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),be=0;be<F;be++)ee.setUint16(2*be,D[be],!1);return Q})(W):W,needSMask:!1}})(s);var _,x,y,E=o,L=E.colorSpace,k=E.colorsPerPixel,N=E.sMaskBitsPerComponent,$=E.colorBytes,I=E.alphaBytes,z=E.needSMask,ae=E.palette,Ee=E.mask,ye=null;return a!==kt.API.image_compression.NONE&&typeof Y0=="function"?(ye=(function(oe){var W;switch(oe){case kt.API.image_compression.FAST:W=11;break;case kt.API.image_compression.MEDIUM:W=13;break;case kt.API.image_compression.SLOW:W=14;break;default:W=12}return W})(a),_=this.decode.FLATE_DECODE,x="/Predictor ".concat(ye," /Colors ").concat(k," /BitsPerComponent ").concat(v," /Columns ").concat(c),r=fm($,Math.ceil(c*k*v/8),k,v,a),z&&(y=fm(I,Math.ceil(c*N/8),1,N,a))):(_=void 0,x=void 0,r=$,z&&(y=I)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:r,index:e,filter:_,decodeParameters:x,transparency:Ee,palette:ae,sMask:y,predictor:ye,width:c,height:h,bitsPerComponent:v,sMaskBitsPerComponent:N,colorSpace:L}}},(function(r){r.processGIF89A=function(e,n,a,o){var s=new Lx(e),c=s.width,h=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:c,height:h},v=new b0(100).encode(d,100);return r.processJPEG.call(this,v,n,a,o)},r.processGIF87A=r.processGIF89A})(kt.API),Es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:a,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Es.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(n){Gn.log("bit decode error:"+n)}},Es.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*o*4,h=0;h<8&&8*o+h<this.width;h++){var f=this.palette[s>>7-h&1];this.data[c+4*h]=f.blue,this.data[c+4*h+1]=f.green,this.data[c+4*h+2]=f.red,this.data[c+4*h+3]=255}n!==0&&(this.pos+=4-n)}},Es.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<r;o++){var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*o*4,h=s>>4,f=15&s,d=this.palette[h];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*o+1>=this.width)break;d=this.palette[f],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Es.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*a;if(o<this.palette.length){var c=this.palette[o];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Es.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&e)/e*255|0,h=(s>>5&e)/e*255|0,f=(s>>10&e)/e*255|0,d=s>>15?255:0,v=a*this.width*4+4*o;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=c,this.data[v+3]=d}this.pos+=r}},Es.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,f=(c>>5&n)/n*255|0,d=(c>>11)/e*255|0,v=o*this.width*4+4*s;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=r}},Es.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=s,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},Es.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=s,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}},Es.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,n,a,o){var s=new Es(e,!1),c=s.width,h=s.height,f={data:s.getData(),width:c,height:h},d=new b0(100).encode(f,100);return r.processJPEG.call(this,d,n,a,o)}})(kt.API),bm.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,n,a,o){var s=new bm(e),c=s.width,h=s.height,f={data:s.getData(),width:c,height:h},d=new b0(100).encode(f,100);return r.processJPEG.call(this,d,n,a,o)}})(kt.API),kt.API.processRGBA=function(r,e,n){for(var a=r.data,o=a.length,s=new Uint8Array(o/4*3),c=new Uint8Array(o/4),h=0,f=0,d=0;d<o;d+=4){var v=a[d],_=a[d+1],x=a[d+2],y=a[d+3];s[h++]=v,s[h++]=_,s[h++]=x,c[f++]=y}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},kt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ac=kt.API,Xf=ac.getCharWidthsArray=function(r,e){var n,a,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:o.metadata.Unicode.kerning,v=d.fof?d.fof:1,_=e.doKerning!==!1,x=0,y=r.length,E=0,L=h[0]||f,k=[];for(n=0;n<y;n++)a=r.charCodeAt(n),typeof o.metadata.widthOfString=="function"?k.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+c*(1e3/s)||0)/1e3):(x=_&&Rn(d[a])==="object"&&!isNaN(parseInt(d[a][E],10))?d[a][E]/v:0,k.push((h[a]||L)/f+x)),E=a;return k},um=ac.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return ac.processArabic&&(r=ac.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,n,o)/n:Xf.apply(this,arguments).reduce(function(s,c){return s+c},0)},cm=function(r,e,n,a){for(var o=[],s=0,c=r.length,h=0;s!==c&&h+e[s]<n;)h+=e[s],s++;o.push(r.slice(0,s));var f=s;for(h=0;s!==c;)h+e[s]>a&&(o.push(r.slice(f,s)),h=0,f=s),h+=e[s],s++;return f!==s&&o.push(r.slice(f,s)),o},hm=function(r,e,n){n||(n={});var a,o,s,c,h,f,d,v=[],_=[v],x=n.textIndent||0,y=0,E=0,L=r.split(" "),k=Xf.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?L[0].length+2:n.lineIndent||0){var N=Array(f).join(" "),$=[];L.map(function(z){(z=z.split(/\s*\n/)).length>1?$=$.concat(z.map(function(ae,Ee){return(Ee&&ae.length?`
`:"")+ae})):$.push(z[0])}),L=$,f=um.apply(this,[N,n])}for(s=0,c=L.length;s<c;s++){var I=0;if(a=L[s],f&&a[0]==`
`&&(a=a.substr(1),I=1),x+y+(E=(o=Xf.apply(this,[a,n])).reduce(function(z,ae){return z+ae},0))>e||I){if(E>e){for(h=cm.apply(this,[a,o,e-(x+y),e]),v.push(h.shift()),v=[h.pop()];h.length;)_.push([h.shift()]);E=o.slice(a.length-(v[0]?v[0].length:0)).reduce(function(z,ae){return z+ae},0)}else v=[a];_.push(v),x=E+f,y=k}else v.push(a),x+=y+E,y=k}return d=f?function(z,ae){return(ae?N:"")+z.join(" ")}:function(z){return z.join(" ")},_.map(d)},ac.splitTextToSize=function(r,e,n){var a,o=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var _=this.internal.getFont(v.fontName,v.fontStyle),x="Unicode";return _.metadata[x]?{widths:_.metadata[x].widths||{0:1},kerning:_.metadata[x].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/o;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=n.lineIndent;var h,f,d=[];for(h=0,f=a.length;h<f;h++)d=d.concat(hm.apply(this,[a[h],c,s]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},o={},s=0;s<16;s++)a[n[s]]=e[s],o[e[s]]=n[s];var c=function(x){return"0x"+parseInt(x,10).toString(16)},h=r.__fontmetrics__.compress=function(x){var y,E,L,k,N=["{"];for(var $ in x){if(y=x[$],isNaN(parseInt($,10))?E="'"+$+"'":($=parseInt($,10),E=(E=c($).slice(2)).slice(0,-1)+o[E.slice(-1)]),typeof y=="number")y<0?(L=c(y).slice(3),k="-"):(L=c(y).slice(2),k=""),L=k+L.slice(0,-1)+o[L.slice(-1)];else{if(Rn(y)!=="object")throw new Error("Don't know what to do with value type "+Rn(y)+".");L=h(y)}N.push(E+L)}return N.push("}"),N.join("")},f=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,L,k,N={},$=1,I=N,z=[],ae="",Ee="",ye=x.length-1,oe=1;oe<ye;oe+=1)(k=x[oe])=="'"?y?(L=y.join(""),y=void 0):y=[]:y?y.push(k):k=="{"?(z.push([I,L]),I={},L=void 0):k=="}"?((E=z.pop())[0][E[1]]=I,L=void 0,I=E[0]):k=="-"?$=-1:L===void 0?a.hasOwnProperty(k)?(ae+=a[k],L=parseInt(ae,16)*$,$=1,ae=""):ae+=k:a.hasOwnProperty(k)?(Ee+=a[k],I[L]=parseInt(Ee,16)*$,$=1,L=void 0,Ee=""):Ee+=k;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},_={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var y=x.font,E=_.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var L=v.Unicode[y.postScriptName];L&&(y.metadata.Unicode.encoding=L,y.encoding=L.codePages[0])}])})(kt.API),(function(r){var e=function(n){for(var a=n.length,o=new Uint8Array(a),s=0;s<a;s++)o[s]=n.charCodeAt(s);return o};r.API.events.push(["addFont",function(n){var a=void 0,o=n.font,s=n.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(nd(h)),c.metadata=r.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(o,a)}}])})(kt),kt.API.addSvgAsImage=function(r,e,n,a,o,s,c,h){if(isNaN(e)||isNaN(n))throw Gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=o;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Vt.canvg?Promise.resolve(Vt.canvg):Zp(()=>import("./index.es-DAnGVbQg.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(v)}).then(function(){_.addImage(f.toDataURL("image/jpeg",1),e,n,a,o,c,h)})},kt.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(e,n);return this},kt.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var a,o,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),f=[],d=0,v=0,_=0;function x(E,L){var k,N=!1;for(k=0;k<E.length;k+=1)E[k]===L&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var y=h.length;for(_=0;_<y;_+=1)n[h[_]].value=n[h[_]].defaultValue,n[h[_]].explicitSet=!1}if(Rn(r)==="object"){for(o in r)if(s=r[o],x(h,o)&&s!==void 0){if(n[o].type==="boolean"&&typeof s=="boolean")n[o].value=s;else if(n[o].type==="name"&&x(n[o].valueSet,s))n[o].value=s;else if(n[o].type==="integer"&&Number.isInteger(s))n[o].value=s;else if(n[o].type==="array"){for(d=0;d<s.length;d+=1)if(a=!0,s[d].length===1&&typeof s[d][0]=="number")f.push(String(s[d]-1));else if(s[d].length>1){for(v=0;v<s[d].length;v+=1)typeof s[d][v]!="number"&&(a=!1);a===!0&&f.push([s[d][0]-1,s[d][1]-1].join(" "))}n[o].value="["+f.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,L=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?L.push("/"+E+" /"+n[E].value):L.push("/"+E+" "+n[E].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(r){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+c.length+h.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(o+s+c+h+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(a,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(kt.API),(function(r){var e=r.API,n=e.pdfEscape16=function(s,c){for(var h,f=c.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],_=0,x=s.length;_<x;++_){if(h=c.metadata.characterToGlyph(s.charCodeAt(_)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=s.charCodeAt(_),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},a=function(s){var c,h,f,d,v,_,x;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],_=0,x=(h=Object.keys(s).sort(function(y,E){return y-E})).length;_<x;_++)c=h[_],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(d=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var _=h.metadata.Unicode.widths,x=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),y="",E=0;E<x.length;E++)y+=String.fromCharCode(x[E]);var L=d();v({data:y,addLength1:!0,objectId:L}),f("endobj");var k=d();v({data:a(h.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var N=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+cc(h.fontName)),f("/FontFile2 "+L+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var $=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+cc(h.fontName)),f("/FontDescriptor "+N+" 0 R"),f("/W "+r.API.PDFObject.convert(_)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+cc(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+$+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(c){var h=c.font,f=c.out,d=c.newObject,v=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var _=h.metadata.rawData,x="",y=0;y<_.length;y++)x+=String.fromCharCode(_[y]);var E=d();v({data:x,addLength1:!0,objectId:E}),f("endobj");var L=d();v({data:a(h.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var k=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+E+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+cc(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var N=0;N<h.metadata.hmtx.widths.length;N++)h.metadata.hmtx.widths[N]=parseInt(h.metadata.hmtx.widths[N]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+cc(h.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(s)}]);var o=function(s){var c,h=s.text||"",f=s.x,d=s.y,v=s.options||{},_=s.mutex||{},x=_.pdfEscape,y=_.activeFontKey,E=_.fonts,L=y,k="",N=0,$="",I=E[L].encoding;if(E[L].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:_};for($=h,L=y,Array.isArray(h)&&($=h[0]),N=0;N<$.length;N+=1)E[L].metadata.hasOwnProperty("cmap")&&(c=E[L].metadata.cmap.unicode.codeMap[$[N].charCodeAt(0)]),c||$[N].charCodeAt(0)<256&&E[L].metadata.hasOwnProperty("Unicode")?k+=$[N]:k+="";var z="";return parseInt(L.slice(1))<14||I==="WinAnsiEncoding"?z=x(k,L).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(z=n(k,E[L])),_.isHex=!0,{text:z,x:f,y:d,options:v,mutex:_}};e.events.push(["postProcessText",function(s){var c=s.text||"",h=[],f={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?h.push([o(Object.assign({},f,{text:c[d][0]})).text,c[d][1],c[d][2]]):h.push(o(Object.assign({},f,{text:c[d]})).text);s.text=h}else s.text=o(Object.assign({},f,{text:c})).text}])})(kt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(kt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var o,s,c,h,f,d,v,_=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,I=0;this.__bidiEngine__={};var z=function(D){var F=D.charCodeAt(),Q=F>>8,ee=L[Q];return ee!==void 0?_[256*ee+(255&F)]:Q===252||Q===253?"AL":N.test(Q)?"L":Q===8?"R":"N"},ae=function(D){for(var F,Q=0;Q<D.length;Q++){if((F=z(D.charAt(Q)))==="L")return!1;if(F==="R")return!0}return!1},Ee=function(D,F,Q,ee){var be,Z,ue,ce,Ne=F[ee];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Ne="AN");break;case"AL":$=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":ee<1||ee+1>=F.length||(be=Q[ee-1])!=="EN"&&be!=="AN"||(Z=F[ee+1])!=="EN"&&Z!=="AN"?Ne="N":$&&(Z="AN"),Ne=Z===be?Z:"N";break;case"ES":Ne=(be=ee>0?Q[ee-1]:"B")==="EN"&&ee+1<F.length&&F[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&Q[ee-1]==="EN"){Ne="EN";break}if($){Ne="N";break}for(ue=ee+1,ce=F.length;ue<ce&&F[ue]==="ET";)ue++;Ne=ue<ce&&F[ue]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(ce=F.length,ue=ee+1;ue<ce&&F[ue]==="NSM";)ue++;if(ue<ce){var G=D[ee],se=G>=1425&&G<=2303||G===64286;if(be=F[ue],se&&(be==="R"||be==="AL")){Ne="R";break}}}Ne=ee<1||(be=F[ee-1])==="B"?"N":Q[ee-1];break;case"B":$=!1,o=!0,Ne=I;break;case"S":s=!0,Ne="N"}return Ne},ye=function(D,F,Q){var ee=D.split("");return Q&&oe(ee,Q,{hiLevel:I}),ee.reverse(),F&&F.reverse(),ee.join("")},oe=function(D,F,Q){var ee,be,Z,ue,ce,Ne=-1,G=D.length,se=0,j=[],U=I?y:x,V=[];for($=!1,o=!1,s=!1,be=0;be<G;be++)V[be]=z(D[be]);for(Z=0;Z<G;Z++){if(ce=se,j[Z]=Ee(D,V,j,Z),ee=240&(se=U[ce][E[j[Z]]]),se&=15,F[Z]=ue=U[se][5],ee>0)if(ee===16){for(be=Ne;be<Z;be++)F[be]=1;Ne=-1}else Ne=-1;if(U[se][6])Ne===-1&&(Ne=Z);else if(Ne>-1){for(be=Ne;be<Z;be++)F[be]=ue;Ne=-1}V[Z]==="B"&&(F[Z]=0),Q.hiLevel|=ue}s&&(function(te,ne,pe){for(var _e=0;_e<pe;_e++)if(te[_e]==="S"){ne[_e]=I;for(var ke=_e-1;ke>=0&&te[ke]==="WS";ke--)ne[ke]=I}})(V,F,G)},W=function(D,F,Q,ee,be){if(!(be.hiLevel<D)){if(D===1&&I===1&&!o)return F.reverse(),void(Q&&Q.reverse());for(var Z,ue,ce,Ne,G=F.length,se=0;se<G;){if(ee[se]>=D){for(ce=se+1;ce<G&&ee[ce]>=D;)ce++;for(Ne=se,ue=ce-1;Ne<ue;Ne++,ue--)Z=F[Ne],F[Ne]=F[ue],F[ue]=Z,Q&&(Z=Q[Ne],Q[Ne]=Q[ue],Q[ue]=Z);se=ce}se++}}},ve=function(D,F,Q){var ee=D.split(""),be={hiLevel:I};return Q||(Q=[]),oe(ee,Q,be),(function(Z,ue,ce){if(ce.hiLevel!==0&&v)for(var Ne,G=0;G<Z.length;G++)ue[G]===1&&(Ne=k.indexOf(Z[G]))>=0&&(Z[G]=k[Ne+1])})(ee,Q,be),W(2,ee,F,Q,be),W(1,ee,F,Q,be),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(D,F,Q){if((function(be,Z){if(Z)for(var ue=0;ue<be.length;ue++)Z[ue]=ue;h===void 0&&(h=ae(be)),d===void 0&&(d=ae(be))})(D,F),c||!f||d)if(c&&f&&h^d)I=h?1:0,D=ye(D,F,Q);else if(!c&&f&&d)I=h?1:0,D=ve(D,F,Q),D=ye(D,F);else if(!c||h||f||d){if(c&&!f&&h^d)D=ye(D,F),h?(I=0,D=ve(D,F,Q)):(I=1,D=ve(D,F,Q),D=ye(D,F));else if(c&&h&&!f&&d)I=1,D=ve(D,F,Q),D=ye(D,F);else if(!c&&!f&&h^d){var ee=v;h?(I=1,D=ve(D,F,Q),I=0,v=!1,D=ve(D,F,Q),v=ee):(I=0,D=ve(D,F,Q),D=ye(D,F),I=1,v=!1,D=ve(D,F,Q),v=ee,D=ye(D,F))}}else I=0,D=ve(D,F,Q);else I=h?1:0,D=ve(D,F,Q);return D},this.__bidiEngine__.setOptions=function(D){D&&(c=D.isInputVisual,f=D.isOutputVisual,h=D.isInputRtl,d=D.isOutputRtl,v=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var o=a.text;a.x,a.y;var s=a.options||{};a.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var h=0;for(c=[],h=0;h<o.length;h+=1)Object.prototype.toString.call(o[h])==="[object Array]"?c.push([n.doBidiReorder(o[h][0]),o[h][1],o[h][2]]):c.push([n.doBidiReorder(o[h])]);a.text=c}else a.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function r(e){var n;if(this.rawData=e,n=this.contents=new Cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $x(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new jx(this.contents),this.head=new Cx(this),this.name=new Bx(this),this.cmap=new qy(this),this.toUnicode={},this.hhea=new Rx(this),this.maxp=new Ux(this),this.hmtx=new Ix(this),this.post=new Px(this),this.os2=new Dx(this),this.loca=new Hx(this),this.glyf=new qx(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,a,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,f,d;for(d=[],c=0,h=(f=this.bbox).length;c<h;c++)e=f[c],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,a){var o,s,c,h;for(c=0,s=0,h=(e=""+e).length;0<=h?s<h:s>h;s=0<=h?++s:--s)o=e.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/n)||0;return c*(n/1e3)},r.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},r})();var ks,Cl=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(e){var n,a,o;for(o=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,a,o,s,c,h,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^s)+65536*(255^c)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*o+16777216*s+65536*c+256*h+f},r.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},r.prototype.write=function(e){var n,a,o,s;for(s=[],a=0,o=e.length;a<o;a++)n=e[a],s.push(this.writeByte(n));return s},r})(),jx=(function(){var r;function e(n){var a,o,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,o,s,c,h,f,d,v,_,x,y,E,L;for(L in y=Object.keys(n).length,f=Math.log(2),_=16*Math.floor(Math.log(y)/f),c=Math.floor(_/f),v=16*y-_,(o=new Cl).writeInt(this.scalarType),o.writeShort(y),o.writeShort(_),o.writeShort(c),o.writeShort(v),s=16*y,d=o.pos+s,h=null,E=[],n)for(x=n[L],o.writeString(L),o.writeInt(r(x)),o.writeInt(d),o.writeInt(x.length),E=E.concat(x),L==="head"&&(h=d),d+=x.length;d%4;)E.push(0),d++;return o.write(E),a=2981146554-r(o.data),o.pos=h+8,o.writeUInt32(a),o.data},r=function(n){var a,o,s,c;for(n=Fy.call(n);n.length%4;)n.push(0);for(s=new Cl(n),o=0,a=0,c=n.length;a<c;a=a+=4)o+=s.readUInt32();return 4294967295&o},e})(),kx={}.hasOwnProperty,oo=function(r,e){for(var n in e)kx.call(e,n)&&(r[n]=e[n]);function a(){this.constructor=r}return a.prototype=e.prototype,r.prototype=new a,r.__super__=e.prototype,r};ks=(function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var Cx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new Cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r})(),wm=(function(){function r(e,n){var a,o,s,c,h,f,d,v,_,x,y,E,L,k,N,$,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),x=y/2,e.pos+=6,s=(function(){var z,ae;for(ae=[],f=z=0;0<=x?z<x:z>x;f=0<=x?++z:--z)ae.push(e.readUInt16());return ae})(),e.pos+=2,L=(function(){var z,ae;for(ae=[],f=z=0;0<=x?z<x:z>x;f=0<=x?++z:--z)ae.push(e.readUInt16());return ae})(),d=(function(){var z,ae;for(ae=[],f=z=0;0<=x?z<x:z>x;f=0<=x?++z:--z)ae.push(e.readUInt16());return ae})(),v=(function(){var z,ae;for(ae=[],f=z=0;0<=x?z<x:z>x;f=0<=x?++z:--z)ae.push(e.readUInt16());return ae})(),o=(this.length-e.pos+this.offset)/2,h=(function(){var z,ae;for(ae=[],f=z=0;0<=o?z<o:z>o;f=0<=o?++z:--z)ae.push(e.readUInt16());return ae})(),f=N=0,I=s.length;N<I;f=++N)for(k=s[f],a=$=E=L[f];E<=k?$<=k:$>=k;a=E<=k?++$:--$)v[f]===0?c=a+d[f]:(c=h[v[f]/2+(a-E)-(x-f)]||0)!==0&&(c+=d[f]),this.codeMap[a]=65535&c}e.pos=_}return r.encode=function(e,n){var a,o,s,c,h,f,d,v,_,x,y,E,L,k,N,$,I,z,ae,Ee,ye,oe,W,ve,D,F,Q,ee,be,Z,ue,ce,Ne,G,se,j,U,V,te,ne,pe,_e,ke,Me,Ye,Qe;switch(ee=new Cl,c=Object.keys(e).sort(function(Je,ut){return Je-ut}),n){case"macroman":for(L=0,k=(function(){var Je=[];for(E=0;E<256;++E)Je.push(0);return Je})(),$={0:0},s={},be=0,Ne=c.length;be<Ne;be++)$[ke=e[o=c[be]]]==null&&($[ke]=++L),s[o]={old:e[o],new:$[e[o]]},k[o]=$[e[o]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(k),{charMap:s,subtable:ee.data,maxGlyphID:L+1};case"unicode":for(F=[],_=[],I=0,$={},a={},N=d=null,Z=0,G=c.length;Z<G;Z++)$[ae=e[o=c[Z]]]==null&&($[ae]=++I),a[o]={old:ae,new:$[ae]},h=$[ae]-o,N!=null&&h===d||(N&&_.push(N),F.push(o),d=h),N=o;for(N&&_.push(N),_.push(65535),F.push(65535),ve=2*(W=F.length),oe=2*Math.pow(Math.log(W)/Math.LN2,2),x=Math.log(oe/2)/Math.LN2,ye=2*W-oe,f=[],Ee=[],y=[],E=ue=0,se=F.length;ue<se;E=++ue){if(D=F[E],v=_[E],D===65535){f.push(0),Ee.push(0);break}if(D-(Q=a[D].new)>=32768)for(f.push(0),Ee.push(2*(y.length+W-E)),o=ce=D;D<=v?ce<=v:ce>=v;o=D<=v?++ce:--ce)y.push(a[o].new);else f.push(Q-D),Ee.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*W+2*y.length),ee.writeUInt16(0),ee.writeUInt16(ve),ee.writeUInt16(oe),ee.writeUInt16(x),ee.writeUInt16(ye),pe=0,j=_.length;pe<j;pe++)o=_[pe],ee.writeUInt16(o);for(ee.writeUInt16(0),_e=0,U=F.length;_e<U;_e++)o=F[_e],ee.writeUInt16(o);for(Me=0,V=f.length;Me<V;Me++)h=f[Me],ee.writeUInt16(h);for(Ye=0,te=Ee.length;Ye<te;Ye++)z=Ee[Ye],ee.writeUInt16(z);for(Qe=0,ne=y.length;Qe<ne;Qe++)L=y[Qe],ee.writeUInt16(L);return{charMap:a,subtable:ee.data,maxGlyphID:I+1}}},r})(),qy=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,a,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new wm(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var a,o;return n==null&&(n="macroman"),a=wm.encode(e,n),(o=new Cl).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},r})(),Rx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),Dx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Px=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="post",r.prototype.parse=function(e){var n,a,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(a=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,h,f;for(f=[],s=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;s=0<=h?++c:--c)f.push(e.readUInt32());return f}).call(this)}},r})(),Mx=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Bx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="name",r.prototype.parse=function(e){var n,a,o,s,c,h,f,d,v,_,x;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},s=v=0,_=a.length;v<_;s=++v)o=a[s],e.pos=o.offset,d=e.readString(o.length),c=new Mx(d,o),f[x=o.nameID]==null&&(f[x]=[]),f[o.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),Ux=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),Ix=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,a,o,s,c,h,f;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],n=d=0;0<=o?d<o:d>o;n=0<=o?++d:--d)v.push(e.readInt16());return v})(),this.widths=(function(){var d,v,_,x;for(x=[],d=0,v=(_=this.metrics).length;d<v;d++)s=_[d],x.push(s.advance);return x}).call(this),a=this.widths[this.widths.length-1],f=[],n=c=0;0<=o?c<o:c>o;n=0<=o?++c:--c)f.push(this.widths.push(a));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Fy=[].slice,qx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,a,o,s,c,h,f,d,v,_;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(e),(o=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,c=(h=new Cl(n.read(o))).readShort(),d=h.readShort(),_=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=c===-1?new zx(h,d,_,f,v):new Fx(h,c,d,_,f,v),this.cache[e]))},r.prototype.encode=function(e,n,a){var o,s,c,h,f;for(c=[],s=[],h=0,f=n.length;h<f;h++)o=e[n[h]],s.push(c.length),o&&(c=c.concat(o.encode(a)));return s.push(c.length),{table:c,offsets:s}},r})(),Fx=(function(){function r(e,n,a,o,s,c){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=o,this.xMax=s,this.yMax=c,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),zx=(function(){function r(e,n,a,o,s){var c,h;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return r.prototype.encode=function(){var e,n,a;for(n=new Cl(Fy.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},r})(),Hx=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return oo(r,ks),r.prototype.tag="loca",r.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,s;for(s=[],a=0,o=this.length;a<o;a+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],a=0,o=this.length;a<o;a+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),o=0,s=0,c=0;c<a.length;++c)if(a[c]=o,s<n.length&&n[s]==c){++s,a[c]=o;var h=this.offsets[c],f=this.offsets[c+1]-h;f>0&&(o+=f)}for(var d=new Array(4*a.length),v=0;v<a.length;++v)d[4*v+3]=255&a[v],d[4*v+2]=(65280&a[v])>>8,d[4*v+1]=(16711680&a[v])>>16,d[4*v]=(4278190080&a[v])>>24;return d},r})(),$x=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,a,o,s;for(n in o=this.font.cmap.tables[0].codeMap,e={},s=this.subset)a=s[n],e[n]=o[a];return e},r.prototype.glyphsFor=function(e){var n,a,o,s,c,h,f;for(o={},c=0,h=e.length;c<h;c++)o[s=e[c]]=this.font.glyf.glyphFor(s);for(s in n=[],o)(a=o[s])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(s in f=this.glyphsFor(n))a=f[s],o[s]=a;return o},r.prototype.encode=function(e,n){var a,o,s,c,h,f,d,v,_,x,y,E,L,k,N;for(o in a=qy.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),y={0:0},N=a.charMap)y[(f=N[o]).old]=f.new;for(E in x=a.maxGlyphID,c)E in y||(y[E]=x++);return v=(function($){var I,z;for(I in z={},$)z[$[I]]=I;return z})(y),_=Object.keys(v).sort(function($,I){return $-I}),L=(function(){var $,I,z;for(z=[],$=0,I=_.length;$<I;$++)h=_[$],z.push(v[h]);return z})(),s=this.font.glyf.encode(c,L,y),d=this.font.loca.encode(s.offsets,L),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},r})();kt.API.PDFObject=(function(){var r;function e(){}return r=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,o,s,c;if(Array.isArray(n))return"["+(function(){var h,f,d;for(d=[],h=0,f=n.length;h<f;h++)a=n[h],d.push(e.convert(a));return d})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in s=["<<"],n)c=n[o],s.push("/"+o+" "+e.convert(c));return s.push(">>"),s.join(`
`)}return""+n},e})();function zy(r,e,n,a,o){a=a||{};var s=1.15,c=o.internal.scaleFactor,h=o.internal.getFontSize()/c,f=o.getLineHeightFactor?o.getLineHeightFactor():s,d=h*f,v=/\r\n|\r|\n/g,_="",x=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(_=typeof r=="string"?r.split(v):r,x=_.length||1),n+=h*(2-s),a.valign==="middle"?n-=x/2*d:a.valign==="bottom"&&(n-=x*d),a.halign==="center"||a.halign==="right"){var y=h;if(a.halign==="center"&&(y*=.5),_&&x>=1){for(var E=0;E<_.length;E++)o.text(_[E],e-o.getStringUnitWidth(_[E])*y,n),n+=d;return o}e-=o.getStringUnitWidth(r)*y}return a.halign==="justify"?o.text(r,e,n,{maxWidth:a.maxWidth||100,align:"justify"}):o.text(r,e,n),o}var _m={},yc=(function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:_m=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,n){var a,o,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),h=c.fontStyle,f=c.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),h=d[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var v=r.unifyColor(e.fillColor);v&&(a=this.jsPDFDocument).setFillColor.apply(a,v),v=r.unifyColor(e.textColor),v&&(o=this.jsPDFDocument).setTextColor.apply(o,v),v=r.unifyColor(e.lineColor),v&&(s=this.jsPDFDocument).setDrawColor.apply(s,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,n,a){return this.jsPDFDocument.splitTextToSize(e,n,a)},r.prototype.rect=function(e,n,a,o,s){return this.jsPDFDocument.rect(e,n,a,o,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return _m||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),t1=function(r,e){return t1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},t1(r,e)};function Hy(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t1(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $y=(function(r){Hy(e,r);function e(n){var a=r.call(this)||this;return a._element=n,a}return e})(Array);function Gx(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Vx(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function wd(r,e,n){n.applyStyles(e,!0);var a=Array.isArray(r)?r:[r],o=a.map(function(s){return n.getTextWidth(s)}).reduce(function(s,c){return Math.max(s,c)},0);return o}function Gy(r,e,n,a){var o=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:o,lineColor:s});var c=Vy(o,!1);c&&r.rect(n.x,n.y,e.getWidth(r.pageSize().width),a.y-n.y,c)}function Vy(r,e){var n=r>0,a=e||e===0;return n&&a?"DF":n?"S":a?"F":null}function Od(r,e){var n,a,o,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(n=r.left)!==null&&n!==void 0?n:e,top:(a=r.top)!==null&&a!==void 0?a:e,right:(o=r.right)!==null&&o!==void 0?o:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function Yy(r,e){var n=Od(e.settings.margin,0);return r.pageSize().width-(n.left+n.right)}function Yx(r,e,n,a,o){var s={},c=1.3333333333333333,h=w0(e,function(I){return o.getComputedStyle(I).backgroundColor});h!=null&&(s.fillColor=h);var f=w0(e,function(I){return o.getComputedStyle(I).color});f!=null&&(s.textColor=f);var d=Kx(a,n);d&&(s.cellPadding=d);var v="borderTopColor",_=c*n,x=a.borderTopWidth;if(a.borderBottomWidth===x&&a.borderRightWidth===x&&a.borderLeftWidth===x){var y=(parseFloat(x)||0)/_;y&&(s.lineWidth=y)}else s.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/_,right:(parseFloat(a.borderRightWidth)||0)/_,bottom:(parseFloat(a.borderBottomWidth)||0)/_,left:(parseFloat(a.borderLeftWidth)||0)/_},s.lineWidth.top||(s.lineWidth.right?v="borderRightColor":s.lineWidth.bottom?v="borderBottomColor":s.lineWidth.left&&(v="borderLeftColor"));var E=w0(e,function(I){return o.getComputedStyle(I)[v]});E!=null&&(s.lineColor=E);var L=["left","right","center","justify"];L.indexOf(a.textAlign)!==-1&&(s.halign=a.textAlign),L=["middle","bottom","top"],L.indexOf(a.verticalAlign)!==-1&&(s.valign=a.verticalAlign);var k=parseInt(a.fontSize||"");isNaN(k)||(s.fontSize=k/c);var N=Wx(a);N&&(s.fontStyle=N);var $=(a.fontFamily||"").toLowerCase();return r.indexOf($)!==-1&&(s.font=$),s}function Wx(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function w0(r,e){var n=Wy(r,e);if(!n)return null;var a=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var o=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],s=parseInt(a[4]);return s===0||isNaN(o[0])||isNaN(o[1])||isNaN(o[2])?null:o}function Wy(r,e){var n=e(r);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?r.parentElement==null?null:Wy(r.parentElement,e):n}function Kx(r,e){var n=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],a=96/(72/e),o=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=n.map(function(h){return parseInt(h||"0")/a}),c=Od(s,0);return o>c.top&&(c.top=o),o>c.bottom&&(c.bottom=o),c}function Ky(r,e,n,a,o){var s,c;a===void 0&&(a=!1),o===void 0&&(o=!1);var h;typeof e=="string"?h=n.document.querySelector(e):h=e;var f=Object.keys(r.getFontList()),d=r.scaleFactor(),v=[],_=[],x=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:v,body:_,foot:x};for(var y=0;y<h.rows.length;y++){var E=h.rows[y],L=(c=(s=E?.parentElement)===null||s===void 0?void 0:s.tagName)===null||c===void 0?void 0:c.toLowerCase(),k=Xx(f,d,n,E,a,o);k&&(L==="thead"?v.push(k):L==="tfoot"?x.push(k):_.push(k))}return{head:v,body:_,foot:x}}function Xx(r,e,n,a,o,s){for(var c=new $y(a),h=0;h<a.cells.length;h++){var f=a.cells[h],d=n.getComputedStyle(f);if(o||d.display!=="none"){var v=void 0;s&&(v=Yx(r,f,e,d,n)),c.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:v,_element:f,content:Jx(f)})}}var _=n.getComputedStyle(a);if(c.length>0&&(o||_.display!=="none"))return c}function Jx(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Zx(r,e,n){for(var a=0,o=[r,e,n];a<o.length;a++){var s=o[a];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function zo(r,e,n,a,o){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),c=1;c<arguments.length;c++){var h=arguments[c];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(s[f]=h[f])}return s}function Xy(r,e){var n=new yc(r),a=n.getDocumentOptions(),o=n.getGlobalOptions();Zx(o,a,e);var s=zo({},o,a,e),c;typeof window<"u"&&(c=window);var h=Qx(o,a,e),f=e6(o,a,e),d=t6(n,s),v=r6(n,s,c);return{id:e.tableId,content:v,hooks:f,styles:h,settings:d}}function Qx(r,e,n){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(f){if(f==="columnStyles"){var d=r[f],v=e[f],_=n[f];a.columnStyles=zo({},d,v,_)}else{var x=[r,e,n],y=x.map(function(E){return E[f]||{}});a[f]=zo({},y[0],y[1],y[2])}},s=0,c=Object.keys(a);s<c.length;s++){var h=c[s];o(h)}return a}function e6(r,e,n){for(var a=[r,e,n],o={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,c=a;s<c.length;s++){var h=c[s];h.didParseCell&&o.didParseCell.push(h.didParseCell),h.willDrawCell&&o.willDrawCell.push(h.willDrawCell),h.didDrawCell&&o.didDrawCell.push(h.didDrawCell),h.willDrawPage&&o.willDrawPage.push(h.willDrawPage),h.didDrawPage&&o.didDrawPage.push(h.didDrawPage)}return o}function t6(r,e){var n,a,o,s,c,h,f,d,v,_,x,y,E=Od(e.margin,40/r.scaleFactor()),L=(n=n6(r,e.startY))!==null&&n!==void 0?n:E.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(a=e.showFoot)!==null&&a!==void 0?a:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(o=e.showHead)!==null&&o!==void 0?o:"everyPage";var $=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||($?"plain":"striped"),z=!!e.horizontalPageBreak,ae=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:$,theme:I,startY:L,margin:E,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:N,showFoot:k,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:z,horizontalPageBreakRepeat:ae,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function n6(r,e){var n=r.getLastAutoTable(),a=r.scaleFactor(),o=r.pageNumber(),s=!1;if(n&&n.startPageNumber){var c=n.startPageNumber+n.pageNumber-1;s=c===o}return typeof e=="number"?e:(e==null||e===!1)&&s&&n?.finalY!=null?n.finalY+20/a:null}function r6(r,e,n){var a=e.head||[],o=e.body||[],s=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(n){var h=Ky(r,e.html,n,c,e.useCss)||{};a=h.head||a,o=h.body||a,s=h.foot||a}else console.error("Cannot parse html in non browser environment")}var f=e.columns||i6(a,o,s);return{columns:f,head:a,body:o,foot:s}}function i6(r,e,n){var a=r[0]||e[0]||n[0]||[],o=[];return Object.keys(a).filter(function(s){return s!=="_element"}).forEach(function(s){var c=1,h;Array.isArray(a)?h=a[parseInt(s)]:h=a[s],typeof h=="object"&&!Array.isArray(h)&&(c=h?.colSpan||1);for(var f=0;f<c;f++){var d=void 0;Array.isArray(a)?d=o.length:d=s+(f>0?"_".concat(f):"");var v={dataKey:d};o.push(v)}}),o}var n1=(function(){function r(e,n,a){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=a,this.doc=e.getDocument()}return r})(),a6=(function(r){Hy(e,r);function e(n,a,o,s,c,h){var f=r.call(this,n,a,h)||this;return f.cell=o,f.row=s,f.column=c,f.section=s.section,f}return e})(n1),s6=(function(){function r(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,a){return n+a.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,n,a,o,s,c){for(var h=0,f=n;h<f.length;h++){var d=f[h],v=new a6(e,this,a,o,s,c),_=d(v)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],_)return!1}return!0},r.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var a=0,o=this.hooks.didDrawPage;a<o.length;a++){var s=o[a];s(new n1(e,this,n))}},r.prototype.callWillDrawPageHooks=function(e,n){for(var a=0,o=this.hooks.willDrawPage;a<o.length;a++){var s=o[a];s(new n1(e,this,n))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(o,s){return o+s.wrappedWidth},0);return n}else{var a=this.settings.margin;return e-a.left-a.right}},r})(),Jy=(function(){function r(e,n,a,o,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof $y&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=a,this.cells=o,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(a,o){var s;return Math.max(a,((s=n.cells[o.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(a){var o=n.cells[a.index];return o?o.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},r.prototype.getMinimumRowHeight=function(e,n){var a=this;return e.reduce(function(o,s){var c=a.cells[s.index];if(!c)return 0;var h=n.getLineHeight(c.styles.fontSize),f=c.padding("vertical"),d=f+h;return d>o?d:o},0)},r})(),Zy=(function(){function r(e,n,a){var o;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=a,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(o=e.content)!==null&&o!==void 0?o:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=s!=null?""+s:"",h=/\r\n|\r|\n/g;this.text=c.split(h)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var o=this.width-this.padding("horizontal");a=this.x+o/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:e}},r.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var a=Array.isArray(this.text)?this.text.length:1,o=this.styles.fontSize/e*n,s=a*o+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var n=Od(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},r})(),o6=(function(){function r(e,n,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=a}return r.prototype.getMaxCustomCellWidth=function(e){for(var n=0,a=0,o=e.allRows();a<o.length;a++){var s=o[a],c=s.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(n=Math.max(n,c.styles.cellWidth))}return n},r})();function l6(r,e){u6(r,e);var n=[],a=0;e.columns.forEach(function(s){var c=s.getMaxCustomCellWidth(e);c?s.width=c:(s.width=s.wrappedWidth,n.push(s)),a+=s.width});var o=e.getWidth(r.pageSize().width)-a;o&&(o=r1(n,o,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),o&&(o=r1(n,o,function(s){return s.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/r.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),h6(e),f6(e,r),c6(e)}function u6(r,e){var n=r.scaleFactor(),a=e.settings.horizontalPageBreak,o=Yy(r,e);e.allRows().forEach(function(s){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=s.cells[f.index];if(d){var v=e.hooks.didParseCell;e.callCellHooks(r,v,d,s,f,null);var _=d.padding("horizontal");d.contentWidth=wd(d.text,d.styles,r)+_;var x=wd(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,r);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>o?(d.minWidth=o,d.wrappedWidth=o):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var y=10/n;d.minWidth=d.styles.minCellWidth||y,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var c=0,h=e.columns;c<h.length;c++){var f=h[c],d=s.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var v=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},_=v.cellWidth||v.minCellWidth;_&&typeof _=="number"&&(f.minWidth=_,f.wrappedWidth=_)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function r1(r,e,n){for(var a=e,o=r.reduce(function(y,E){return y+E.wrappedWidth},0),s=0;s<r.length;s++){var c=r[s],h=c.wrappedWidth/o,f=a*h,d=c.width+f,v=n(c),_=d<v?v:d;e-=_-c.width,c.width=_}if(e=Math.round(e*1e10)/1e10,e){var x=r.filter(function(y){return e<0?y.width>n(y):!0});x.length&&(e=r1(x,e,n))}return e}function c6(r){for(var e={},n=1,a=r.allRows(),o=0;o<a.length;o++)for(var s=a[o],c=0,h=r.columns;c<h.length;c++){var f=h[c],d=e[f.index];if(n>1)n--,delete s.cells[f.index];else if(d)d.cell.height+=s.height,n=d.cell.colSpan,delete s.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var v=s.cells[f.index];if(!v)continue;if(v.height=s.height,v.rowSpan>1){var _=a.length-o,x=v.rowSpan>_?_:v.rowSpan;e[f.index]={cell:v,left:x,row:s}}}}}function h6(r){for(var e=r.allRows(),n=0;n<e.length;n++)for(var a=e[n],o=null,s=0,c=0,h=0;h<r.columns.length;h++){var f=r.columns[h];if(c-=1,c>1&&r.columns[h+1])s+=f.width,delete a.cells[f.index];else if(o){var d=o;delete a.cells[f.index],o=null,d.width=f.width+s}else{var d=a.cells[f.index];if(!d)continue;if(c=d.colSpan,s=0,d.colSpan>1){o=d,s+=f.width;continue}d.width=f.width+s}}}function f6(r,e){for(var n={count:0,height:0},a=0,o=r.allRows();a<o.length;a++){for(var s=o[a],c=0,h=r.columns;c<h.length;c++){var f=h[c],d=s.cells[f.index];if(d){e.applyStyles(d.styles,!0);var v=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,v+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=Sm(d.text,v,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=Sm(d.text,v,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var _=d.styles.overflow(d.text,v);typeof _=="string"?d.text=[_]:d.text=_}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<x*d.rowSpan?n={height:x,count:d.rowSpan}:n&&n.count>0&&n.height>x&&(x=n.height),x>s.height&&(s.height=x)}}n.count--}}function Sm(r,e,n,a,o){return r.map(function(s){return d6(s,e,n,a,o)})}function d6(r,e,n,a,o){var s=1e4*a.scaleFactor();if(e=Math.ceil(e*s)/s,e>=wd(r,n,a))return r;for(;e<wd(r+o,n,a)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+o}function Qy(r,e){var n=new yc(r),a=p6(e,n.scaleFactor()),o=new s6(e,a);return l6(n,o),n.applyStyles(n.userStyles),o}function p6(r,e){var n=r.content,a=v6(n.columns);if(n.head.length===0){var o=xm(a,"head");o&&n.head.push(o)}if(n.foot.length===0){var o=xm(a,"foot");o&&n.foot.push(o)}var s=r.settings.theme,c=r.styles;return{columns:a,head:_0("head",n.head,a,c,s,e),body:_0("body",n.body,a,c,s,e),foot:_0("foot",n.foot,a,c,s,e)}}function _0(r,e,n,a,o,s){var c={},h=e.map(function(f,d){for(var v=0,_={},x=0,y=0,E=0,L=n;E<L.length;E++){var k=L[E];if(c[k.index]==null||c[k.index].left===0)if(y===0){var N=void 0;Array.isArray(f)?N=f[k.index-x-v]:N=f[k.dataKey];var $={};typeof N=="object"&&!Array.isArray(N)&&($=N?.styles||{});var I=m6(r,k,d,o,a,s,$),z=new Zy(N,I,r);_[k.dataKey]=z,_[k.index]=z,y=z.colSpan-1,c[k.index]={left:z.rowSpan-1,times:y}}else y--,x++;else c[k.index].left--,y=c[k.index].times,v++}return new Jy(f,d,r,_)});return h}function xm(r,e){var n={};return r.forEach(function(a){if(a.raw!=null){var o=g6(e,a.raw);o!=null&&(n[a.dataKey]=o)}}),Object.keys(n).length>0?n:null}function g6(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function v6(r){return r.map(function(e,n){var a,o;return typeof e=="object"?o=(a=e.dataKey)!==null&&a!==void 0?a:n:o=n,new o6(o,e,n)})}function m6(r,e,n,a,o,s,c){var h=Vx(a),f;r==="head"?f=o.headStyles:r==="body"?f=o.bodyStyles:r==="foot"&&(f=o.footStyles);var d=zo({},h.table,h[r],o.styles,f),v=o.columnStyles[e.dataKey]||o.columnStyles[e.index]||{},_=r==="body"?v:{},x=r==="body"&&n%2===0?zo({},h.alternateRow,o.alternateRowStyles):{},y=Gx(s),E=zo({},y,d,x,_);return zo(E,c)}function y6(r,e,n){var a;n===void 0&&(n={});var o=Yy(r,e),s=new Map,c=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(x){var y=e.columns.find(function(E){return E.dataKey===x||E.index===x});y&&!s.has(y.index)&&(s.set(y.index,!0),c.push(y.index),h.push(e.columns[y.index]),o-=y.wrappedWidth)});for(var d=!0,v=(a=n?.start)!==null&&a!==void 0?a:0;v<e.columns.length;){if(s.has(v)){v++;continue}var _=e.columns[v].wrappedWidth;if(d||o>=_)d=!1,c.push(v),h.push(e.columns[v]),o-=_;else break;v++}return{colIndexes:c,columns:h,lastIndex:v-1}}function b6(r,e){for(var n=[],a=0;a<e.columns.length;a++){var o=y6(r,e,{start:a});o.columns.length&&(n.push(o),a=o.lastIndex)}return n}function eb(r,e){var n=e.settings,a=n.startY,o=n.margin,s={x:o.left,y:a},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=a+o.bottom+c;if(n.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(x,y){return x+y.height},0);h+=d}var v=new yc(r);(n.pageBreak==="always"||n.startY!=null&&h>v.pageSize().height)&&(nb(v),s.y=o.top),e.callWillDrawPageHooks(v,s);var _=zo({},s);e.startPageNumber=v.pageNumber(),n.horizontalPageBreak?w6(v,e,_,s):(v.applyStyles(v.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(x){return Ho(v,e,x,s,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(x,y){var E=y===e.body.length-1;_d(v,e,x,E,_,s,e.columns)}),v.applyStyles(v.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(x){return Ho(v,e,x,s,e.columns)})),Gy(v,e,_,s),e.callEndPageHooks(v,s),e.finalY=s.y,r.lastAutoTable=e,v.applyStyles(v.userStyles)}function w6(r,e,n,a){var o=b6(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")o.forEach(function(d,v){r.applyStyles(r.userStyles),v>0?Sh(r,e,n,a,d.columns,!0):Am(r,e,a,d.columns),_6(r,e,n,a,d.columns),S0(r,e,a,d.columns)});else for(var c=-1,h=o[0],f=function(){var d=c;if(h){r.applyStyles(r.userStyles);var v=h.columns;c>=0?Sh(r,e,n,a,v,!0):Am(r,e,a,v),d=Em(r,e,c+1,a,v),S0(r,e,a,v)}var _=d-c;o.slice(1).forEach(function(x){r.applyStyles(r.userStyles),Sh(r,e,n,a,x.columns,!0),Em(r,e,c+1,a,x.columns,_),S0(r,e,a,x.columns)}),c=d};c<e.body.length-1;)f()}function Am(r,e,n,a){var o=e.settings;r.applyStyles(r.userStyles),(o.showHead==="firstPage"||o.showHead==="everyPage")&&e.head.forEach(function(s){return Ho(r,e,s,n,a)})}function _6(r,e,n,a,o){r.applyStyles(r.userStyles),e.body.forEach(function(s,c){var h=c===e.body.length-1;_d(r,e,s,h,n,a,o)})}function Em(r,e,n,a,o,s){r.applyStyles(r.userStyles),s=s??e.body.length;var c=Math.min(n+s,e.body.length),h=-1;return e.body.slice(n,c).forEach(function(f,d){var v=n+d===e.body.length-1,_=tb(r,e,v,a);f.canEntireRowFit(_,o)&&(Ho(r,e,f,a,o),h=n+d)}),h}function S0(r,e,n,a){var o=e.settings;r.applyStyles(r.userStyles),(o.showFoot==="lastPage"||o.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ho(r,e,s,n,a)})}function S6(r,e,n){var a=n.getLineHeight(r.styles.fontSize),o=r.padding("vertical"),s=Math.floor((e-o)/a);return Math.max(0,s)}function x6(r,e,n,a){var o={};r.spansMultiplePages=!0,r.height=0;for(var s=0,c=0,h=n.columns;c<h.length;c++){var f=h[c],d=r.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var v=new Zy(d.raw,d.styles,d.section);v=zo(v,d),v.text=[];var _=S6(d,e,a);d.text.length>_&&(v.text=d.text.splice(_,d.text.length));var x=a.scaleFactor(),y=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,y),d.contentHeight>=e&&(d.contentHeight=e,v.styles.minCellHeight-=e),d.contentHeight>r.height&&(r.height=d.contentHeight),v.contentHeight=v.getContentHeight(x,y),v.contentHeight>s&&(s=v.contentHeight),o[f.index]=v}}var E=new Jy(r.raw,-1,r.section,o,!0);E.height=s;for(var L=0,k=n.columns;L<k.length;L++){var f=k[L],v=E.cells[f.index];v&&(v.height=E.height);var d=r.cells[f.index];d&&(d.height=r.height)}return E}function A6(r,e,n,a){var o=r.pageSize().height,s=a.settings.margin,c=s.top+s.bottom,h=o-c;e.section==="body"&&(h-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var f=e.getMinimumRowHeight(a.columns,r),d=f<n;if(f>h)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var v=e.hasRowSpan(a.columns),_=e.getMaxCellHeight(a.columns)>h;return _?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||a.settings.rowPageBreak==="avoid")}function _d(r,e,n,a,o,s,c){var h=tb(r,e,a,s);if(n.canEntireRowFit(h,c))Ho(r,e,n,s,c);else if(A6(r,n,h,e)){var f=x6(n,h,e,r);Ho(r,e,n,s,c),Sh(r,e,o,s,c),_d(r,e,f,a,o,s,c)}else Sh(r,e,o,s,c),_d(r,e,n,a,o,s,c)}function Ho(r,e,n,a,o){a.x=e.settings.margin.left;for(var s=0,c=o;s<c.length;s++){var h=c[s],f=n.cells[h.index];if(!f){a.x+=h.width;continue}r.applyStyles(f.styles),f.x=a.x,f.y=a.y;var d=e.callCellHooks(r,e.hooks.willDrawCell,f,n,h,a);if(d===!1){a.x+=h.width;continue}E6(r,f,a);var v=f.getTextPos();zy(f.text,v.x,v.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,f,n,h,a),a.x+=h.width}a.y+=n.height}function E6(r,e,n){var a=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof a.lineWidth=="number"){var o=Vy(a.lineWidth,a.fillColor);o&&r.rect(e.x,n.y,e.width,e.height,o)}else typeof a.lineWidth=="object"&&(a.fillColor&&r.rect(e.x,n.y,e.width,e.height,"F"),N6(r,e,n,a.lineWidth))}function N6(r,e,n,a){var o,s,c,h;a.top&&(o=n.x,s=n.y,c=n.x+e.width,h=n.y,a.right&&(c+=.5*a.right),a.left&&(o-=.5*a.left),f(a.top,o,s,c,h)),a.bottom&&(o=n.x,s=n.y+e.height,c=n.x+e.width,h=n.y+e.height,a.right&&(c+=.5*a.right),a.left&&(o-=.5*a.left),f(a.bottom,o,s,c,h)),a.left&&(o=n.x,s=n.y,c=n.x,h=n.y+e.height,a.top&&(s-=.5*a.top),a.bottom&&(h+=.5*a.bottom),f(a.left,o,s,c,h)),a.right&&(o=n.x+e.width,s=n.y,c=n.x+e.width,h=n.y+e.height,a.top&&(s-=.5*a.top),a.bottom&&(h+=.5*a.bottom),f(a.right,o,s,c,h));function f(d,v,_,x,y){r.getDocument().setLineWidth(d),r.getDocument().line(v,_,x,y,"S")}}function tb(r,e,n,a){var o=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(o+=e.getFootHeight(e.columns)),r.pageSize().height-a.y-o}function Sh(r,e,n,a,o,s){o===void 0&&(o=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(h){return Ho(r,e,h,a,o)}),e.callEndPageHooks(r,a);var c=e.settings.margin;Gy(r,e,n,a),nb(r),e.pageNumber++,a.x=c.left,a.y=c.top,n.y=c.top,e.callWillDrawPageHooks(r,a),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Ho(r,e,h,a,o)}),r.applyStyles(r.userStyles))}function nb(r){var e=r.pageNumber();r.setPage(e+1);var n=r.pageNumber();return n===e?(r.addPage(),!0):!1}function T6(r){r.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=e[0],o=Xy(this,a),s=Qy(this,o);return eb(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,n,a,o){zy(e,n,a,o,this)},r.API.autoTableSetDefaults=function(e){return yc.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,n){yc.setDefaults(e,n)},r.API.autoTableHtmlToJson=function(e,n){var a;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var o=new yc(this),s=Ky(o,e,window,n,!1),c=s.head,h=s.body,f=((a=c[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:f,rows:h,data:h}}}var x0;function Nm(r,e){var n=Xy(r,e),a=Qy(r,n);eb(r,a)}try{if(typeof window<"u"&&window){var Tm=window,Om=Tm.jsPDF||((x0=Tm.jspdf)===null||x0===void 0?void 0:x0.jsPDF);Om&&T6(Om)}}catch(r){console.error("Could not apply autoTable plugin",r)}function vr(r){return Math.round((Number(r)||0)*100)/100}function rn(r){const e=Number(r);return Number.isFinite(e)?e:0}function oa(r){return typeof r=="string"?r.trim():r}const Fr={display:"block",fontSize:"12px",marginBottom:"2px"},Ei={width:"140px",padding:"4px 6px",fontSize:"14px",border:"1px solid #666",borderRadius:"4px",background:"white"},w1={width:"120px",padding:"4px 6px",fontSize:"14px",textAlign:"right",border:"1px solid #666",borderRadius:"4px",background:"white"},O6={...w1,width:"90px"},A0={...w1,width:"90px"},Lm={...w1,width:"90px"},Rr={padding:"6px 14px",fontSize:"14px",fontWeight:600,border:"1px solid #444",borderRadius:"6px",background:"#e0e0e0",cursor:"pointer"};function iu(r,e,n){const a=rn(r.quantity),o=rn(r.unit_price),c=rn(e!==""&&e!==null&&e!==void 0?e:r.discount_pct),h=rn(r.cgst_rate),f=rn(r.sgst_rate),d=vr(h+f),v=vr(a*o),_=vr(v*c/100),x=vr(v-_),y=vr(x*d/100),E=n?0:vr(y/2),L=n?0:vr(y-E),k=n?y:0,N=vr(x+y);return{...r,discount_pct:c,gross_amount:v,discount_amount:_,taxable_amount:x,cgst_amount:E,sgst_amount:L,igst_amount:k,tax_amount:y,line_total:N}}function L6(){const{session:r}=jh(),e=r?.user||null,n=r?.branch||null,a=r?.company||null,o=oa(a?.company_name)||oa(e?.company_name)||"Company",s=oa(a?.gst_no)||"",c=oa(a?.phone)||"",h=oa(a?.email)||"",f=Pe.useMemo(()=>[oa(a?.address_line1),oa(a?.address_line2),oa(a?.city),oa(a?.pincode)].filter(Boolean).join(", "),[a]),[d,v]=Pe.useState(n?.company_code||e?.company_id||""),[_,x]=Pe.useState(n?.state_code||e?.state_id||""),[y,E]=Pe.useState(n?.branch_id||""),[L,k]=Pe.useState(e?.user_id||"");Pe.useEffect(()=>{v(n?.company_code||e?.company_id||""),x(n?.state_code||e?.state_id||""),E(n?.branch_id||""),k(e?.user_id||"")},[n,e]);const[N,$]=Pe.useState("ENTRY"),[I,z]=Pe.useState(null),[ae,Ee]=Pe.useState("ACTIVE"),[ye,oe]=Pe.useState(null),[W,ve]=Pe.useState(new Date().toISOString().slice(0,10)),[D,F]=Pe.useState(""),[Q,ee]=Pe.useState("CASH"),[be,Z]=Pe.useState(!1),[ue,ce]=Pe.useState(""),[Ne,G]=Pe.useState(""),[se,j]=Pe.useState("Walk-in"),[U,V]=Pe.useState(""),[te,ne]=Pe.useState(""),[pe,_e]=Pe.useState(""),[ke,Me]=Pe.useState(""),[Ye,Qe]=Pe.useState(""),[Je,ut]=Pe.useState(""),[Y,Ze]=Pe.useState([]),[it,ft]=Pe.useState([]),[Ie,ot]=Pe.useState(!1),[st,ze]=Pe.useState(null),[xe,Re]=Pe.useState(null),[lt,et]=Pe.useState(0),[gt,at]=Pe.useState(""),[Xe,At]=Pe.useState(""),ct=Pe.useRef(null),[Nn,Zt]=Pe.useState(!0),[_t,vt]=Pe.useState(null),[Dt,Et]=Pe.useState("INVOICE"),[Wt,Lt]=Pe.useState(""),[It,pn]=Pe.useState(null),[qt,jt]=Pe.useState(null);Pe.useEffect(()=>()=>{try{Wt&&URL.revokeObjectURL(Wt)}catch{}},[Wt]);const Kt=Pe.useCallback(()=>{if(!Nn)return;const Le=(document.activeElement?.tagName||"").toUpperCase();Le==="INPUT"||Le==="TEXTAREA"||Le==="SELECT"||ct.current?.focus()},[Nn]);Pe.useEffect(()=>{if(!Nn)return;const re=()=>Kt();return re(),window.addEventListener("focus",re),()=>window.removeEventListener("focus",re)},[Nn,Kt]),Pe.useEffect(()=>{ft(re=>re.map(Le=>iu(Le,ue,be)))},[ue,be]);const gn=Pe.useMemo(()=>{let re=0,Le=0,$e=0,rt=0,tt=0;for(const cr of it)re+=rn(cr.gross_amount),Le+=rn(cr.discount_amount),$e+=rn(cr.cgst_amount),rt+=rn(cr.sgst_amount),tt+=rn(cr.igst_amount);const tn=re-Le,xn=$e+rt+tt,Fn=tn+xn;return{gross:vr(re),discount:vr(Le),taxable:vr(tn),cgst:vr($e),sgst:vr(rt),igst:vr(tt),gst:vr(xn),net:vr(Fn)}},[it]),qn=Pe.useMemo(()=>vr(gn.net-rn(lt)),[gn.net,lt]);function Ti(){return window.crypto&&crypto.randomUUID&&crypto.randomUUID()||String(Date.now())+"-"+Math.random().toString(16).slice(2)}const $r=Pe.useCallback(()=>{if(!W)return"";const re=W.replace(/-/g,"");return re.length!==8?"":`${re.slice(2)}001`},[W]),Rt=Pe.useCallback(async()=>{if(!d||!_||!y||!W)return F(""),"";try{const{data:re,error:Le}=await Qr.rpc("pos_get_next_invoice_no",{p_company_id:d,p_state_id:_,p_branch_id:y,p_invoice_date:W});if(Le){console.error("pos_get_next_invoice_no error:",Le);const tt=$r();return F(tt),tt}const rt=(typeof re=="string"?re:re?.invoice_no||re?.next_invoice_no||$r())||$r();return F(rt),rt}catch(re){console.error(re);const Le=$r();return F(Le),Le}},[d,_,y,W,$r]),Kn=Rt;Pe.useEffect(()=>{N==="ENTRY"&&Kn()},[Kn,N]);function Tn(re){const Le=rn(re.sale_price||re.mrp||0);if(!Le||Le<=0){Re(`No sale price/MRP set for product ${re.product_id} at this branch`),ze(null);return}ft($e=>{const rt=re.product_id,tt=$e.findIndex(xn=>xn.product_id===rt);if(tt>=0){const xn=[...$e],Fn=xn[tt],cr=rn(Fn.quantity)+1;return xn[tt]=iu({...Fn,quantity:cr},ue,be),xn}const tn={tempId:Ti(),product_id:re.product_id,product_name:re.product_name,barcode:re.barcode||null,quantity:1,uom:"PCS",unit_price:Le,mrp:re.mrp||null,discount_pct:rn(re.discount_pct||0),cgst_rate:rn(re.cgst_rate||0),sgst_rate:rn(re.sgst_rate||0)};return[...$e,iu(tn,ue,be)]})}const _n="rengaa_billing_drafts_v3",[On,Sn]=Pe.useState(()=>{try{const re=localStorage.getItem(_n),Le=re?JSON.parse(re):[];return Array.isArray(Le)?Le:[]}catch{return[]}}),[dn,Vn]=Pe.useState(()=>{try{const re=localStorage.getItem(_n),Le=re?JSON.parse(re):[];return Array.isArray(Le)&&Le.length?0:-1}catch{return-1}});Pe.useEffect(()=>{try{localStorage.setItem(_n,JSON.stringify(On))}catch{}},[On]);function ha(){return{mode:N,loadedSalesId:I,loadedInvStatus:ye,loadStatus:ae,invoiceDate:W,invoiceNo:D,paymentMode:Q,isIGST:be,invoiceDiscountPct:ue,clientId:Ne,customerName:se,customerPhone:U,customerEmail:te,clientAddr:pe,deliveryAddr:ke,clientSearch:Je,remarks:Ye,paidAmount:lt,lines:it,lastSaved:_t,docType:Dt,_savedAt:new Date().toISOString()}}function ei(re,Le=null){const $e=re||{};$($e.mode||"ENTRY"),z($e.loadedSalesId||null),oe($e.loadedInvStatus||null),Ee($e.loadStatus||"ACTIVE"),ve($e.invoiceDate||new Date().toISOString().slice(0,10)),F($e.invoiceNo||""),ee($e.paymentMode||"CASH"),Z(!!$e.isIGST),ce($e.invoiceDiscountPct??""),G($e.clientId||""),j($e.customerName||"Walk-in"),V($e.customerPhone||""),ne($e.customerEmail||""),_e($e.clientAddr||""),Me($e.deliveryAddr||""),ut($e.clientSearch||""),Ze([]),Qe($e.remarks||""),et($e.paidAmount??0);const rt=Array.isArray($e.lines)?$e.lines:[];ft(rt.map(tt=>iu({...tt,uom:tt.uom||"PCS"},$e.invoiceDiscountPct??"",!!$e.isIGST))),vt($e.lastSaved||null),Et($e.docType||"INVOICE"),at(""),At(""),Kt(),Re(null),ze(Le!=null?`Loaded hold ${Le+1}`:"Loaded hold")}function ti(re){const Le=ha();Sn($e=>{const rt=[...$e];return re>=0&&re<rt.length?rt[re]=Le:rt.push(Le),rt})}async function Gr(){if(On.length===0||dn<0){const re=ha();return Sn([re]),Vn(0),ze("Hold created (1)"),!0}return!1}async function mr(){$("ENTRY"),z(null),oe(null),vt(null),ft([]),ze("New invoice"),Re(null),at(""),At(""),G(""),j("Walk-in"),V(""),ne(""),_e(""),Me(""),ut(""),Ze([]),et(0),ce(""),Qe(""),Z(!1);try{Wt&&URL.revokeObjectURL(Wt)}catch{}Lt(""),pn(null),jt(null),await Kn(),Kt()}async function Br(){if(await Gr())return;ti(dn);const Le=dn+1;if(Le<On.length){Vn(Le),ei(On[Le],Le);return}const $e={mode:"ENTRY",loadedSalesId:null,invoiceDate:W,lines:[],_savedAt:new Date().toISOString()};Sn(rt=>[...rt,$e]),Vn(Le),await mr(),ze(`New hold ${Le+1}`)}async function yr(){if(dn<0)return;ti(dn);const re=Math.max(0,dn-1);Vn(re);const Le=On[re];Le&&ei(Le,re)}async function Ln(){if(dn<0||!window.confirm(`Close hold ${dn+1}? This will remove it from Hold list.`))return;Sn($e=>$e.filter((rt,tt)=>tt!==dn));const Le=Math.max(0,dn-1);setTimeout(async()=>{if(Vn(Le),On.length<=1){Vn(-1),await mr(),ze("All holds closed. Back to new invoice.");return}const rt=On.filter((tt,tn)=>tn!==dn)[Le];rt?ei(rt,Le):await mr(),ze(`Closed hold. Now on hold ${Le+1}`)},0)}function Oi(){ft([]),at(""),At(""),Kt(),ze("Cleared items (header kept)"),Re(null),N==="ENTRY"&&vt(null)}const ni=Pe.useRef({});Pe.useEffect(()=>{ni.current={goPrevDraft:yr,goNextDraft:Br,clearItemsOnly:Oi,closeCurrentHold:Ln}}),Pe.useEffect(()=>{function re(Le){const $e=Le.key;if(Le.altKey&&$e==="ArrowLeft"){Le.preventDefault(),Le.stopPropagation(),ni.current.goPrevDraft?.();return}if(Le.altKey&&$e==="ArrowRight"){Le.preventDefault(),Le.stopPropagation(),ni.current.goNextDraft?.();return}$e==="F1"?(Le.preventDefault(),Le.stopPropagation(),ni.current.goPrevDraft?.()):$e==="F2"?(Le.preventDefault(),Le.stopPropagation(),ni.current.goNextDraft?.()):$e==="F3"?(Le.preventDefault(),Le.stopPropagation(),ni.current.clearItemsOnly?.()):$e==="F4"&&(Le.preventDefault(),Le.stopPropagation(),ni.current.closeCurrentHold?.())}return window.addEventListener("keydown",re,!0),()=>window.removeEventListener("keydown",re,!0)},[]);async function di(re){const Le=(re||"").trim();if(Le){if(!d||!_||!y){Re("Branch context missing. Please login & select branch.");return}ze(`Scanning: ${Le}`),Re(null);try{const{data:$e,error:rt}=await Qr.rpc("pos_lookup_product_by_barcode",{p_company_id:d,p_state_id:_,p_branch_id:y,p_barcode:Le});if(rt){console.error(rt),Re(`Barcode lookup error: ${rt.message}`),ze(null);return}if(!$e||!Array.isArray($e)||$e.length===0){Re(`Product not found for barcode ${Le}`),ze(null);return}const tt=$e[0]?.product_id;if(!tt){Re("Barcode function did not return a product_id."),ze(null);return}const{data:tn,error:xn}=await Qr.rpc("pos_lookup_product_by_id",{p_company_id:d,p_state_id:_,p_branch_id:y,p_product_id:tt});if(xn){console.error(xn),Re(`Product lookup error: ${xn.message}`),ze(null);return}if(!tn||!Array.isArray(tn)||tn.length===0){Re(`Product not found for product_id ${tt}`),ze(null);return}Tn(tn[0]),ze(`Added product ${tn[0].product_name}`),N==="ENTRY"&&vt(null)}catch($e){console.error($e),Re($e.message||"Unknown error in barcode lookup."),ze(null)}finally{at(""),Kt()}}}async function Li(){if(Xe){if(!d||!_||!y){Re("Branch context missing. Please login & select branch.");return}ze(`Searching product ${Xe}`),Re(null);try{const{data:re,error:Le}=await Qr.rpc("pos_lookup_product_by_id",{p_company_id:d,p_state_id:_,p_branch_id:y,p_product_id:Xe});if(Le){console.error(Le),Re(`Lookup error: ${Le.message}`),ze(null);return}if(!re||!Array.isArray(re)||re.length===0){Re(`Product not found for product_id ${Xe}`),ze(null);return}Tn(re[0]),ze(`Added product ${re[0].product_name}`),At(""),N==="ENTRY"&&vt(null)}catch(re){console.error(re),Re(re.message||"Unknown error in manual product lookup."),ze(null)}}}async function Ja(){if(!Je){Ze([]);return}ze(`Searching clients for "${Je}"...`),Re(null);try{const{data:re,error:Le}=await Qr.rpc("pos_lookup_client_by_name",{p_search:Je});if(Le){console.error(Le),Re(`Client search error: ${Le.message}`),Ze([]),ze(null);return}const $e=Array.isArray(re)?re:re?[re]:[];Ze($e),ze($e.length?`Found ${$e.length} client(s).`:"No matching clients.")}catch(re){console.error(re),Re(re.message||"Unknown error in client search."),ze(null),Ze([])}}function lo(re){return[re.address_line1,re.address_line2,re.city,re.state_name,re.pincode].filter(Boolean).join(", ")}function Cs(re){const Le=[re.delivery_address_line1,re.delivery_address_line2,re.delivery_city,re.delivery_pincode].filter(Boolean);return Le.length?Le.join(", "):lo(re)}function Go(re){G(oa(re.client_id)||""),j(oa(re.client_name)||""),V(oa(re.phone)||""),ne(oa(re.email)||""),_e(lo(re)),Me(Cs(re)),ut(oa(re.client_name)||""),Ze([]);const Le=!!re.is_igst;Z(Le),ft($e=>$e.map(rt=>iu(rt,ue,Le))),N==="ENTRY"&&vt(null),ze(`Client selected: ${re.client_id} - ${re.client_name}`+(Le?" (IGST)":""))}function fa(re,Le){ft($e=>$e.map(rt=>rt.tempId===re?iu({...rt,...Le},ue,be):rt)),N==="ENTRY"&&vt(null)}function Vr(re){ft(Le=>Le.filter($e=>$e.tempId!==re)),N==="ENTRY"&&vt(null)}async function Yr(re){ze(re||null),Re(null),$("ENTRY"),z(null),oe(null),vt(null),ft([]),at(""),At(""),G(""),j("Walk-in"),V(""),ne(""),_e(""),Me(""),ut(""),Ze([]),et(0),ce(""),Qe(""),Z(!1);try{Wt&&URL.revokeObjectURL(Wt)}catch{}Lt(""),pn(null),jt(null),await Kn(),Kt()}function Rs(){$("ENTRY"),z(null),oe(null),vt(null),ft([]),ze(null),Re(null),at(""),At(""),G(""),j("Walk-in"),V(""),ne(""),_e(""),Me(""),ut(""),Ze([]),et(0),ce(""),Qe(""),Z(!1);try{Wt&&URL.revokeObjectURL(Wt)}catch{}Lt(""),pn(null),jt(null),Kn(),Kt()}function Za(){return{company_id:d,state_id:_,branch_id:y,is_igst:!!be,client_id:Ne||null,customer_name:se||null,customer_phone:U||null,payment_mode:Q,created_by:L,updated_by:L,remarks:(Ye||"").trim()?Ye.trim():null,gross_amount:gn.gross,discount_amount:gn.discount,taxable_amount:gn.taxable,cgst_amount:gn.cgst,sgst_amount:gn.sgst,igst_amount:gn.igst,tax_amount:gn.gst,net_amount:gn.net,paid_amount:rn(lt),balance_amount:qn,items:it.map(re=>({product_id:re.product_id,quantity:rn(re.quantity),uom:re.uom||"PCS",unit_price:rn(re.unit_price),mrp:re.mrp??null,discount_pct:rn(re.discount_pct),gross_amount:rn(re.gross_amount),discount_amount:rn(re.discount_amount),taxable_amount:rn(re.taxable_amount),cgst_amount:rn(re.cgst_amount),sgst_amount:rn(re.sgst_amount),igst_amount:rn(re.igst_amount),tax_amount:rn(re.tax_amount),line_total:rn(re.line_total)}))}}function da(){return{...Za(),invoice_no:D,invoice_date:W}}function Ds(){return Za()}async function Ps(){if(it.length===0)return Re("No items to save.");if(!d||!_||!y)return Re("Branch context missing.");if(!D)return Re("Invoice No is empty.");if(!W)return Re("Invoice Date is empty.");ot(!0),Re(null),ze("Saving bill...");const re=da(),{data:Le,error:$e}=await Qr.rpc("pos_create_sales_invoice",{p_data:re});if(ot(!1),$e)return console.error($e),Re($e.message||"Error saving sales invoice."),ze(null),null;const rt=Le;return vt({sales_id:rt,invoice_no:D,invoice_date:W,status:"ACTIVE",savedAtISO:new Date().toISOString()}),ze(`Saved bill. sales_id: ${rt}`),Re(null),await Yr(`Saved bill. sales_id: ${rt}`),rt}async function Ji(){if(!d||!_||!y)return Re("Branch context missing.");if(!W||!D)return Re("Please enter Invoice Date and Invoice No.");Re(null),ze("Loading invoice..."),ot(!0);try{const{data:re,error:Le}=await Qr.rpc("pos_get_sales_invoice_by_no",{p_company_id:d,p_state_id:_,p_branch_id:y,p_invoice_date:W,p_invoice_no:D,p_status:ae});if(ot(!1),Le){console.error(Le),Re(Le.message||"Load RPC error."),ze(null);return}const $e=re&&typeof re=="object"?re:null,rt=$e?.header||$e||null,tt=$e?.items||[],tn=$e?.sales_id||rt?.sales_id||null;z(tn);const xn=(rt?.status||$e?.status||"ACTIVE").toUpperCase();oe(xn),rt?.invoice_date&&ve(String(rt.invoice_date).slice(0,10)),rt?.invoice_no&&F(rt.invoice_no),ee(rt?.payment_mode||"CASH"),Z(!!rt?.is_igst),ce(rt?.invoice_discount_pct??"");const Fn=rt?.client_id??"";G(typeof Fn=="string"?Fn.trim():Fn||""),j(rt?.customer_name||"Walk-in"),V(rt?.customer_phone||""),Qe(rt?.remarks||""),et(rt?.paid_amount??0),ne(""),_e(""),Me("");const Bs=(Array.isArray(tt)?tt:[]).map(yt=>({tempId:Ti(),product_id:yt.product_id,product_name:yt.product_name||yt.product_id,barcode:yt.barcode||null,quantity:rn(yt.quantity),uom:yt.uom||"PCS",unit_price:rn(yt.unit_price),mrp:yt.mrp??null,discount_pct:rn(yt.discount_pct??0),cgst_rate:rn(yt.cgst_rate??0),sgst_rate:rn(yt.sgst_rate??0)}));ft(Bs.map(yt=>iu(yt,rt?.invoice_discount_pct??"",!!rt?.is_igst))),vt(tn?{sales_id:tn,invoice_no:rt?.invoice_no||D,invoice_date:String(rt?.invoice_date||W).slice(0,10),status:xn,savedAtISO:new Date().toISOString()}:null),ze(`Loaded ${xn} invoice ${rt?.invoice_no||D} ${tn?`(sales_id ${tn})`:""}`),Kt()}catch(re){ot(!1),console.error(re),Re(re.message||"Load failed."),ze(null)}}async function Qa(){if(N!=="EDIT")return;if(!I)return Re("No loaded sales_id. Load invoice first.");if(it.length===0)return Re("No items to update.");if(ye==="DELETED")return Re("Deleted invoice cannot be updated. Only Duplicate is allowed.");ot(!0),Re(null),ze("Updating invoice...");const re=Ds();try{const{data:Le,error:$e}=await Qr.rpc("pos_update_sales_invoice",{p_sales_id:I,p_data:re});if(ot(!1),$e){console.error($e),Re($e.message||"Update RPC error."),ze(null);return}vt({sales_id:I,invoice_no:D,invoice_date:W,status:"ACTIVE",savedAtISO:new Date().toISOString()}),await Yr(`Updated invoice ${D}. result: ${typeof Le=="string"?Le:"OK"}`)}catch(Le){ot(!1),console.error(Le),Re(Le.message||"Update failed."),ze(null)}}async function ri(){if(N!=="DELETE")return;if(!W||!D)return Re("Enter Invoice Date and Invoice No.");if(!d||!_||!y)return Re("Branch context missing.");if(ye==="DELETED")return Re("Invoice already deleted.");if(window.confirm(`Delete invoice ${D} dated ${W}? This cannot be undone.`)){ot(!0),Re(null),ze("Deleting invoice...");try{const{data:Le,error:$e}=await Qr.rpc("pos_delete_sales_invoice_by_no",{p_company_id:d,p_state_id:_,p_branch_id:y,p_invoice_date:W,p_invoice_no:D,p_updated_by:L});if(ot(!1),$e){console.error($e),Re($e.message||"Delete RPC error."),ze(null);return}await Yr(`Deleted invoice ${D}. (${Le||"OK"})`)}catch(Le){ot(!1),console.error(Le),Re(Le.message||"Delete failed."),ze(null)}}}async function Xn(){if(!I)return Re("Load an invoice first to duplicate.");if(it.length===0)return Re("Loaded invoice has no items to duplicate.");if(window.confirm(`Duplicate invoice ${D}?

This will ONLY create a new Invoice No on screen.
Press "Save Bill" to save it.`)){ot(!0),Re(null),ze("Preparing duplicate...");try{const Le=await Rt();if(!Le){ot(!1),Re("Could not generate next invoice number."),ze(null);return}$("ENTRY"),z(null),oe(null),vt(null),F(Le),ot(!1),ze(`Duplicate prepared. New invoice_no: ${Le}. Now press "Save Bill" to save.`),Kt()}catch(Le){ot(!1),console.error(Le),Re(Le.message||"Duplicate prepare failed."),ze(null)}}}const Wr=Pe.useMemo(()=>!!(_t?.sales_id&&_t?.invoice_no&&_t?.invoice_date),[_t]);function br(){return Wr?((_t?.status||"").toUpperCase()==="DELETED"&&ze("Note: This invoice is DELETED."),!0):(Re("Please SAVE the invoice first. Only saved invoices can be Preview/Download/Print/Share."),ze(null),!1)}function Dn(re){return vr(rn(re)).toFixed(2)}function es(){const re=_t?.invoice_no||D,Le=_t?.invoice_date||W;return`${Dt==="DO"?"Delivery Order":"Invoice"} ${re} (${Le})`}function ji(){const re=_t?.invoice_no||D,Le=_t?.invoice_date||W,$e=(se||"Walk-in").trim();return[`Rengaa POS ${Dt==="DO"?"Delivery Order":"Invoice"}`,`Invoice No: ${re}`,`Date: ${Le}`,`Customer: ${$e}`,U?`Phone: ${U}`:"",Dt==="DO"?"":`Net: ${Dn(gn.net)}`,Dt==="DO"?"":`Paid: ${Dn(lt)}`,Dt==="DO"?"":`Balance: ${Dn(qn)}`,Dt==="DO"?`Delivery Address: ${ke||pe||"-"}`:"","","Note: Please attach the PDF manually if WhatsApp doesnt attach automatically."].filter(Boolean).join(`
`)}function vn(re){return String(re||"").replace(/\D/g,"")}function qi(){return`${String(d||"").trim()}-${String(_||"").trim()}-${String(y||"").trim()}`}function uo(re){const Le=re||Dt;if(!br())throw new Error("Invoice not saved.");const $e=_t?.invoice_no||D,rt=_t?.invoice_date||W;if(!$e||!rt)throw new Error("Invoice No/Date missing");if(!it.length)throw new Error("No items");const tt=new kt({unit:"mm",format:"a4"}),tn=qi(),xn=(se||"Walk-in").trim(),Fn=(ke||pe||"").trim();tt.setFontSize(14),tt.text(o,14,14),tt.setFontSize(9),f&&tt.text(f,14,18);const cr=s?`GST: ${s}`:"",Bs=c?`Ph: ${c}`:"",yt=h?`Email: ${h}`:"",ho=[cr,Bs,yt].filter(Boolean).join("   |   ");ho&&tt.text(ho,14,22),tt.setFontSize(11),tt.text(Le==="DO"?"DELIVERY ORDER":"TAX INVOICE",150,14),tt.setFontSize(10),tt.text(`Branch: ${tn}`,14,28),tt.text(`No: ${$e}`,14,34),tt.text(`Date: ${rt}`,80,34),Le!=="DO"&&(tt.text(`Payment: ${Q}`,140,34),tt.text(`Tax Mode: ${be?"IGST":"GST"}`,140,28)),tt.text(`Customer: ${xn}`,14,40),U&&tt.text(`Phone: ${U}`,140,40),Le==="DO"&&(tt.setFontSize(9),tt.text(`Delivery Address: ${Fn||"-"}`,14,46));const Zi=Le==="DO"?52:46;if(Le==="DO"){const pi=it.map((ki,zi)=>[String(zi+1),`${ki.product_name}
(${ki.product_id})`,String(rn(ki.quantity)),ki.uom||"PCS"]);Nm(tt,{startY:Zi,head:[["#","Product","Qty","UOM"]],body:pi,styles:{fontSize:9,cellPadding:2},headStyles:{fontSize:9},columnStyles:{0:{cellWidth:8},1:{cellWidth:118},2:{halign:"right",cellWidth:18},3:{cellWidth:18}}});const Pn=(tt.lastAutoTable?.finalY||Zi)+10;tt.setFontSize(10),tt.text(`Total Items: ${it.length}`,14,Pn),tt.text(`Total Qty: ${it.reduce((ki,zi)=>ki+rn(zi.quantity),0)}`,140,Pn);const Jn=Pn+10;tt.setFontSize(9),tt.text("Receiver Signature:",14,Jn),tt.text("Prepared By:",140,Jn),(Ye||"").trim()&&(tt.setFontSize(9),tt.text(`Remarks: ${Ye.trim()}`,14,Jn+10))}else{const pi=it.map((Jn,ki)=>[String(ki+1),`${Jn.product_name}
(${Jn.product_id})`,String(rn(Jn.quantity)),Dn(Jn.unit_price),Dn(Jn.gross_amount),Dn(Jn.discount_amount),Dn(Jn.tax_amount),Dn(Jn.line_total)]);Nm(tt,{startY:Zi,head:[["#","Product","Qty","Rate","Gross","Disc","GST","Total"]],body:pi,styles:{fontSize:9,cellPadding:2},headStyles:{fontSize:9},columnStyles:{0:{cellWidth:7},1:{cellWidth:68},2:{halign:"right",cellWidth:12},3:{halign:"right",cellWidth:16},4:{halign:"right",cellWidth:16},5:{halign:"right",cellWidth:16},6:{halign:"right",cellWidth:16},7:{halign:"right",cellWidth:16}}});const Pn=(tt.lastAutoTable?.finalY||Zi)+8;tt.setFontSize(10),tt.text(`Gross: ${Dn(gn.gross)}`,140,Pn),tt.text(`Discount: ${Dn(gn.discount)}`,140,Pn+6),tt.text(`Taxable: ${Dn(gn.taxable)}`,140,Pn+12),tt.text(`GST: ${Dn(gn.gst)}`,140,Pn+18),tt.setFontSize(12),tt.text(`NET: ${Dn(gn.net)}`,140,Pn+26),tt.setFontSize(10),tt.text(`Paid: ${Dn(lt)}`,14,Pn+18),tt.text(`Balance: ${Dn(qn)}`,14,Pn+24),(Ye||"").trim()&&(tt.setFontSize(9),tt.text(`Remarks: ${Ye.trim()}`,14,Pn+32))}return tt.output("blob")}async function pa(re){const Le=re||Dt,$e=uo(Le);try{Wt&&URL.revokeObjectURL(Wt)}catch{}const rt=URL.createObjectURL($e);Lt(rt);const tt=_t?.invoice_no||D,tn=`${Le==="DO"?"DO":"INV"}_${tt}.pdf`,xn=new File([$e],tn,{type:"application/pdf"});return pn(xn),jt({docType:Le,invoiceNo:_t?.invoice_no||D,invoiceDate:_t?.invoice_date||W,salesId:_t?.sales_id||null}),{blob:$e,url:rt,file:xn}}async function ka(re){try{if(!br())return;await pa(re),ze("PDF ready (preview below)."),Re(null)}catch(Le){Re(Le.message||"PDF error"),ze(null)}}async function Fi(re){try{if(!br())return;const{url:Le}=await pa(re),$e=re||Dt,rt=_t?.invoice_no||D,tt=document.createElement("a");tt.href=Le,tt.download=`${$e==="DO"?"DO":"INV"}_${rt}.pdf`,tt.click(),ze("PDF downloaded."),Re(null)}catch(Le){Re(Le.message||"Download failed"),ze(null)}}async function co(re){try{if(!br())return;const{url:Le}=await pa(re),$e=window.open(Le,"_blank");if(!$e){Re("Popup blocked. Allow popups for printing."),ze(null);return}const rt=setInterval(()=>{try{$e.focus(),$e.print(),clearInterval(rt)}catch{}},400);ze("Print opened."),Re(null)}catch(Le){Re(Le.message||"Print failed"),ze(null)}}async function ga(){try{if(!br())return;await pa(Dt);const re=ji();if(navigator.share&&It)try{await navigator.share({title:es(),text:re,files:[It]}),ze("Shared."),Re(null);return}catch{}const Le=vn(U),$e=Le?`https://wa.me/${Le}?text=${encodeURIComponent(re)}`:`https://web.whatsapp.com/send?text=${encodeURIComponent(re)}`;window.open($e,"_blank"),ze("WhatsApp opened with message. Attach PDF manually."),Re(null)}catch(re){Re(re.message||"Share failed"),ze(null)}}async function Ms(){try{if(!br())return;await pa(Dt);const re=(te||"").trim(),Le=_t?.invoice_no||D,$e=_t?.invoice_date||W,rt=(se||"Walk-in").trim(),tt=Dt==="DO"?`Delivery Order ${Le} - ${rt}`:`Invoice ${Le} - ${rt}`,xn=[`Dear ${rt},`,"",Dt==="DO"?"Please find the Delivery Order details below.":"Please find the invoice details below.","",`No: ${Le}`,`Date: ${$e}`,U?`Phone: ${U}`:"",Dt==="DO"?"":`Net: ${Dn(gn.net)}`,Dt==="DO"?"":`Paid: ${Dn(lt)}`,Dt==="DO"?"":`Balance: ${Dn(qn)}`,Dt==="DO"?`Delivery Address: ${ke||pe||"-"}`:"","","IMPORTANT: Please attach the PDF manually from your computer.",`File name: ${Dt==="DO"?"DO":"INV"}_${Le}.pdf`,"","Thanks,",`${o}`,c?`Ph: ${c}`:"",s?`GST: ${s}`:""].filter(Boolean).join(`
`),Fn=`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(re)}&su=${encodeURIComponent(tt)}&body=${encodeURIComponent(xn)}`;window.open(Fn,"_blank"),ze("Gmail compose opened. Attach the PDF manually (from Download/Preview)."),Re(null)}catch(re){Re(re.message||"Email failed"),ze(null)}}const va=N==="EDIT"||N==="DELETE";return O.jsxs("div",{style:{padding:"16px",maxWidth:"1100px",margin:"0 auto"},children:[O.jsx("h2",{style:{marginBottom:"6px"},children:"Billing (Sales)"}),O.jsxs("div",{style:{position:"sticky",top:0,zIndex:10,background:"#fff",padding:"8px 10px",border:"1px solid #ddd",borderRadius:8,marginBottom:12,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[O.jsxs("div",{style:{fontSize:12,color:"#333"},children:[O.jsx("b",{children:"Hold:"})," ",dn>=0?O.jsxs(O.Fragment,{children:[O.jsx("b",{style:{fontSize:13},children:dn+1})," / ",On.length]}):"-","|",O.jsxs("span",{style:{color:"#666"},children:["Keys: ",O.jsx("b",{children:"F1"})," Prev, ",O.jsx("b",{children:"F2"})," Next/New, ",O.jsx("b",{children:"F3"})," Clear Items, ",O.jsx("b",{children:"F4"})," Close Hold  (Backup: ",O.jsx("b",{children:"Alt+"}),", ",O.jsx("b",{children:"Alt+"}),")"]})]}),O.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[O.jsx("button",{type:"button",onClick:()=>yr(),style:Rr,children:" Prev Hold (F1)"}),O.jsx("button",{type:"button",onClick:()=>Br(),style:Rr,children:"Next / New Hold (F2)"}),O.jsx("button",{type:"button",onClick:()=>Ln(),style:{...Rr,background:"#ffe4c7"},disabled:dn<0,title:"Remove this hold invoice from the list",children:"Close Hold (F4)"})]})]}),O.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",padding:"10px",border:"1px solid #ddd",borderRadius:8,background:"#fafafa",marginBottom:12,flexWrap:"wrap"},children:[O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Menu"}),O.jsxs("select",{value:N,onChange:re=>{const Le=re.target.value;$(Le),z(null),oe(null),vt(null),ze(null),Re(null),Le==="ENTRY"&&Kn()},style:{...Ei,width:220},children:[O.jsx("option",{value:"ENTRY",children:"1. Entry"}),O.jsx("option",{value:"EDIT",children:"2. Edit (Update)"}),O.jsx("option",{value:"DELETE",children:"3. Delete"})]})]}),va&&O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Invoice Status"}),O.jsxs("select",{value:ae,onChange:re=>Ee(re.target.value),style:{...Ei,width:160},disabled:Ie,children:[O.jsx("option",{value:"ACTIVE",children:"Active"}),O.jsx("option",{value:"DELETED",children:"Deleted"})]})]}),O.jsxs("div",{style:{flex:1,color:"#666",fontSize:13,minWidth:260},children:[N==="ENTRY"&&"Entry: Create new invoice (must SAVE before PDF/Print/Share/Download/Email)",N==="EDIT"&&"Edit: Load by Date + Invoice No, then Update / Duplicate",N==="DELETE"&&"Delete: Load by Date + Invoice No, then Delete",ye?O.jsxs("span",{style:{marginLeft:10,color:ye==="DELETED"?"#a00":"#0a0"},children:[O.jsx("b",{children:"Status:"})," ",ye]}):null]}),va&&O.jsxs("div",{style:{display:"flex",gap:8,alignItems:"end",flexWrap:"wrap"},children:[O.jsx("button",{type:"button",onClick:Ji,style:Rr,disabled:Ie,children:"Load"}),O.jsx("button",{type:"button",onClick:Xn,style:{...Rr,background:"#dff5ff"},disabled:Ie||!I,title:"Prepare duplicate: new invoice no on screen, then Save Bill",children:"Duplicate"}),N==="EDIT"&&O.jsx("button",{type:"button",onClick:Qa,style:Rr,disabled:Ie||ye==="DELETED",children:"Update"}),N==="DELETE"&&O.jsx("button",{type:"button",onClick:ri,style:{...Rr,background:"#ffd6d6"},disabled:Ie||ye==="DELETED",children:"Delete"})]})]}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"12px",marginBottom:"8px"},children:[O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Invoice Date"}),O.jsx("input",{type:"date",value:W,onChange:re=>ve(re.target.value),style:Ei})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Invoice No (yymmddnnn)"}),O.jsx("input",{value:D,onChange:re=>F(re.target.value),style:Ei,placeholder:"yymmddnnn"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Tax Mode"}),O.jsx("input",{readOnly:!0,value:be?"IGST (from client)":"GST",style:{...Ei,width:"180px",background:"#f4f4f4"}})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Invoice Discount % (override)"}),O.jsx("input",{type:"number",step:"0.1",value:ue,onChange:re=>ce(re.target.value===""?"":re.target.value),style:Lm,placeholder:"(blank = item discount)",disabled:N==="DELETE"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Client Search (Name)"}),O.jsxs("div",{style:{display:"flex",gap:"4px"},children:[O.jsx("input",{value:Je,onChange:re=>ut(re.target.value),onKeyDown:re=>re.key==="Enter"&&Ja(),style:{...Ei,width:"100%"},placeholder:"Type partial name and press Enter/Search",disabled:N==="DELETE"}),O.jsx("button",{type:"button",onClick:Ja,style:{...Rr,padding:"4px 10px",whiteSpace:"nowrap"},disabled:N==="DELETE",children:"Search"})]})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Client ID (selected)"}),O.jsx("input",{value:Ne,readOnly:!0,style:{...Ei,background:"#f4f4f4"}})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Client / Customer Name"}),O.jsx("input",{value:se,onChange:re=>j(re.target.value),style:Ei,disabled:N==="DELETE"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Phone No"}),O.jsx("input",{value:U,onChange:re=>V(re.target.value),style:Ei,placeholder:"Mobile",disabled:N==="DELETE"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Email"}),O.jsx("input",{value:te,onChange:re=>ne(re.target.value),style:Ei,placeholder:"customer email",disabled:N==="DELETE"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Payment Mode"}),O.jsxs("select",{value:Q,onChange:re=>ee(re.target.value),style:Ei,disabled:N==="DELETE",children:[O.jsx("option",{value:"CASH",children:"CASH"}),O.jsx("option",{value:"CARD",children:"CARD"}),O.jsx("option",{value:"UPI",children:"UPI"}),O.jsx("option",{value:"CREDIT",children:"CREDIT"}),O.jsx("option",{value:"MIXED",children:"MIXED"})]})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Paid Amount"}),O.jsx("input",{type:"number",step:"0.01",value:lt,onChange:re=>et(re.target.value),style:A0,disabled:N==="DELETE"})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Balance"}),O.jsx("input",{type:"number",readOnly:!0,value:qn.toFixed(2),style:{...A0,background:"#f4f4f4"}})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Created By"}),O.jsx("input",{value:L,readOnly:!0,style:{...Ei,background:"#f4f4f4"}})]}),O.jsxs("div",{style:{gridColumn:"span 4"},children:[O.jsx("label",{style:Fr,children:"Delivery Address (for DO)"}),O.jsx("textarea",{value:ke,onChange:re=>{Me(re.target.value),N==="ENTRY"&&vt(null)},placeholder:"(Default comes from client delivery address or normal address)",style:{...Ei,width:"100%",height:"46px",resize:"vertical",fontFamily:"inherit"},disabled:N==="DELETE"})]}),O.jsxs("div",{style:{gridColumn:"span 4"},children:[O.jsx("label",{style:Fr,children:"Remarks"}),O.jsx("textarea",{value:Ye,onChange:re=>{Qe(re.target.value),N==="ENTRY"&&vt(null)},placeholder:"Any note for this invoice...",style:{...Ei,width:"100%",height:"56px",resize:"vertical",fontFamily:"inherit"},disabled:N==="DELETE"})]})]}),Y.length>0&&N!=="DELETE"&&O.jsx("div",{style:{marginBottom:"12px",border:"1px solid #ccc",borderRadius:"4px",padding:"6px",maxHeight:"150px",overflowY:"auto",background:"#fff"},children:Y.map(re=>O.jsxs("div",{onClick:()=>Go(re),style:{padding:"4px 6px",cursor:"pointer",display:"flex",justifyContent:"space-between"},children:[O.jsxs("span",{children:[O.jsx("strong",{children:re.client_name})," (",re.client_id,")",re.is_igst?O.jsx("span",{style:{marginLeft:8,fontSize:"12px",color:"#a00"},children:"IGST"}):null]}),O.jsx("span",{style:{fontSize:"0.9em",color:"#555"},children:re.phone})]},re.client_id))}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1.2fr auto",gap:"12px",marginBottom:"16px",alignItems:"end",opacity:N==="DELETE"?.6:1,pointerEvents:N==="DELETE"?"none":"auto"},children:[O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Scan Barcode"}),O.jsx("input",{ref:ct,value:gt,onChange:re=>at(re.target.value),onFocus:()=>Zt(!0),onBlur:()=>Zt(!1),onKeyDown:re=>{if(re.key==="Enter"){re.preventDefault();const Le=re.currentTarget.value;di(Le)}},style:{...Ei,width:"100%"},placeholder:"Focus here and scan",inputMode:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1})]}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Or Product ID"}),O.jsx("input",{value:Xe,onChange:re=>At(re.target.value),onKeyDown:re=>re.key==="Enter"&&Li(),style:{...Ei,width:"100%"}})]}),O.jsxs("div",{style:{display:"flex",gap:"8px"},children:[O.jsx("button",{type:"button",onClick:()=>di(gt),style:Rr,children:"Add by Barcode"}),O.jsx("button",{type:"button",onClick:Li,style:Rr,children:"Add by Product"})]})]}),O.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"2px 6px",marginBottom:"14px",opacity:N==="DELETE"?.75:1},children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"#"}),O.jsx("th",{children:"Product"}),O.jsx("th",{children:"Qty"}),O.jsx("th",{children:"Rate"}),O.jsx("th",{children:"Gross"}),O.jsx("th",{children:"Disc %"}),O.jsx("th",{children:"Disc Amt"}),O.jsx("th",{children:"Taxable"}),O.jsx("th",{children:"GST Amt"}),O.jsx("th",{children:"Line Total"}),O.jsx("th",{})]})}),O.jsxs("tbody",{children:[it.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:11,style:{textAlign:"center",padding:"10px"},children:"No items. Scan barcode or add by Product ID."})}),it.map((re,Le)=>O.jsxs("tr",{children:[O.jsx("td",{children:Le+1}),O.jsxs("td",{children:[re.product_name,O.jsxs("div",{style:{fontSize:"0.8em",color:"#666"},children:[re.product_id,re.barcode?` / ${re.barcode}`:""]})]}),O.jsx("td",{children:O.jsx("input",{type:"number",min:1,step:1,value:re.quantity,onChange:$e=>{const rt=Number($e.target.value);Number.isFinite(rt)&&fa(re.tempId,{quantity:Math.max(1,rt)})},style:O6,disabled:N==="DELETE"})}),O.jsx("td",{children:O.jsx("input",{type:"number",step:"0.01",value:re.unit_price,onChange:$e=>fa(re.tempId,{unit_price:Number($e.target.value)||0}),style:A0,disabled:N==="DELETE"})}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:vr(re.gross_amount??0).toFixed(2)}),O.jsx("td",{children:O.jsx("input",{type:"number",step:"0.1",value:re.discount_pct,onChange:$e=>fa(re.tempId,{discount_pct:Number($e.target.value)||0}),style:Lm,disabled:N==="DELETE"||ue!==""})}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:vr(re.discount_amount??0).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:vr(re.taxable_amount??0).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:vr(re.tax_amount??0).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:vr(re.line_total??0).toFixed(2)}),O.jsx("td",{children:O.jsx("button",{type:"button",onClick:()=>Vr(re.tempId),style:Rr,disabled:N==="DELETE",children:""})})]},re.tempId))]})]}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px",marginBottom:"8px"},children:[O.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"end"},children:[N==="ENTRY"&&O.jsx("button",{type:"button",onClick:Ps,disabled:Ie||it.length===0,style:Rr,children:Ie?"Saving...":"Save Bill"}),O.jsx("button",{type:"button",onClick:Rs,style:Rr,disabled:Ie,children:"Clear Invoice"}),O.jsx("button",{type:"button",onClick:Oi,style:Rr,disabled:Ie,children:"Clear Items (F3)"}),O.jsxs("div",{children:[O.jsx("label",{style:Fr,children:"Document"}),O.jsxs("select",{value:Dt,onChange:re=>Et(re.target.value),style:{...Ei,width:180},disabled:Ie,children:[O.jsx("option",{value:"INVOICE",children:"Invoice PDF"}),O.jsx("option",{value:"DO",children:"Delivery Order (DO)"})]})]}),O.jsx("button",{type:"button",onClick:()=>ka(Dt),style:{...Rr,background:"#f1f7ff"},disabled:Ie||it.length===0||!Wr,title:Wr?"":"Save invoice first",children:"Preview PDF"}),O.jsx("button",{type:"button",onClick:()=>Fi(Dt),style:{...Rr,background:"#eaffea"},disabled:Ie||it.length===0||!Wr,title:Wr?"":"Save invoice first",children:"Download PDF"}),O.jsx("button",{type:"button",onClick:()=>co(Dt),style:{...Rr,background:"#fff3d6"},disabled:Ie||it.length===0||!Wr,title:Wr?"":"Save invoice first",children:"Print"}),O.jsx("button",{type:"button",onClick:ga,style:{...Rr,background:"#e8ffe8"},disabled:Ie||it.length===0||!Wr,title:Wr?"Opens WhatsApp with message; attach PDF manually if needed":"Save invoice first",children:"Share WhatsApp"}),O.jsx("button",{type:"button",onClick:Ms,style:{...Rr,background:"#e8f0ff"},disabled:Ie||it.length===0||!Wr,title:Wr?"Opens Gmail compose. Attach PDF manually.":"Save invoice first",children:"Email (Gmail)"}),Wr?null:O.jsx("div",{style:{fontSize:12,color:"#a00",marginLeft:6},children:"* Save first to Preview/Download/Print/Share/Email"})]}),O.jsxs("div",{style:{textAlign:"right",minWidth:"300px"},children:[O.jsxs("div",{children:["Gross: ",gn.gross.toFixed(2)]}),O.jsxs("div",{children:["Discount: ",gn.discount.toFixed(2)]}),O.jsxs("div",{children:["Taxable: ",gn.taxable.toFixed(2)]}),O.jsxs("div",{children:["Tax (",be?"IGST":"GST","): ",(be?gn.igst:gn.gst).toFixed(2)]}),O.jsx("div",{children:O.jsxs("strong",{children:["Net: ",gn.net.toFixed(2)]})}),O.jsxs("div",{children:["Paid: ",rn(lt).toFixed(2)]}),O.jsxs("div",{children:["Balance: ",O.jsx("strong",{children:qn.toFixed(2)})]}),O.jsx("div",{style:{fontSize:"0.8em",color:"#555"},children:"(All values calculated in Billing and stored as-is)"})]})]}),st&&O.jsx("div",{style:{color:"green"},children:st}),xe&&O.jsx("div",{style:{color:"red"},children:xe}),Wt&&O.jsxs("div",{style:{marginTop:14,border:"1px solid #ccc",borderRadius:8,overflow:"hidden"},children:[O.jsxs("div",{style:{padding:"8px 10px",background:"#f7f7f7",display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[O.jsxs("div",{children:[O.jsx("b",{children:"PDF Preview"})," ",qt?.docType?O.jsxs("span",{style:{fontSize:12,color:"#555"},children:[" ",qt.docType==="DO"?"Delivery Order":"Invoice"," / ",qt.invoiceNo]}):null]}),O.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[O.jsx("button",{type:"button",style:Rr,onClick:()=>{window.open(Wt,"_blank")||(Re("Popup blocked. Allow popups."),ze(null))},children:"Open"}),O.jsx("button",{type:"button",style:Rr,onClick:()=>{try{URL.revokeObjectURL(Wt)}catch{}Lt(""),pn(null),jt(null)},children:"Close Preview"})]})]}),O.jsx("iframe",{title:"PDF",src:Wt,style:{width:"100%",height:"70vh",border:"0"}})]})]})}function qo(r){return Math.round((Number(r)||0)*100)/100}const Xi={display:"block",fontSize:"12px",marginBottom:"2px"},Oa={width:"140px",padding:"4px 6px",fontSize:"14px",border:"1px solid #666",borderRadius:"4px",background:"white"},mh={width:"120px",padding:"4px 6px",fontSize:"14px",textAlign:"right",border:"1px solid #666",borderRadius:"4px",background:"white"},sc={padding:"6px 14px",fontSize:"14px",fontWeight:600,border:"1px solid #444",borderRadius:"6px",background:"#e0e0e0",cursor:"pointer"};function j6(){const{session:r}=jh(),e=r?.user||null,n=r?.branch||null,[a,o]=Pe.useState(n?.company_code||e?.company_id||""),[s,c]=Pe.useState(n?.state_code||e?.state_id||""),[h,f]=Pe.useState(n?.branch_id||""),[d,v]=Pe.useState(e?.user_id||"");Pe.useEffect(()=>{o(n?.company_code||e?.company_id||""),c(n?.state_code||e?.state_id||""),f(n?.branch_id||""),v(e?.user_id||"")},[n,e]);const[_,x]=Pe.useState(new Date().toISOString().slice(0,10)),[y,E]=Pe.useState(""),[L,k]=Pe.useState(""),[N,$]=Pe.useState(new Date().toISOString().slice(0,10)),[I,z]=Pe.useState(""),[ae,Ee]=Pe.useState(""),[ye,oe]=Pe.useState(""),[W,ve]=Pe.useState([]),[D,F]=Pe.useState(!1),[Q,ee]=Pe.useState(null),[be,Z]=Pe.useState(null),[ue,ce]=Pe.useState(""),[Ne,G]=Pe.useState(""),[se,j]=Pe.useState(0),[U,V]=Pe.useState(0),[te,ne]=Pe.useState([]),[pe,_e]=Pe.useState([]),[ke,Me]=Pe.useState(!1),[Ye,Qe]=Pe.useState(null),[Je,ut]=Pe.useState(null);Pe.useEffect(()=>{let xe=!1;return(async()=>{try{const{data:Re,error:lt}=await Qr.rpc("pos_list_vendors");if(xe)return;if(lt){console.error("vendor rpc function load error: ",lt),Z("Failed to load vendors");return}Re&&Array.isArray(Re)&&Re.length>0&&(ne(Re),!y&&Re[0].vendor_id&&E(Re[0].vendor_id))}catch(Re){xe||(console.error(Re),Z("Failed to load vendors"))}})(),()=>{xe=!0}},[y]),Pe.useEffect(()=>{a&&s&&h&&Y()},[a,s,h]);async function Y(){try{Z(null),Me(!0);const{data:xe,error:Re}=await Qr.rpc("pos_list_purchase_invoice",{p_company_id:a,p_state_id:s,p_branch_id:h});if(Re)throw Re;_e(Array.isArray(xe)?xe:[])}catch(xe){console.error("loadInvoiceList error:",xe),Z(xe.message||"Failed to load purchase invoices.")}finally{Me(!1)}}async function Ze(xe){try{Z(null),Qe(xe);const{data:Re,error:lt}=await Qr.rpc("pos_get_purchase_invoice",{p_purchase_id:xe});if(lt)throw lt;const et=Re?.header||{},gt=Array.isArray(Re?.items)?Re.items:[];ut(xe),o(et.company_id||a),c(et.state_id||s),f(et.branch_id||h),E(et.vendor_id||""),k(et.vendor_invoice_no||""),$(et.vendor_invoice_date?et.vendor_invoice_date.slice(0,10):new Date().toISOString().slice(0,10)),x(et.invoice_date?et.invoice_date.slice(0,10):new Date().toISOString().slice(0,10)),v(et.created_by||d),z(et.remarks||""),Ee(et.po_number||""),oe(et.po_date?et.po_date.slice(0,10):"");const at=gt.map(Xe=>({tempId:window.crypto&&crypto.randomUUID&&crypto.randomUUID()||String(Date.now())+"-"+Math.random().toString(16).slice(2),product_id:Xe.product_id,product_name:Xe.product_name||Xe.product_id,quantity:Number(Xe.quantity||0),unit_cost:Number(Xe.unit_cost||Xe.unit_price||0),mrp:Xe.mrp||null,discount_pct:Number(Xe.discount_pct||0),cgst_rate:Number(Xe.cgst_rate||0),sgst_rate:Number(Xe.sgst_rate||0),igst_rate:Number(Xe.igst_rate||0)}));ve(at),ee(`Loaded purchase #${xe} for edit`)}catch(Re){console.error("loadInvoiceForEdit error:",Re),Z(Re.message||"Failed to load purchase invoice.")}finally{Qe(null)}}const it=Pe.useMemo(()=>{let xe=0,Re=0,lt=0;for(const at of W){const Xe=at.quantity*at.unit_cost,At=Xe*(at.discount_pct||0)/100,ct=Xe-At,Nn=(at.cgst_rate||0)+(at.sgst_rate||0)+(at.igst_rate||0),Zt=ct*Nn/100;xe+=Xe,Re+=At,lt+=Zt}const et=xe-Re,gt=et+lt;return{gross:qo(xe),discount:qo(Re),taxable:qo(et),gst:qo(lt),net:qo(gt)}},[W]);async function ft(){if(!ue){Z("Product ID is required.");return}if(!se||se<=0){Z("Unit cost must be > 0.");return}if(!a||!s||!h){Z("Branch context missing. Please login & select branch.");return}Z(null);let xe=Ne,Re=U||null,lt=0,et=0,gt=0;try{const{data:at,error:Xe}=await Qr.rpc("pos_lookup_product_by_id",{p_company_id:a,p_state_id:s,p_branch_id:h,p_product_id:ue});if(Xe)console.error("lookup product error:",Xe);else if(Array.isArray(at)&&at.length>0){const At=at[0];xe=xe||At.product_name||Ne,Re=Re||At.mrp||null,lt=Number(At.cgst_rate||0),et=Number(At.sgst_rate||0),gt=Number(At.igst_rate||0)}}catch(at){console.error("lookup RPC failed:",at)}ve(at=>[...at,{tempId:window.crypto&&crypto.randomUUID&&crypto.randomUUID()||String(Date.now())+"-"+Math.random().toString(16).slice(2),product_id:ue,product_name:xe||Ne||ue,quantity:1,unit_cost:se,mrp:Re,discount_pct:0,cgst_rate:lt,sgst_rate:et,igst_rate:gt}]),ce(""),G(""),j(0),V(0)}function Ie(xe,Re){ve(lt=>lt.map(et=>et.tempId===xe?{...et,...Re}:et))}function ot(xe){ve(Re=>Re.filter(lt=>lt.tempId!==xe))}function st(){ve([]),ee(null),Z(null),ut(null),k(""),$(new Date().toISOString().slice(0,10)),x(new Date().toISOString().slice(0,10)),z(""),Ee(""),oe("")}async function ze(){if(W.length===0){Z("No items to save.");return}if(!a||!s||!h){Z("Branch context missing. Please login & select branch.");return}if(!y){Z("Vendor is required.");return}F(!0),Z(null),ee(Je?"Updating purchase...":"Saving purchase...");const xe={company_id:a,state_id:s,branch_id:h,vendor_id:y,vendor_invoice_no:L||null,vendor_invoice_date:N||null,invoice_date:_,created_by:d,remarks:I||null,po_number:ae||null,po_date:ye||null,items:W.map(Re=>({product_id:Re.product_id,quantity:Re.quantity,unit_price:Re.unit_cost,mrp:Re.mrp,discount_pct:Re.discount_pct}))};try{let Re="pos_create_purchase_invoice",lt={p_data:xe};Je&&(Re="pos_update_purchase_invoice",lt={p_purchase_id:Je,p_data:xe});const{data:et,error:gt}=await Qr.rpc(Re,lt);if(gt)throw gt;const at=et;ee(Je?`Updated purchase_id: ${at}`:`Saved purchase_id: ${at}`),ut(at),await Y(),await Ze(at)}catch(Re){console.error(Re),Z(Re.message||"Error saving purchase invoice."),ee(null)}finally{F(!1)}}return O.jsxs("div",{style:{padding:"16px",maxWidth:"1200px",margin:"0 auto"},children:[O.jsx("h2",{style:{marginBottom:"12px"},children:Je?`Purchase Entry (Editing #${Je})`:"Purchase Entry"}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:"12px",marginBottom:"16px"},children:[O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Company ID"}),O.jsx("input",{value:a,onChange:xe=>o(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"State ID"}),O.jsx("input",{value:s,onChange:xe=>c(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Branch ID"}),O.jsx("input",{value:h,onChange:xe=>f(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Invoice Date"}),O.jsx("input",{type:"date",value:_,onChange:xe=>x(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Vendor"}),O.jsxs("select",{value:y,onChange:xe=>E(xe.target.value),style:Oa,children:[O.jsx("option",{value:"",children:"-- Select Vendor --"}),te.map(xe=>O.jsxs("option",{value:xe.vendor_id,children:[xe.vendor_id," - ",xe.vendor_name]},xe.vendor_id))]})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Vendor Inv No"}),O.jsx("input",{value:L,onChange:xe=>k(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Vendor Inv Date"}),O.jsx("input",{type:"date",value:N,onChange:xe=>$(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Created By"}),O.jsx("input",{value:d,onChange:xe=>v(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"P.O Number"}),O.jsx("input",{value:ae,onChange:xe=>Ee(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"P.O Date"}),O.jsx("input",{type:"date",value:ye||"",onChange:xe=>oe(xe.target.value),style:Oa})]}),O.jsxs("div",{style:{gridColumn:"1 / span 4"},children:[O.jsx("label",{style:Xi,children:"Remarks"}),O.jsx("input",{value:I,onChange:xe=>z(xe.target.value),style:{...Oa,width:"100%"}})]})]}),O.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"6px",padding:"8px",marginBottom:"16px"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[O.jsx("strong",{children:"Existing Purchase Invoices"}),O.jsx("button",{type:"button",onClick:Y,disabled:ke,style:{...sc,padding:"4px 10px",fontSize:"12px"},children:ke?"Loading...":"Refresh"})]}),O.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{background:"#f4f4f4"},children:[O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"ID"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"Invoice Date"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"Vendor Inv No"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"P.O No"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"P.O Date"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"},children:"Net"}),O.jsx("th",{style:{border:"1px solid #ddd",padding:"4px"}})]})}),O.jsxs("tbody",{children:[pe.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"6px",color:"#777"},children:"No purchase invoices found."})}),pe.map(xe=>O.jsxs("tr",{style:{background:Je===(xe.purchase_id||xe.id)?"#e6f3ff":"transparent"},children:[O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:xe.purchase_id||xe.id}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:xe.invoice_date?String(xe.invoice_date).slice(0,10):""}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:xe.vendor_invoice_no||""}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:xe.po_number||""}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:xe.po_date?String(xe.po_date).slice(0,10):""}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px",textAlign:"right"},children:Number(xe.net_amount||xe.net_total||0).toFixed(2)}),O.jsx("td",{style:{border:"1px solid #ddd",padding:"4px"},children:O.jsx("button",{type:"button",onClick:()=>Ze(xe.purchase_id||xe.id),disabled:Ye===(xe.purchase_id||xe.id),style:{...sc,padding:"2px 8px",fontSize:"11px"},children:Ye===(xe.purchase_id||xe.id)?"Loading...":"Edit"})})]},xe.purchase_id||xe.id))]})]})})]}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, minmax(0, 1fr))",gap:"12px",marginBottom:"16px"},children:[O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Product ID"}),O.jsx("input",{value:ue,onChange:xe=>ce(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Product Name (optional)"}),O.jsx("input",{value:Ne,onChange:xe=>G(xe.target.value),style:Oa})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"Unit Cost"}),O.jsx("input",{type:"number",step:"0.01",value:se||"",onChange:xe=>j(Number(xe.target.value)||0),style:mh})]}),O.jsxs("div",{children:[O.jsx("label",{style:Xi,children:"MRP (optional)"}),O.jsx("input",{type:"number",step:"0.5",value:U||"",onChange:xe=>V(Number(xe.target.value)||0),style:mh})]}),O.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:O.jsx("button",{type:"button",onClick:ft,style:sc,children:"Add Line"})})]}),O.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"2px 6px",marginBottom:"14px"},children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"#"}),O.jsx("th",{children:"Product"}),O.jsx("th",{children:"Qty"}),O.jsx("th",{children:"Unit Cost"}),O.jsx("th",{children:"Disc %"}),O.jsx("th",{children:"Taxable"}),O.jsx("th",{children:"Total GST %"}),O.jsx("th",{children:"GST Amt"}),O.jsx("th",{children:"Line Total"}),O.jsx("th",{})]})}),O.jsxs("tbody",{children:[W.length===0&&O.jsx("tr",{children:O.jsx("td",{colSpan:10,style:{textAlign:"center",padding:"10px"},children:"No items. Add products above."})}),W.map((xe,Re)=>{const lt=xe.quantity*xe.unit_cost,et=lt*(xe.discount_pct||0)/100,gt=lt-et,at=(xe.cgst_rate||0)+(xe.sgst_rate||0)+(xe.igst_rate||0),Xe=gt*at/100,At=gt+Xe;return O.jsxs("tr",{children:[O.jsx("td",{children:Re+1}),O.jsxs("td",{children:[xe.product_name,O.jsx("div",{style:{fontSize:"0.8em",color:"#666"},children:xe.product_id})]}),O.jsx("td",{children:O.jsx("input",{type:"number",min:0,step:1,value:xe.quantity,onChange:ct=>Ie(xe.tempId,{quantity:Number(ct.target.value)||0}),style:mh})}),O.jsx("td",{children:O.jsx("input",{type:"number",step:"0.01",value:xe.unit_cost,onChange:ct=>Ie(xe.tempId,{unit_cost:Number(ct.target.value)||0}),style:mh})}),O.jsx("td",{children:O.jsx("input",{type:"number",step:"0.1",value:xe.discount_pct,onChange:ct=>Ie(xe.tempId,{discount_pct:Number(ct.target.value)||0}),style:mh})}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:qo(gt).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:qo(at).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:qo(Xe).toFixed(2)}),O.jsx("td",{style:{textAlign:"right",paddingRight:"4px"},children:qo(At).toFixed(2)}),O.jsx("td",{children:O.jsx("button",{type:"button",onClick:()=>ot(xe.tempId),style:sc,children:""})})]},xe.tempId)})]})]}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px",marginBottom:"8px"},children:[O.jsxs("div",{children:[O.jsx("button",{type:"button",onClick:ze,disabled:D||W.length===0,style:sc,children:D?Je?"Updating...":"Saving...":Je?"Update Purchase":"Save Purchase"})," ",O.jsx("button",{type:"button",onClick:st,style:sc,children:"Clear"})]}),O.jsxs("div",{style:{textAlign:"right",minWidth:"260px"},children:[O.jsxs("div",{children:["Gross: ",it.gross.toFixed(2)]}),O.jsxs("div",{children:["Discount: ",it.discount.toFixed(2)]}),O.jsxs("div",{children:["Taxable: ",it.taxable.toFixed(2)]}),O.jsxs("div",{children:["Approx GST: ",it.gst.toFixed(2)]}),O.jsx("div",{children:O.jsxs("strong",{children:["Net: ",it.net.toFixed(2)]})}),O.jsx("div",{style:{fontSize:"0.8em",color:"#555"},children:"(Final GST & Net still calculated in DB)"})]})]}),Q&&O.jsx("div",{style:{color:"green"},children:Q}),be&&O.jsx("div",{style:{color:"red"},children:be})]})}function k6(){const r=new Date().toISOString().slice(0,10),[e,n]=Pe.useState("sales"),[a,o]=Pe.useState(r),[s,c]=Pe.useState(r),[h,f]=Pe.useState([]),[d,v]=Pe.useState("");async function _(){if(v(""),!a||!s){v("Please choose both From and To dates."),f([]);return}if(a>s){v("From date cannot be after To date."),f([]);return}f([{id:1,name:e==="sales"?"Sample Sales Row":e==="purchases"?"Sample Purchase Row":"Sample Inventory Row",amount:0,notes:"Connect Supabase report function next"}])}const x=e==="sales"?"Sales":e==="purchases"?"Purchases":"Inventory";return O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"rounded-2xl border p-4 grid grid-cols-12 gap-3",children:[O.jsxs("div",{className:"col-span-3",children:[O.jsx("label",{className:"text-xs text-gray-600",children:"Report Type"}),O.jsxs("select",{className:"w-full rounded border px-2 py-2",value:e,onChange:y=>n(y.target.value),children:[O.jsx("option",{value:"sales",children:"Sales by Date"}),O.jsx("option",{value:"purchases",children:"Purchases by Date"}),O.jsx("option",{value:"inventory",children:"Inventory Snapshot"})]})]}),O.jsxs("div",{className:"col-span-3",children:[O.jsx("label",{className:"text-xs text-gray-600",children:"From"}),O.jsx("input",{type:"date",className:"w-full rounded border px-2 py-2",value:a,onChange:y=>o(y.target.value)})]}),O.jsxs("div",{className:"col-span-3",children:[O.jsx("label",{className:"text-xs text-gray-600",children:"To"}),O.jsx("input",{type:"date",className:"w-full rounded border px-2 py-2",value:s,onChange:y=>c(y.target.value)})]}),O.jsx("div",{className:"col-span-3 flex items-end",children:O.jsx("button",{className:"w-full rounded-xl border px-3 py-2",onClick:_,children:"Run"})})]}),d&&O.jsx("div",{className:"text-sm text-red-600 px-1",children:d}),O.jsxs("div",{className:"rounded-2xl border overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b font-semibold",children:[x," Report"]}),O.jsx("div",{className:"overflow-auto",children:O.jsxs("table",{className:"min-w-full text-sm",children:[O.jsx("thead",{className:"bg-gray-50",children:O.jsxs("tr",{className:"text-left",children:[O.jsx("th",{className:"p-2 w-20",children:"#"}),O.jsx("th",{className:"p-2",children:"Name"}),O.jsx("th",{className:"p-2 w-28 text-right",children:"Amount"}),O.jsx("th",{className:"p-2",children:"Notes"})]})}),O.jsx("tbody",{children:h.length===0?O.jsx("tr",{children:O.jsx("td",{className:"p-6 text-center text-gray-500",colSpan:4,children:"No data yet. Choose filters and click Run."})}):h.map((y,E)=>O.jsxs("tr",{className:"border-t",children:[O.jsx("td",{className:"p-2",children:y.id??E+1}),O.jsx("td",{className:"p-2",children:y.name}),O.jsx("td",{className:"p-2 text-right",children:typeof y.amount=="number"?y.amount.toFixed(2):y.amount}),O.jsx("td",{className:"p-2",children:y.notes})]},y.id??E))})]})})]})]})}const E0=window.__RENGAA_DBG__;class C6 extends jm.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("[ErrorBoundary] AuthAndBranch crashed",{error:e,info:n})}render(){return this.state.error?O.jsxs("div",{className:"m-4 rounded-lg border border-red-300 bg-red-50 p-3 text-sm text-red-800",children:[O.jsx("div",{className:"font-semibold",children:"AuthAndBranch crashed"}),O.jsxs("div",{className:"mt-1",children:["Error: ",String(this.state.error?.message||this.state.error)]}),O.jsx("div",{className:"mt-1 text-gray-600",children:"Check console for stack trace."})]}):this.props.children}}function R6({current:r,onSelect:e}){const[n,a]=Pe.useState(!1),o=Pe.useRef(null);Pe.useEffect(()=>{function h(f){o.current&&(o.current.contains(f.target)||a(!1))}return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[]);const s=[{key:"billing",label:"Billing",icon:J3},{key:"reports",label:"Reports",icon:Y3},{key:"purinv",label:"Purchase Invoice",icon:Q3},{key:"inventory",label:"Inventory",icon:H3}],c=s.find(h=>h.key===r)||s[0];return O.jsx("div",{className:"w-full bg-gray-50 border-b",children:O.jsx("div",{className:"max-w-6xl mx-auto px-4 py-2",children:O.jsxs("div",{className:"relative inline-block",ref:o,children:[O.jsxs("button",{className:"inline-flex items-center gap-2 rounded-xl border bg-white px-3 py-1.5 text-sm font-medium hover:bg-gray-50",onClick:()=>a(h=>!h),children:[O.jsx(c.icon,{className:"size-4"}),c.label,O.jsx(K3,{className:"size-4"})]}),n&&O.jsx("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border bg-white shadow-lg overflow-hidden",role:"menu",children:s.map(({key:h,label:f,icon:d})=>O.jsxs("button",{className:`flex w-full items-center gap-2 px-3 py-2 text-left text-sm hover:bg-gray-100 ${r===h?"bg-gray-50":""}`,onClick:()=>{e(h),a(!1)},children:[O.jsx(d,{className:"size-4"}),O.jsx("span",{children:f})]},h))})]})})})}function N0({state:r,onReset:e}){return null}function D6(){return O.jsx("div",{className:"text-sm text-gray-700",children:"Inventory screen  to be implemented."})}function P6(){const{session:r,ready:e,logout:n,token:a}=jh(),o=e??!0,[s,c]=Pe.useState("billing"),h=Pe.useRef(0);h.current+=1;const f=(typeof a=="string"?a:null)??(typeof r?.token=="string"?r.token:null)??localStorage.getItem("rengaa_token")??"",d=r?.user||null,v=typeof f=="string"&&f.trim()!==""&&f!=="null"&&f!=="undefined",_=!!(d?.user_id&&d?.company_id),x=v&&_,y=!!r?.branch?.branch_id,E=v?`${f.slice(0,4)}${f.slice(-4)}`:"",L=Pe.useMemo(()=>({ready:o,hasToken:v,hasUserCore:_,isAuthed:x,hasBranch:y,tokenPreview:E,userId:d?.user_id,companyId:d?.company_id}),[o,v,_,x,y,E,d?.user_id,d?.company_id]);Pe.useEffect(()=>{window.__rengaa={get session(){return r},clear(){try{localStorage.removeItem("rengaa_session")}catch{}try{localStorage.removeItem("rengaa_token")}catch{}try{n?.()}catch{}location.reload()}}},[r,n]),Pe.useEffect(()=>{console.log(`[App render #${h.current}]`,{ready:o,hasToken:v,hasUserCore:_,isAuthed:x,hasBranch:y,user_id:d?.user_id,company_id:d?.company_id,branch_id:r?.branch?.branch_id})});const k=Pe.useRef({});Pe.useEffect(()=>{const $={ready:o,hasToken:v,hasUserCore:_,isAuthed:x,hasBranch:y},I=Object.entries($).filter(([z,ae])=>k.current[z]!==ae);I.length&&(console.log("[App flags changed]",Object.fromEntries(I)),k.current=$)},[o,v,_,x,y]);function N(){try{localStorage.removeItem("rengaa_session")}catch{}try{localStorage.removeItem("rengaa_token")}catch{}try{n?.()}catch{}location.reload()}if(!o)return console.log("[Gate 0] Not ready yet  render nothing (avoid flicker)."),O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Loading"}),E0&&O.jsx(N0,{state:L,onReset:N})]});if(!x||!y){const $=[];return v||$.push("no token"),v&&!_&&$.push("missing user core fields"),x&&!y&&$.push("no branch selected"),console.log("[Gate 1] Show AuthAndBranch",{reasons:$,session:r}),O.jsxs(O.Fragment,{children:[O.jsx(C6,{children:O.jsx(e4,{})}),E0&&O.jsx(N0,{state:L,onReset:N})]})}return console.log("[Gate 2] Enter main app."),O.jsxs("div",{className:"min-h-screen flex flex-col",children:[O.jsx(P3,{}),O.jsx(R6,{current:s,onSelect:c}),O.jsxs("main",{className:"flex-1 max-w-6xl mx-auto w-full p-4",children:[s==="billing"&&O.jsx(L6,{}),s==="reports"&&O.jsx(k6,{}),s==="purinv"&&O.jsx(j6,{}),s==="inventory"&&O.jsx(D6,{})]}),E0&&O.jsx(N0,{state:L,onReset:N})]})}window.__RENGAA_DBG__=!1;vw.createRoot(document.getElementById("root")).render(O.jsx(jm.StrictMode,{children:O.jsx(L3,{children:O.jsx(P6,{})})}));export{Rn as _,M6 as c,i1 as g};
